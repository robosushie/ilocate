(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[708],{7682:function(t,e,r){"use strict";r.d(e,{BH:function(){return m},L:function(){return l},LL:function(){return O},Pz:function(){return y},ZR:function(){return _},aH:function(){return v},b$:function(){return P},eu:function(){return S},hl:function(){return w},m9:function(){return N},ne:function(){return R},pd:function(){return I},q4:function(){return g},ru:function(){return E},tV:function(){return c},uI:function(){return x},vZ:function(){return function t(e,r){if(e===r)return!0;let n=Object.keys(e),o=Object.keys(r);for(let i of n){if(!o.includes(i))return!1;let n=e[i],a=r[i];if(C(n)&&C(a)){if(!t(n,a))return!1}else if(n!==a)return!1}for(let t of o)if(!n.includes(t))return!1;return!0}},w1:function(){return M},xO:function(){return k},xb:function(){return A},z$:function(){return b},zd:function(){return L}});var n=r(4602);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o=function(t){let e=[],r=0;for(let n=0;n<t.length;n++){let o=t.charCodeAt(n);o<128?e[r++]=o:(o<2048?e[r++]=o>>6|192:((64512&o)==55296&&n+1<t.length&&(64512&t.charCodeAt(n+1))==56320?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++n)),e[r++]=o>>18|240,e[r++]=o>>12&63|128):e[r++]=o>>12|224,e[r++]=o>>6&63|128),e[r++]=63&o|128)}return e},i=function(t){let e=[],r=0,n=0;for(;r<t.length;){let o=t[r++];if(o<128)e[n++]=String.fromCharCode(o);else if(o>191&&o<224){let i=t[r++];e[n++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){let i=t[r++],a=t[r++],s=t[r++],u=((7&o)<<18|(63&i)<<12|(63&a)<<6|63&s)-65536;e[n++]=String.fromCharCode(55296+(u>>10)),e[n++]=String.fromCharCode(56320+(1023&u))}else{let i=t[r++],a=t[r++];e[n++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&a)}}return e.join("")},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let e=0;e<t.length;e+=3){let o=t[e],i=e+1<t.length,a=i?t[e+1]:0,s=e+2<t.length,u=s?t[e+2]:0,l=o>>2,c=(3&o)<<4|a>>4,f=(15&a)<<2|u>>6,h=63&u;s||(h=64,i||(f=64)),n.push(r[l],r[c],r[f],r[h])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):i(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let e=0;e<t.length;){let o=r[t.charAt(e++)],i=e<t.length,a=i?r[t.charAt(e)]:0;++e;let u=e<t.length,l=u?r[t.charAt(e)]:64;++e;let c=e<t.length,f=c?r[t.charAt(e)]:64;if(++e,null==o||null==a||null==l||null==f)throw new s;let h=o<<2|a>>4;if(n.push(h),64!==l){let t=a<<4&240|l>>2;if(n.push(t),64!==f){let t=l<<6&192|f;n.push(t)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class s extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}let u=function(t){let e=o(t);return a.encodeByteArray(e,!0)},l=function(t){return u(t).replace(/\./g,"")},c=function(t){try{return a.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null},f=()=>/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw Error("Unable to locate global object.")})().__FIREBASE_DEFAULTS__,h=()=>{if(void 0===n||void 0===n.env)return;let t=n.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},p=()=>{let t;if("undefined"==typeof document)return;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}let e=t&&c(t[1]);return e&&JSON.parse(e)},d=()=>{try{return f()||h()||p()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},g=t=>{var e,r;return null===(r=null===(e=d())||void 0===e?void 0:e.emulatorHosts)||void 0===r?void 0:r[t]},v=()=>{var t;return null===(t=d())||void 0===t?void 0:t.config},y=t=>{var e;return null===(e=d())||void 0===e?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function x(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(b())}function E(){let t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function P(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function M(){let t=b();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function w(){try{return"object"==typeof indexedDB}catch(t){return!1}}function S(){return new Promise((t,e)=>{try{let r=!0,n="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(n);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{var t;e((null===(t=o.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}})}class _ extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,_.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,O.prototype.create)}}class O{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){let r=e[0]||{},n=`${this.service}/${t}`,o=this.errors[t],i=o?o.replace(j,(t,e)=>{let n=r[e];return null!=n?String(n):`<${e}?>`}):"Error",a=`${this.serviceName}: ${i} (${n}).`,s=new _(n,a,r);return s}}let j=/\{\$([^}]+)}/g;function A(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function C(t){return null!==t&&"object"==typeof t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k(t){let e=[];for(let[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(t=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(t))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function L(t){let e={},r=t.replace(/^\?/,"").split("&");return r.forEach(t=>{if(t){let[r,n]=t.split("=");e[decodeURIComponent(r)]=decodeURIComponent(n)}}),e}function I(t){let e=t.indexOf("?");if(!e)return"";let r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function R(t,e){let r=new T(t,e);return r.subscribe.bind(r)}class T{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(t=>{this.error(t)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let n;if(void 0===t&&void 0===e&&void 0===r)throw Error("Missing Observer.");void 0===(n=!function(t,e){if("object"!=typeof t||null===t)return!1;for(let r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(t,["next","error","complete"])?{next:t,error:e,complete:r}:t).next&&(n.next=D),void 0===n.error&&(n.error=D),void 0===n.complete&&(n.complete=D);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?n.error(this.finalError):n.complete()}catch(t){}}),this.observers.push(n),o}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function D(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N(t){return t&&t._delegate?t._delegate:t}},8168:function(t){"use strict";var e={};function r(t){return Math.floor(Math.abs(t)+.5)*(t>=0?1:-1)}function n(t,e,n){var o=((t=r(t*n))-(e=r(e*n)))*2;o<0&&(o=-o-1);for(var i="";o>=32;)i+=String.fromCharCode((32|31&o)+63),o/=32;return i+String.fromCharCode((0|o)+63)}function o(t){for(var e=[],r=0;r<t.length;r++){var n=t[r].slice();e.push([n[1],n[0]])}return e}e.decode=function(t,e){for(var r,n,o=0,i=0,a=0,s=[],u=0,l=0,c=null,f=Math.pow(10,Number.isInteger(e)?e:5);o<t.length;){c=null,u=1,l=0;do l+=(31&(c=t.charCodeAt(o++)-63))*u,u*=32;while(c>=32);r=1&l?(-l-1)/2:l/2,u=1,l=0;do l+=(31&(c=t.charCodeAt(o++)-63))*u,u*=32;while(c>=32);n=1&l?(-l-1)/2:l/2,i+=r,a+=n,s.push([i/f,a/f])}return s},e.encode=function(t,e){if(!t.length)return"";for(var r=Math.pow(10,Number.isInteger(e)?e:5),o=n(t[0][0],0,r)+n(t[0][1],0,r),i=1;i<t.length;i++){var a=t[i],s=t[i-1];o+=n(a[0],s[0],r)+n(a[1],s[1],r)}return o},e.fromGeoJSON=function(t,r){if(t&&"Feature"===t.type&&(t=t.geometry),!t||"LineString"!==t.type)throw Error("Input must be a GeoJSON LineString");return e.encode(o(t.coordinates),r)},e.toGeoJSON=function(t,r){var n=e.decode(t,r);return{type:"LineString",coordinates:o(n)}},t.exports&&(t.exports=e)},7897:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(8732)),i=n(r(4091)),a=n(r(8633)),s=r(1719),u=r(2258);e.default=function(t,e,r){void 0===r&&(r={});for(var n=u.getGeom(t).coordinates,l=0,c=0;c<n.length&&(!(e>=l)||c!==n.length-1);c++){if(l>=e){var f=e-l;if(!f)return s.point(n[c]);var h=o.default(n[c],n[c-1])-180;return i.default(n[c],f,h,r)}l+=a.default(n[c],n[c+1],r)}return s.point(n[n.length-1])}},9345:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(8732)),i=r(1719),a=n(r(4353));e.default=function(t,e,r,n){if(void 0===n&&(n={}),!i.isObject(n))throw Error("options is invalid");if(!t)throw Error("startPoint is required");if(!e)throw Error("midPoint is required");if(!r)throw Error("endPoint is required");var s=Math.abs(i.bearingToAzimuth(!0!==n.mercator?o.default(t,e):a.default(t,e))-i.bearingToAzimuth(!0!==n.mercator?o.default(r,e):a.default(r,e)));return!0===n.explementary?360-s:s}},1377:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(9163);function o(t){var e=0;if(t&&t.length>0){e+=Math.abs(i(t[0]));for(var r=1;r<t.length;r++)e-=Math.abs(i(t[r]))}return e}function i(t){var e,r,n,o,i,s,u=0,l=t.length;if(l>2){for(s=0;s<l;s++)s===l-2?(n=l-2,o=l-1,i=0):s===l-1?(n=l-1,o=0,i=1):(n=s,o=s+1,i=s+2),e=t[n],r=t[o],u+=(a(t[i][0])-a(e[0]))*Math.sin(a(r[1]));u=40680631590769*u/2}return u}function a(t){return t*Math.PI/180}e.default=function(t){return n.geomReduce(t,function(t,e){return t+function(t){var e,r=0;switch(t.type){case"Polygon":return o(t.coordinates);case"MultiPolygon":for(e=0;e<t.coordinates.length;e++)r+=o(t.coordinates[e]);return r}return 0}(e)},0)}},7027:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1719),o=r(2258),i=r(8974);function a(t,e){for(var r=[],n=0;n<t.length;n++){var o=t[n],a=i.polygonclip(o,e);a.length>0&&((a[0][0]!==a[a.length-1][0]||a[0][1]!==a[a.length-1][1])&&a.push(a[0]),a.length>=4&&r.push(a))}return r}e.default=function(t,e){var r=o.getGeom(t),s=r.type,u="Feature"===t.type?t.properties:{},l=r.coordinates;switch(s){case"LineString":case"MultiLineString":var c=[];if("LineString"===s&&(l=[l]),l.forEach(function(t){i.lineclip(t,e,c)}),1===c.length)return n.lineString(c[0],u);return n.multiLineString(c,u);case"Polygon":return n.polygon(a(l,e),u);case"MultiPolygon":return n.multiPolygon(l.map(function(t){return a(t,e)}),u);default:throw Error("geometry "+s+" not supported")}}},8974:function(t,e){"use strict";function r(t,e,r,n){return 8&r?[t[0]+(e[0]-t[0])*(n[3]-t[1])/(e[1]-t[1]),n[3]]:4&r?[t[0]+(e[0]-t[0])*(n[1]-t[1])/(e[1]-t[1]),n[1]]:2&r?[n[2],t[1]+(e[1]-t[1])*(n[2]-t[0])/(e[0]-t[0])]:1&r?[n[0],t[1]+(e[1]-t[1])*(n[0]-t[0])/(e[0]-t[0])]:null}function n(t,e){var r=0;return t[0]<e[0]?r|=1:t[0]>e[2]&&(r|=2),t[1]<e[1]?r|=4:t[1]>e[3]&&(r|=8),r}Object.defineProperty(e,"__esModule",{value:!0}),e.lineclip=function(t,e,o){var i,a,s,u,l,c=t.length,f=n(t[0],e),h=[];for(o||(o=[]),s=1;s<c;s++){for(i=t[s-1],u=l=n(a=t[s],e);;)if(f|u){if(f&u)break;f?f=n(i=r(i,a,f,e),e):u=n(a=r(i,a,u,e),e)}else{h.push(i),u!==l?(h.push(a),s<c-1&&(o.push(h),h=[])):s===c-1&&h.push(a);break}f=l}return h.length&&o.push(h),o},e.polygonclip=function(t,e){var o,i,a,s,u,l,c;for(i=1;i<=8;i*=2){for(u=0,o=[],s=!(n(a=t[t.length-1],e)&i);u<t.length;u++)(c=!(n(l=t[u],e)&i))!==s&&o.push(r(a,l,i,e)),c&&o.push(l),a=l,s=c;if(!(t=o).length)break}return o}},2216:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1719);e.default=function(t,e){void 0===e&&(e={});var r=Number(t[0]),o=Number(t[1]),i=Number(t[2]),a=Number(t[3]);if(6===t.length)throw Error("@turf/bbox-polygon does not support BBox with 6 positions");var s=[r,o],u=[r,a],l=[i,a],c=[i,o];return n.polygon([[s,c,l,u,s]],e.properties,{bbox:t,id:e.id})}},4635:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(9163);function o(t){var e=[1/0,1/0,-1/0,-1/0];return n.coordEach(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}o.default=o,e.default=o},8732:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1719),o=r(2258);e.default=function t(e,r,i){if(void 0===i&&(i={}),!0===i.final){var a;return(t(r,e)+180)%360}var s=o.getCoord(e),u=o.getCoord(r),l=n.degreesToRadians(s[0]),c=n.degreesToRadians(u[0]),f=n.degreesToRadians(s[1]),h=n.degreesToRadians(u[1]);return n.radiansToDegrees(Math.atan2(Math.sin(c-l)*Math.cos(h),Math.cos(f)*Math.sin(h)-Math.sin(f)*Math.cos(h)*Math.cos(c-l)))}},4793:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(1719),i=r(2258),a=n(r(9035));e.default=function(t,e){void 0===e&&(e={});for(var r=e.resolution||1e4,n=e.sharpness||.85,s=[],u=i.getGeom(t).coordinates.map(function(t){return{x:t[0],y:t[1]}}),l=new a.default({duration:r,points:u,sharpness:n}),c=function(t){var e=l.pos(t);Math.floor(t/100)%2==0&&s.push([e.x,e.y])},f=0;f<l.duration;f+=10)c(f);return c(l.duration),o.lineString(s,e.properties)}},9035:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});/**
 * BezierSpline
 * https://github.com/leszekr/bezier-spline-js
 *
 * @private
 * @copyright
 * Copyright (c) 2013 Leszek Rybicki
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */var r=function(){function t(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(var e=0;e<this.length-1;e++){var r=this.points[e],n=this.points[e+1];this.centers.push({x:(r.x+n.x)/2,y:(r.y+n.y)/2,z:(r.z+n.z)/2})}this.controls.push([this.points[0],this.points[0]]);for(var e=0;e<this.centers.length-1;e++){var o=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,i=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,a=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+o),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+i),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+a)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+o),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+i),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+a)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}return t.prototype.cacheSteps=function(t){var e=[],r=this.pos(0);e.push(0);for(var n=0;n<this.duration;n+=10){var o=this.pos(n);Math.sqrt((o.x-r.x)*(o.x-r.x)+(o.y-r.y)*(o.y-r.y)+(o.z-r.z)*(o.z-r.z))>t&&(e.push(n),r=o)}return e},t.prototype.vector=function(t){var e=this.pos(t+10),r=this.pos(t-10);return{angle:180*Math.atan2(e.y-r.y,e.x-r.x)/3.14,speed:Math.sqrt((r.x-e.x)*(r.x-e.x)+(r.y-e.y)*(r.y-e.y)+(r.z-e.z)*(r.z-e.z))}},t.prototype.pos=function(t){var e,r,n,o,i,a,s,u=t-this.delay;u<0&&(u=0),u>this.duration&&(u=this.duration-1);var l=u/this.duration;if(l>=1)return this.points[this.length-1];var c=Math.floor((this.points.length-1)*l);return e=(this.length-1)*l-c,r=this.points[c],n=this.controls[c][1],o=this.controls[c+1][0],i=this.points[c+1],s=[(a=e*e)*e,3*a*(1-e),3*e*(1-e)*(1-e),(1-e)*(1-e)*(1-e)],{x:i.x*s[0]+o.x*s[1]+n.x*s[2]+r.x*s[3],y:i.y*s[0]+o.y*s[1]+n.y*s[2]+r.y*s[3],z:i.z*s[0]+o.z*s[1]+n.z*s[2]+r.z*s[3]}},t}();e.default=r},5511:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2258);e.default=function(t){for(var e,r,o=n.getCoords(t),i=0,a=1;a<o.length;)e=r||o[0],i+=((r=o[a])[0]-e[0])*(r[1]+e[1]),a++;return i>0}},8693:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(4635)),i=n(r(5991)),a=n(r(5353)),s=r(2258);function u(t,e){var r,n=!1;for(r=0;r<t.coordinates.length;r++)if(v(t.coordinates[r],e.coordinates)){n=!0;break}return n}function l(t,e){for(var r=0,n=e.coordinates;r<n.length;r++){for(var o=n[r],i=!1,a=0,s=t.coordinates;a<s.length;a++)if(v(o,s[a])){i=!0;break}if(!i)return!1}return!0}function c(t,e){for(var r=!1,n=0,o=e.coordinates;n<o.length;n++){var i=o[n];if(a.default(i,t,{ignoreEndVertices:!0})&&(r=!0),!a.default(i,t))return!1}return!!r}function f(t,e){for(var r=0,n=e.coordinates;r<n.length;r++){var o=n[r];if(!i.default(o,t,{ignoreBoundary:!0}))return!1}return!0}function h(t,e){for(var r=!1,n=0,o=e.coordinates;n<o.length;n++){var i=o[n];if(a.default({type:"Point",coordinates:i},t,{ignoreEndVertices:!0})&&(r=!0),!a.default({type:"Point",coordinates:i},t,{ignoreEndVertices:!1}))return!1}return r}function p(t,e){var r=!1,n=0;if(!g(o.default(t),o.default(e)))return!1;for(;n<e.coordinates.length-1;n++){var a=y(e.coordinates[n],e.coordinates[n+1]);if(i.default({type:"Point",coordinates:a},t,{ignoreBoundary:!0})){r=!0;break}}return r}function d(t,e){if("Feature"===t.type&&null===t.geometry||"Feature"===e.type&&null===e.geometry||!g(o.default(t),o.default(e)))return!1;for(var r=s.getGeom(e).coordinates,n=0;n<r.length;n++)for(var a=r[n],u=0;u<a.length;u++){var l=a[u];if(!i.default(l,t))return!1}return!0}function g(t,e){return!(t[0]>e[0])&&!(t[2]<e[2])&&!(t[1]>e[1])&&!(t[3]<e[3])}function v(t,e){return t[0]===e[0]&&t[1]===e[1]}function y(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}e.default=function(t,e){var r=s.getGeom(t),n=s.getGeom(e),o=r.type,g=n.type,y=r.coordinates,m=n.coordinates;switch(o){case"Point":if("Point"===g)return v(y,m);throw Error("feature2 "+g+" geometry not supported");case"MultiPoint":switch(g){case"Point":return u(r,n);case"MultiPoint":return l(r,n);default:throw Error("feature2 "+g+" geometry not supported")}case"LineString":switch(g){case"Point":return a.default(n,r,{ignoreEndVertices:!0});case"LineString":return h(r,n);case"MultiPoint":return c(r,n);default:throw Error("feature2 "+g+" geometry not supported")}case"Polygon":switch(g){case"Point":return i.default(n,r,{ignoreBoundary:!0});case"LineString":return p(r,n);case"Polygon":return d(r,n);case"MultiPoint":return f(r,n);default:throw Error("feature2 "+g+" geometry not supported")}default:throw Error("feature1 "+o+" geometry not supported")}},e.isPointInMultiPoint=u,e.isMultiPointInMultiPoint=l,e.isMultiPointOnLine=c,e.isMultiPointInPoly=f,e.isLineOnLine=h,e.isLineInPoly=p,e.isPolyInPoly=d,e.doBBoxOverlap=g,e.compareCoords=v,e.getMidpoint=y},9334:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(6509)),i=r(6831),a=n(r(5991)),s=r(2258),u=r(1719);function l(t,e){for(var r=!1,n=!1,o=t.coordinates.length,i=0;i<o&&!r&&!n;){for(var a=0;a<e.coordinates.length-1;a++){var s=!0;(0===a||a===e.coordinates.length-2)&&(s=!1),h(e.coordinates[a],e.coordinates[a+1],t.coordinates[i],s)?r=!0:n=!0}i++}return r&&n}function c(t,e){var r=i.polygonToLine(e);return o.default(t,r).features.length>0}function f(t,e){for(var r=!1,n=!1,o=t.coordinates.length,i=0;i<o&&(!r||!n);i++)a.default(u.point(t.coordinates[i]),e)?r=!0:n=!0;return n&&r}function h(t,e,r,n){var o=r[0]-t[0],i=r[1]-t[1],a=e[0]-t[0],s=e[1]-t[1];return 0==o*s-i*a&&(n?Math.abs(a)>=Math.abs(s)?a>0?t[0]<=r[0]&&r[0]<=e[0]:e[0]<=r[0]&&r[0]<=t[0]:s>0?t[1]<=r[1]&&r[1]<=e[1]:e[1]<=r[1]&&r[1]<=t[1]:Math.abs(a)>=Math.abs(s)?a>0?t[0]<r[0]&&r[0]<e[0]:e[0]<r[0]&&r[0]<t[0]:s>0?t[1]<r[1]&&r[1]<e[1]:e[1]<r[1]&&r[1]<t[1])}e.default=function(t,e){var r=s.getGeom(t),n=s.getGeom(e),i=r.type,a=n.type;switch(i){case"MultiPoint":switch(a){case"LineString":return l(r,n);case"Polygon":return f(r,n);default:throw Error("feature2 "+a+" geometry not supported")}case"LineString":switch(a){case"MultiPoint":return l(n,r);case"LineString":return function(t,e){if(o.default(t,e).features.length>0)for(var r=0;r<t.coordinates.length-1;r++)for(var n=0;n<e.coordinates.length-1;n++){var i=!0;if((0===n||n===e.coordinates.length-2)&&(i=!1),h(t.coordinates[r],t.coordinates[r+1],e.coordinates[n],i))return!0}return!1}(r,n);case"Polygon":return c(r,n);default:throw Error("feature2 "+a+" geometry not supported")}case"Polygon":switch(a){case"MultiPoint":return f(n,r);case"LineString":return c(n,r);default:throw Error("feature2 "+a+" geometry not supported")}default:throw Error("feature1 "+i+" geometry not supported")}}},9854:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(5991)),i=n(r(6509)),a=r(9163),s=n(r(6831));function u(t,e){for(var r=0;r<t.coordinates.length-1;r++)if(function(t,e,r){var n=r[0]-t[0],o=r[1]-t[1],i=e[0]-t[0],a=e[1]-t[1];return 0==n*a-o*i&&(Math.abs(i)>=Math.abs(a)?i>0?t[0]<=r[0]&&r[0]<=e[0]:e[0]<=r[0]&&r[0]<=t[0]:a>0?t[1]<=r[1]&&r[1]<=e[1]:e[1]<=r[1]&&r[1]<=t[1])}(t.coordinates[r],t.coordinates[r+1],e.coordinates))return!0;return!1}function l(t,e){for(var r=0,n=e.coordinates;r<n.length;r++){var a=n[r];if(o.default(a,t))return!0}return i.default(e,s.default(t)).features.length>0}e.default=function(t,e){var r=!0;return a.flattenEach(t,function(t){a.flattenEach(e,function(e){if(!1===r)return!1;r=function(t,e){var r,n;switch(t.type){case"Point":switch(e.type){case"Point":return r=t.coordinates,n=e.coordinates,r[0]!==n[0]||r[1]!==n[1];case"LineString":return!u(e,t);case"Polygon":return!o.default(t,e)}break;case"LineString":switch(e.type){case"Point":return!u(t,e);case"LineString":return!(i.default(t,e).features.length>0);case"Polygon":return!l(e,t)}break;case"Polygon":switch(e.type){case"Point":return!o.default(e,t);case"LineString":return!l(t,e);case"Polygon":return!function(t,e){for(var r=0,n=t.coordinates[0];r<n.length;r++){var a=n[r];if(o.default(a,e))return!0}for(var u=0,l=e.coordinates[0];u<l.length;u++){var c=l[u];if(o.default(c,t))return!0}return i.default(s.default(t),s.default(e)).features.length>0}(e,t)}}return!1}(t.geometry,e.geometry)})}),r}},1437:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(8892)),i=n(r(2517)),a=r(2258);e.default=function(t,e){return a.getGeom(t).type===a.getGeom(e).type&&new o.default({precision:6}).compare(i.default(t),i.default(e))}},6470:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(9854)),i=r(9163);e.default=function(t,e){var r=!1;return i.flattenEach(t,function(t){i.flattenEach(e,function(e){if(!0===r)return!0;r=!o.default(t.geometry,e.geometry)})}),r}},1729:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(9163),i=r(2258),a=n(r(5126)),s=n(r(6509)),u=n(r(8892));e.default=function(t,e){var r=i.getGeom(t),n=i.getGeom(e),l=r.type,c=n.type;if("MultiPoint"===l&&"MultiPoint"!==c||("LineString"===l||"MultiLineString"===l)&&"LineString"!==c&&"MultiLineString"!==c||("Polygon"===l||"MultiPolygon"===l)&&"Polygon"!==c&&"MultiPolygon"!==c)throw Error("features must be of the same type");if("Point"===l)throw Error("Point geometry not supported");if(new u.default({precision:6}).compare(t,e))return!1;var f=0;switch(l){case"MultiPoint":for(var h=0;h<r.coordinates.length;h++)for(var p=0;p<n.coordinates.length;p++){var d=r.coordinates[h],g=n.coordinates[p];if(d[0]===g[0]&&d[1]===g[1])return!0}return!1;case"LineString":case"MultiLineString":o.segmentEach(t,function(t){o.segmentEach(e,function(e){a.default(t,e).features.length&&f++})});break;case"Polygon":case"MultiPolygon":o.segmentEach(t,function(t){o.segmentEach(e,function(e){s.default(t,e).features.length&&f++})})}return f>0}},7381:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(2517)),i=n(r(5347)),a=n(r(4353)),s=r(1719);function u(t,e){if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw Error("Invalid GeoJSON object for "+e)}e.default=function(t,e){if(!t)throw Error("line1 is required");if(!e)throw Error("line2 is required");if("LineString"!==u(t,"line1"))throw Error("line1 must be a LineString");if("LineString"!==u(e,"line2"))throw Error("line2 must be a LineString");for(var r=i.default(o.default(t)).features,n=i.default(o.default(e)).features,l=0;l<r.length;l++){var c,f=r[l].geometry.coordinates;if(!n[l])break;if(c=n[l].geometry.coordinates,s.bearingToAzimuth(a.default(f[0],f[1]))!==s.bearingToAzimuth(a.default(c[0],c[1])))return!1}return!0}},5991:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2258);function o(t,e,r){var n=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var o=0,i=e.length-1;o<e.length;i=o++){var a=e[o][0],s=e[o][1],u=e[i][0],l=e[i][1];if(t[1]*(a-u)+s*(u-t[0])+l*(t[0]-a)==0&&(a-t[0])*(u-t[0])<=0&&(s-t[1])*(l-t[1])<=0)return!r;s>t[1]!=l>t[1]&&t[0]<(u-a)*(t[1]-s)/(l-s)+a&&(n=!n)}return n}e.default=function(t,e,r){if(void 0===r&&(r={}),!t)throw Error("point is required");if(!e)throw Error("polygon is required");var i=n.getCoord(t),a=n.getGeom(e),s=a.type,u=e.bbox,l=a.coordinates;if(u&&!1==(u[0]<=i[0]&&u[1]<=i[1]&&u[2]>=i[0]&&u[3]>=i[1]))return!1;"Polygon"===s&&(l=[l]);for(var c=!1,f=0;f<l.length&&!c;f++)if(o(i,l[f][0],r.ignoreBoundary)){for(var h=!1,p=1;p<l[f].length&&!h;)o(i,l[f][p],!r.ignoreBoundary)&&(h=!0),p++;h||(c=!0)}return c}},5353:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2258);e.default=function(t,e,r){void 0===r&&(r={});for(var o=n.getCoord(t),i=n.getCoords(e),a=0;a<i.length-1;a++){var s=!1;if(r.ignoreEndVertices&&(0===a&&(s="start"),a===i.length-2&&(s="end"),0===a&&a+1===i.length-1&&(s="both")),function(t,e,r,n,o){var i=r[0],a=r[1],s=t[0],u=t[1],l=e[0],c=e[1],f=r[0]-s,h=r[1]-u,p=l-s,d=c-u,g=f*d-h*p;if(null!==o){if(Math.abs(g)>o)return!1}else if(0!==g)return!1;return n?"start"===n?Math.abs(p)>=Math.abs(d)?p>0?s<i&&i<=l:l<=i&&i<s:d>0?u<a&&a<=c:c<=a&&a<u:"end"===n?Math.abs(p)>=Math.abs(d)?p>0?s<=i&&i<l:l<i&&i<=s:d>0?u<=a&&a<c:c<a&&a<=u:"both"===n&&(Math.abs(p)>=Math.abs(d)?p>0?s<i&&i<l:l<i&&i<s:d>0?u<a&&a<c:c<a&&a<u):Math.abs(p)>=Math.abs(d)?p>0?s<=i&&i<=l:l<=i&&i<=s:d>0?u<=a&&a<=c:c<=a&&a<=u}(i[a],i[a+1],o,s,void 0===r.epsilon?null:r.epsilon))return!0}return!1}},3134:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(4635)),i=n(r(5353)),a=n(r(5991)),s=r(2258);function u(t,e){return!(t[0]>e[0])&&!(t[2]<e[2])&&!(t[1]>e[1])&&!(t[3]<e[3])}function l(t,e){return t[0]===e[0]&&t[1]===e[1]}e.default=function(t,e){var r=s.getGeom(t),n=s.getGeom(e),c=r.type,f=n.type;switch(c){case"Point":switch(f){case"MultiPoint":return function(t,e){var r,n=!1;for(r=0;r<e.coordinates.length;r++)if(l(e.coordinates[r],t.coordinates)){n=!0;break}return n}(r,n);case"LineString":return i.default(r,n,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return a.default(r,n,{ignoreBoundary:!0});default:throw Error("feature2 "+f+" geometry not supported")}case"MultiPoint":switch(f){case"MultiPoint":return function(t,e){for(var r=0;r<t.coordinates.length;r++){for(var n=!1,o=0;o<e.coordinates.length;o++)l(t.coordinates[r],e.coordinates[o])&&(n=!0);if(!n)return!1}return!0}(r,n);case"LineString":return function(t,e){for(var r=!1,n=0;n<t.coordinates.length;n++){if(!i.default(t.coordinates[n],e))return!1;r||(r=i.default(t.coordinates[n],e,{ignoreEndVertices:!0}))}return r}(r,n);case"Polygon":case"MultiPolygon":return function(t,e){for(var r=!0,n=!1,o=0;o<t.coordinates.length;o++){if(!(n=a.default(t.coordinates[1],e))){r=!1;break}n=a.default(t.coordinates[1],e,{ignoreBoundary:!0})}return r&&n}(r,n);default:throw Error("feature2 "+f+" geometry not supported")}case"LineString":switch(f){case"LineString":return function(t,e){for(var r=0;r<t.coordinates.length;r++)if(!i.default(t.coordinates[r],e))return!1;return!0}(r,n);case"Polygon":case"MultiPolygon":return function(t,e){if(!u(o.default(e),o.default(t)))return!1;for(var r=!1,n=0;n<t.coordinates.length-1;n++){if(!a.default(t.coordinates[n],e))return!1;if(r||(r=a.default(t.coordinates[n],e,{ignoreBoundary:!0})),!r){var i,s,l=(i=t.coordinates[n],s=t.coordinates[n+1],[(i[0]+s[0])/2,(i[1]+s[1])/2]);r=a.default(l,e,{ignoreBoundary:!0})}}return r}(r,n);default:throw Error("feature2 "+f+" geometry not supported")}case"Polygon":switch(f){case"Polygon":case"MultiPolygon":return function(t,e){var r=o.default(t);if(!u(o.default(e),r))return!1;for(var n=0;n<t.coordinates[0].length;n++)if(!a.default(t.coordinates[0][n],e))return!1;return!0}(r,n);default:throw Error("feature2 "+f+" geometry not supported")}default:throw Error("feature1 "+c+" geometry not supported")}}},3852:function(t,e,r){"use strict";var n=r(3570),o=r(1882),i=r(9163),a=r(6510),s=r(1719),u=n&&"object"==typeof n&&"default"in n?n:{default:n};function l(t,e,r){var n=(r=r||{}).units||"kilometers",o=r.steps||8;if(!t)throw Error("geojson is required");if("object"!=typeof r)throw Error("options must be an object");if("number"!=typeof o)throw Error("steps must be an number");if(void 0===e)throw Error("radius is required");if(o<=0)throw Error("steps must be greater than 0");var a=[];switch(t.type){case"GeometryCollection":return i.geomEach(t,function(t){var r=c(t,e,n,o);r&&a.push(r)}),s.featureCollection(a);case"FeatureCollection":return i.featureEach(t,function(t){var r=c(t,e,n,o);r&&i.featureEach(r,function(t){t&&a.push(t)})}),s.featureCollection(a)}return c(t,e,n,o)}function c(t,e,r,n){var l,f,h=t.properties||{},p="Feature"===t.type?t.geometry:t;if("GeometryCollection"===p.type){var d=[];return i.geomEach(t,function(t){var o=c(t,e,r,n);o&&d.push(o)}),s.featureCollection(d)}var g=(f=[-(l=u.default(p).geometry.coordinates)[0],-l[1]],a.geoAzimuthalEquidistant().rotate(f).scale(s.earthRadius)),v={type:p.type,coordinates:function t(e,r){return"object"!=typeof e[0]?r(e):e.map(function(e){return t(e,r)})}(p.coordinates,g)},y=new o.GeoJSONReader().read(v),m=s.radiansToLength(s.lengthToRadians(e,r),"meters"),b=o.BufferOp.bufferOp(y,m,n);if(!function t(e){return Array.isArray(e[0])?t(e[0]):isNaN(e[0])}((b=new o.GeoJSONWriter().write(b)).coordinates)){var x={type:b.type,coordinates:function t(e,r){return"object"!=typeof e[0]?r.invert(e):e.map(function(e){return t(e,r)})}(b.coordinates,g)};return s.feature(x,h)}}t.exports=l,t.exports.default=l},4584:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(9163),o=r(1719);e.default=function(t,e){void 0===e&&(e={});var r=0,i=0,a=0;return n.geomEach(t,function(t,s,u){var l=e.weight?null==u?void 0:u[e.weight]:void 0;if(l=null==l?1:l,!o.isNumber(l))throw Error("weight value must be a number for feature index "+s);(l=Number(l))>0&&n.coordEach(t,function(t){r+=t[0]*l,i+=t[1]*l,a+=l})}),o.point([r/a,i/a],e.properties,e)}},6626:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(4584)),i=n(r(8633)),a=n(r(613)),s=r(1719),u=r(9163);e.default=function(t,e){if(void 0===e&&(e={}),e=e||{},!s.isObject(e))throw Error("options is invalid");var r=e.counter||10;if(!s.isNumber(r))throw Error("counter must be a number");var n=e.weight,l=o.default(t,{weight:e.weight}),c=s.featureCollection([]);u.featureEach(t,function(t){var e;c.features.push(a.default(t,{properties:{weight:null===(e=t.properties)||void 0===e?void 0:e[n]}}))});var f={tolerance:e.tolerance,medianCandidates:[]};return function t(e,r,n,o,a){var l=o.tolerance||.001,c=0,f=0,h=0,p=0;if(u.featureEach(n,function(t){var r,n=null===(r=t.properties)||void 0===r?void 0:r.weight,o=null==n?1:n;if(o=Number(o),!s.isNumber(o))throw Error("weight value must be a number");if(o>0){p+=1;var a=o*i.default(t,e);0===a&&(a=1);var u=o/a;c+=t.geometry.coordinates[0]*u,f+=t.geometry.coordinates[1]*u,h+=u}}),p<1)throw Error("no features to measure");var d=c/h,g=f/h;return 1===p||0===a||Math.abs(d-r[0])<l&&Math.abs(g-r[1])<l?s.point([d,g],{medianCandidates:o.medianCandidates}):(o.medianCandidates.push([d,g]),t([d,g],e,n,o,a-1))}(l.geometry.coordinates,[0,0],c,f,r)}},5681:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(4203)),i=n(r(613)),a=r(1719),s=r(2258),u=r(9163);e.default=function t(e,r){switch(void 0===r&&(r={}),s.getType(e)){case"Point":return a.point(s.getCoord(e),r.properties);case"Polygon":var n,l,c,f,h,p,d,g,v=[];u.coordEach(e,function(t){v.push(t)});var y=i.default(e,{properties:r.properties}),m=y.geometry.coordinates,b=0,x=0,E=0,P=v.map(function(t){return[t[0]-m[0],t[1]-m[1]]});for(n=0;n<v.length-1;n++)f=(l=P[n])[0],p=l[1],h=(c=P[n+1])[0],E+=g=f*(d=c[1])-h*p,b+=(f+h)*g,x+=(p+d)*g;if(0===E)return y;var M=1/(6*(.5*E));return a.point([m[0]+M*b,m[1]+M*x],r.properties);default:var w=o.default(e);if(w)return t(w,{properties:r.properties});return i.default(e,{properties:r.properties})}}},3570:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(4635)),i=r(1719);e.default=function(t,e){void 0===e&&(e={});var r=o.default(t),n=(r[0]+r[2])/2,a=(r[1]+r[3])/2;return i.point([n,a],e.properties,e)}},613:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(9163),o=r(1719);e.default=function(t,e){void 0===e&&(e={});var r=0,i=0,a=0;return n.coordEach(t,function(t){r+=t[0],i+=t[1],a++},!0),o.point([r/a,i/a],e.properties)}},2996:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(4091)),i=r(1719);e.default=function(t,e,r){void 0===r&&(r={});for(var n=r.steps||64,a=r.properties?r.properties:!Array.isArray(t)&&"Feature"===t.type&&t.properties?t.properties:{},s=[],u=0;u<n;u++)s.push(o.default(t,e,-360*u/n,r).geometry.coordinates);return s.push(s[0]),i.polygon([s],a)}},2517:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1719),o=r(2258);function i(t){var e=o.getCoords(t);if(2===e.length&&!a(e[0],e[1]))return e;var r=[],n=e.length-1,i=r.length;r.push(e[0]);for(var u=1;u<n;u++){var l=r[r.length-1];(e[u][0]!==l[0]||e[u][1]!==l[1])&&(r.push(e[u]),(i=r.length)>2&&s(r[i-3],r[i-1],r[i-2])&&r.splice(r.length-2,1))}if(r.push(e[e.length-1]),i=r.length,a(e[0],e[e.length-1])&&i<4)throw Error("invalid polygon");return s(r[i-3],r[i-1],r[i-2])&&r.splice(r.length-2,1),r}function a(t,e){return t[0]===e[0]&&t[1]===e[1]}function s(t,e,r){var n=r[0],o=r[1],i=t[0],a=t[1],s=e[0],u=e[1],l=s-i,c=u-a;return 0==(n-i)*c-(o-a)*l&&(Math.abs(l)>=Math.abs(c)?l>0?i<=n&&n<=s:s<=n&&n<=i:c>0?a<=o&&o<=u:u<=o&&o<=a)}e.default=function(t,e){void 0===e&&(e={});var r="object"==typeof e?e.mutate:e;if(!t)throw Error("geojson is required");var a=o.getType(t),s=[];switch(a){case"LineString":s=i(t);break;case"MultiLineString":case"Polygon":o.getCoords(t).forEach(function(t){s.push(i(t))});break;case"MultiPolygon":o.getCoords(t).forEach(function(t){var e=[];t.forEach(function(t){e.push(i(t))}),s.push(e)});break;case"Point":return t;case"MultiPoint":var u={};o.getCoords(t).forEach(function(t){var e=t.join("-");Object.prototype.hasOwnProperty.call(u,e)||(s.push(t),u[e]=!0)});break;default:throw Error(a+" geometry not supported")}return t.coordinates?!0===r?(t.coordinates=s,t):{type:a,coordinates:s}:!0===r?(t.geometry.coordinates=s,t):n.feature({type:a,coordinates:s},t.properties,{bbox:t.bbox,id:t.id})}},8268:function(t,e){"use strict";function r(t){var e={type:"Feature"};return Object.keys(t).forEach(function(r){switch(r){case"type":case"properties":case"geometry":return;default:e[r]=t[r]}}),e.properties=function t(e){var r={};return e&&Object.keys(e).forEach(function(n){var o=e[n];"object"==typeof o?null===o?r[n]=null:Array.isArray(o)?r[n]=o.map(function(t){return t}):r[n]=t(o):r[n]=o}),r}(t.properties),e.geometry=n(t.geometry),e}function n(t){var e={type:t.type};return(t.bbox&&(e.bbox=t.bbox),"GeometryCollection"===t.type)?e.geometries=t.geometries.map(function(t){return n(t)}):e.coordinates=function t(e){return"object"!=typeof e[0]?e.slice():e.map(function(e){return t(e)})}(t.coordinates),e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(!t)throw Error("geojson is required");switch(t.type){case"Feature":return r(t);case"FeatureCollection":var e;return e={type:"FeatureCollection"},Object.keys(t).forEach(function(r){switch(r){case"type":case"features":return;default:e[r]=t[r]}}),e.features=t.features.map(function(t){return r(t)}),e;case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return n(t);default:throw Error("unknown GeoJSON type")}}},4816:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(8268)),i=n(r(8633)),a=r(9163),s=r(1719),u=n(r(7600));e.default=function(t,e,r){void 0===r&&(r={}),!0!==r.mutate&&(t=o.default(t)),r.minPoints=r.minPoints||3;var n=new u.default.DBSCAN,l=n.run(a.coordAll(t),s.convertLength(e,r.units),r.minPoints,i.default),c=-1;return l.forEach(function(e){c++,e.forEach(function(e){var r=t.features[e];r.properties||(r.properties={}),r.properties.cluster=c,r.properties.dbscan="core"})}),n.noise.forEach(function(e){var r=t.features[e];r.properties||(r.properties={}),r.properties.cluster?r.properties.dbscan="edge":r.properties.dbscan="noise"}),t}},1636:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(8268)),i=r(9163),a=n(r(270));e.default=function(t,e){void 0===e&&(e={});var r=t.features.length;e.numberOfClusters=e.numberOfClusters||Math.round(Math.sqrt(r/2)),e.numberOfClusters>r&&(e.numberOfClusters=r),!0!==e.mutate&&(t=o.default(t));var n=i.coordAll(t),s=n.slice(0,e.numberOfClusters),u=a.default(n,e.numberOfClusters,s),l={};return u.centroids.forEach(function(t,e){l[e]=t}),i.featureEach(t,function(t,e){var r=u.idxs[e];t.properties.cluster=r,t.properties.centroid=l[r]}),t}},961:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(9163),o=r(1719);function i(t,e,r){if(!t)throw Error("geojson is required");if("FeatureCollection"!==t.type)throw Error("geojson must be a FeatureCollection");if(null==e)throw Error("property is required");for(var n=a(t,e),i=Object.keys(n),s=0;s<i.length;s++){for(var u=i[s],l=n[u],c=[],f=0;f<l.length;f++)c.push(t.features[l[f]]);r(o.featureCollection(c),u,s)}}function a(t,e){var r={};return n.featureEach(t,function(t,n){var o=t.properties||{};if(Object.prototype.hasOwnProperty.call(o,String(e))){var i=o[e];Object.prototype.hasOwnProperty.call(r,i)?r[i].push(n):r[i]=[n]}}),r}function s(t,e){if(void 0===t)return!1;var r=typeof e;if("number"===r||"string"===r)return Object.prototype.hasOwnProperty.call(t,e);if(!Array.isArray(e))return u(t,e);for(var n=0;n<e.length;n++)if(!s(t,e[n]))return!1;return!0}function u(t,e){for(var r=Object.keys(e),n=0;n<r.length;n++){var o=r[n];if(t[o]!==e[o])return!1}return!0}e.getCluster=function(t,e){if(!t)throw Error("geojson is required");if("FeatureCollection"!==t.type)throw Error("geojson must be a FeatureCollection");if(null==e)throw Error("filter is required");var r=[];return n.featureEach(t,function(t){s(t.properties,e)&&r.push(t)}),o.featureCollection(r)},e.clusterEach=i,e.clusterReduce=function(t,e,r,n){var o=n;return i(t,e,function(t,e,i){o=0===i&&void 0===n?t:r(o,t,e,i)}),o},e.createBins=a,e.applyFilter=s,e.propertiesContainsFilter=u,e.filterProperties=function(t,e){if(!e||!e.length)return{};for(var r={},n=0;n<e.length;n++){var o=e[n];Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}return r}},9489:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(4635)),i=n(r(5991)),a=n(r(1461));e.default=function(t,e,r,n){var s=a.default(6),u=e.features.map(function(t){var e;return{minX:t.geometry.coordinates[0],minY:t.geometry.coordinates[1],maxX:t.geometry.coordinates[0],maxY:t.geometry.coordinates[1],property:null===(e=t.properties)||void 0===e?void 0:e[r]}});return s.load(u),t.features.forEach(function(t){t.properties||(t.properties={});var e=o.default(t),r=s.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}),a=[];r.forEach(function(e){i.default([e.minX,e.minY],t)&&a.push(e.property)}),t.properties[n]=a}),t}},9721:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1719),o=r(9163);e.default=function(t){var e={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}};return o.featureEach(t,function(t){var r,n,o,i;switch(null===(i=t.geometry)||void 0===i?void 0:i.type){case"Point":e.MultiPoint.coordinates.push(t.geometry.coordinates),e.MultiPoint.properties.push(t.properties);break;case"MultiPoint":(r=e.MultiPoint.coordinates).push.apply(r,t.geometry.coordinates),e.MultiPoint.properties.push(t.properties);break;case"LineString":e.MultiLineString.coordinates.push(t.geometry.coordinates),e.MultiLineString.properties.push(t.properties);break;case"MultiLineString":(n=e.MultiLineString.coordinates).push.apply(n,t.geometry.coordinates),e.MultiLineString.properties.push(t.properties);break;case"Polygon":e.MultiPolygon.coordinates.push(t.geometry.coordinates),e.MultiPolygon.properties.push(t.properties);break;case"MultiPolygon":(o=e.MultiPolygon.coordinates).push.apply(o,t.geometry.coordinates),e.MultiPolygon.properties.push(t.properties)}}),n.featureCollection(Object.keys(e).filter(function(t){return e[t].coordinates.length}).sort().map(function(t){var r={type:t,coordinates:e[t].coordinates},o={collectedProperties:e[t].properties};return n.feature(r,o)}))}},7715:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(8633)),i=r(1719),a=r(9163),s=n(r(2705)),u=n(r(2008));e.default=function(t,e){void 0===e&&(e={});var r,n,l=e.maxEdge||1/0,c=(r=[],n={},a.featureEach(t,function(t){if(t.geometry){var e=t.geometry.coordinates.join("-");Object.prototype.hasOwnProperty.call(n,e)||(r.push(t),n[e]=!0)}}),i.featureCollection(r)),f=s.default(c);if(f.features=f.features.filter(function(t){var r=t.geometry.coordinates[0][0],n=t.geometry.coordinates[0][1],i=t.geometry.coordinates[0][2],a=o.default(r,n,e),s=o.default(n,i,e),u=o.default(r,i,e);return a<=l&&s<=l&&u<=l}),f.features.length<1)return null;var h=u.default(f);return 1===h.coordinates.length&&(h.coordinates=h.coordinates[0],h.type="Polygon"),i.feature(h)}},2008:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(8268)),i=r(1719),a=r(2258),s=r(9163),u=n(r(4998)),l=n(r(260));e.default=function(t,e){if(void 0===e&&(e={}),e=e||{},!i.isObject(e))throw Error("options is invalid");var r,n,c,f=e.mutate;if("FeatureCollection"!==a.getType(t))throw Error("geojson must be a FeatureCollection");if(!t.features.length)throw Error("geojson is empty");(!1===f||void 0===f)&&(t=o.default(t));var h=(r=t,n={},s.flattenEach(r,function(t){n[t.geometry.type]=!0}),1===(c=Object.keys(n)).length?c[0]:null);if(!h)throw Error("geojson must be homogenous");var p=t;switch(h){case"LineString":return u.default(p,e);case"Polygon":return l.default(p,e);default:throw Error(h+" is not supported")}}},4998:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(8268)),i=r(1719),a=r(2258),s=r(9163);function u(t){return t[0].toString()+","+t[1].toString()}e.default=function(t,e){if(void 0===e&&(e={}),e=e||{},!i.isObject(e))throw Error("options is invalid");var r=e.mutate;if("FeatureCollection"!==a.getType(t))throw Error("geojson must be a FeatureCollection");if(!t.features.length)throw Error("geojson is empty");(!1===r||void 0===r)&&(t=o.default(t));var n=[],l=s.lineReduce(t,function(t,e){return function(t,e){var r,n=t.geometry.coordinates,o=e.geometry.coordinates,a=u(n[0]),s=u(n[n.length-1]),l=u(o[0]),c=u(o[o.length-1]);if(a===c)r=o.concat(n.slice(1));else if(l===s)r=n.concat(o.slice(1));else if(a===l)r=n.slice(1).reverse().concat(o);else{if(s!==c)return null;r=n.concat(o.reverse().slice(1))}return i.lineString(r)}(t,e)||(n.push(t),e)});return(l&&n.push(l),n.length)?1===n.length?n[0]:i.multiLineString(n.map(function(t){return t.coordinates})):null}},260:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(8268)),i=r(1719),a=r(2258),s=r(9163),u=r(3384),l=r(4508);e.default=function(t,e){if(void 0===e&&(e={}),"FeatureCollection"!==a.getType(t))throw Error("geojson must be a FeatureCollection");if(!t.features.length)throw Error("geojson is empty");(!1===e.mutate||void 0===e.mutate)&&(t=o.default(t));var r=[];s.flattenEach(t,function(t){r.push(t.geometry)});var n=l.topology({geoms:i.geometryCollection(r).geometry});return u.merge(n,n.objects.geoms.geometries)}},4203:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(1719),i=r(9163),a=n(r(506));e.default=function(t,e){void 0===e&&(e={}),e.concavity=e.concavity||1/0;var r=[];if(i.coordEach(t,function(t){r.push([t[0],t[1]])}),!r.length)return null;var n=a.default(r,e.concavity);return n.length>3?o.polygon([n]):null}},4091:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1719),o=r(2258);e.default=function(t,e,r,i){void 0===i&&(i={});var a=o.getCoord(t),s=n.degreesToRadians(a[0]),u=n.degreesToRadians(a[1]),l=n.degreesToRadians(r),c=n.lengthToRadians(e,i.units),f=Math.asin(Math.sin(u)*Math.cos(c)+Math.cos(u)*Math.sin(c)*Math.cos(l)),h=s+Math.atan2(Math.sin(l)*Math.sin(c)*Math.cos(u),Math.cos(c)-Math.sin(u)*Math.sin(f)),p=n.radiansToDegrees(h),d=n.radiansToDegrees(f);return n.point([p,d],i.properties)}},872:function(t,e,r){"use strict";var n=r(5228),o=r(1719),i=r(2258),a=n&&"object"==typeof n&&"default"in n?n:{default:n};function s(t,e){var r=i.getGeom(t),n=i.getGeom(e),s=t.properties||{},u=a.default.difference(r.coordinates,n.coordinates);return 0===u.length?null:1===u.length?o.polygon(u[0],s):o.multiPolygon(u,s)}t.exports=s,t.exports.default=s},633:function(t,e,r){"use strict";var n=r(1719),o=r(2258),i=r(9163),a=r(1111),s=r(5228);function u(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var l=u(a),c=u(s);function f(t,e){if(e=e||{},!n.isObject(e))throw Error("options is invalid");var r=e.propertyName;o.collectionOf(t,"Polygon","dissolve");var a=[];if(!e.propertyName)return l.default(n.multiPolygon(c.default.union.apply(null,t.features.map(function(t){return t.geometry.coordinates}))));var s={};i.featureEach(t,function(t){Object.prototype.hasOwnProperty.call(s,t.properties[r])||(s[t.properties[r]]=[]),s[t.properties[r]].push(t)});for(var u=Object.keys(s),f=0;f<u.length;f++){var h=n.multiPolygon(c.default.union.apply(null,s[u[f]].map(function(t){return t.geometry.coordinates})));h.properties[r]=u[f],a.push(h)}return l.default(n.featureCollection(a))}t.exports=f,t.exports.default=f},4633:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(613)),i=r(2258),a=r(9163);function s(t,e,r){void 0===r&&(r=2);var n=i.getCoord(t),o=i.getCoord(e),a=n[0]-o[0],s=n[1]-o[1];return 1===r?Math.abs(a)+Math.abs(s):Math.pow(Math.pow(a,r)+Math.pow(s,r),1/r)}e.pNormDistance=s,e.default=function(t,e){var r=(e=e||{}).threshold||1e4,n=e.p||2,i=e.binary||!1,u=e.alpha||-1,l=e.standardization||!1,c=[];a.featureEach(t,function(t){c.push(o.default(t))});for(var f=[],h=0;h<c.length;h++)f[h]=[];for(var h=0;h<c.length;h++)for(var p=h;p<c.length;p++){h===p&&(f[h][p]=0);var d=s(c[h],c[p],n);f[h][p]=d,f[p][h]=d}for(var h=0;h<c.length;h++)for(var p=0;p<c.length;p++){var d=f[h][p];0!==d&&(i?d<=r?f[h][p]=1:f[h][p]=0:d<=r?f[h][p]=Math.pow(d,u):f[h][p]=0)}if(l)for(var h=0;h<c.length;h++)for(var g=f[h].reduce(function(t,e){return t+e},0),p=0;p<c.length;p++)f[h][p]=f[h][p]/g;return f}},8633:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2258),o=r(1719);e.default=function(t,e,r){void 0===r&&(r={});var i=n.getCoord(t),a=n.getCoord(e),s=Math.pow(Math.sin(o.degreesToRadians(a[1]-i[1])/2),2)+Math.pow(Math.sin(o.degreesToRadians(a[0]-i[0])/2),2)*Math.cos(o.degreesToRadians(i[1]))*Math.cos(o.degreesToRadians(a[1]));return o.radiansToLength(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)),r.units)}},8431:function(t,e,r){"use strict";var n=r(1719),o=r(703),i=r(9986),a=r(2258);function s(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var u=s(o),l=s(i);function c(t,e,r,o){var i=(o=o||{}).steps||64,s=o.units||"kilometers",c=o.angle||0,h=o.pivot||t,p=o.properties||t.properties||{};if(!t)throw Error("center is required");if(!e)throw Error("xSemiAxis is required");if(!r)throw Error("ySemiAxis is required");if(!n.isObject(o))throw Error("options must be an object");if(!n.isNumber(i))throw Error("steps must be a number");if(!n.isNumber(c))throw Error("angle must be a number");var d=a.getCoord(t);if("degrees"===s)var g=n.degreesToRadians(c);else e=u.default(t,e,90,{units:s}),r=u.default(t,r,0,{units:s}),e=a.getCoord(e)[0]-d[0],r=a.getCoord(r)[1]-d[1];for(var v=[],y=0;y<i;y+=1){var m=-360*y/i,b=e*r/Math.sqrt(Math.pow(r,2)+Math.pow(e,2)*Math.pow(f(m),2)),x=e*r/Math.sqrt(Math.pow(e,2)+Math.pow(r,2)/Math.pow(f(m),2));if(m<-90&&m>=-270&&(b=-b),m<-180&&m>=-360&&(x=-x),"degrees"===s){var E=b*Math.cos(g)+x*Math.sin(g),P=x*Math.cos(g)-b*Math.sin(g);b=E,x=P}v.push([b+d[0],x+d[1]])}return(v.push(v[0]),"degrees"===s)?n.polygon([v],p):l.default(n.polygon([v],p),c,{pivot:h})}function f(t){return Math.tan(t*Math.PI/180)}t.exports=c,t.exports.default=c},7284:function(t,e,r){"use strict";var n=r(4635),o=r(2216);function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var a=i(n),s=i(o);function u(t){return s.default(a.default(t))}t.exports=u,t.exports.default=u},4334:function(t,e,r){"use strict";var n=r(9163),o=r(1719);function i(t){var e=[];return"FeatureCollection"===t.type?n.featureEach(t,function(t){n.coordEach(t,function(r){e.push(o.point(r,t.properties))})}):n.coordEach(t,function(r){e.push(o.point(r,t.properties))}),o.featureCollection(e)}t.exports=i,t.exports.default=i},1111:function(t,e,r){"use strict";var n=r(9163),o=r(1719);function i(t){if(!t)throw Error("geojson is required");var e=[];return n.flattenEach(t,function(t){e.push(t)}),o.featureCollection(e)}t.exports=i,t.exports.default=i},3324:function(t,e,r){"use strict";var n=r(9163),o=r(1719),i=r(8268),a=i&&"object"==typeof i&&"default"in i?i:{default:i};function s(t,e){if(e=e||{},!o.isObject(e))throw Error("options is invalid");var r=e.mutate;if(!t)throw Error("geojson is required");return(!1===r||void 0===r)&&(t=a.default(t)),n.coordEach(t,function(t){var e=t[0],r=t[1];t[0]=r,t[1]=e}),t}t.exports=s,t.exports.default=s},1001:function(t,e,r){"use strict";var n=r(2258),o=Math.PI/180,i=180/Math.PI,a=function(t,e){this.lon=t,this.lat=e,this.x=o*t,this.y=o*e};a.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},a.prototype.antipode=function(){var t=-1*this.lat,e=this.lon<0?180+this.lon:-((180-this.lon)*1);return new a(e,t)};var s=function(){this.coords=[],this.length=0};s.prototype.move_to=function(t){this.length++,this.coords.push(t)};var u=function(t){this.properties=t||{},this.geometries=[]};u.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var t=[],e=0;e<this.geometries.length;e++)t.push(this.geometries[e].coords);return{geometry:{type:"MultiLineString",coordinates:t},type:"Feature",properties:this.properties}},u.prototype.wkt=function(){for(var t="",e="LINESTRING(",r=function(t){e+=t[0]+" "+t[1]+","},n=0;n<this.geometries.length;n++){if(0===this.geometries[n].coords.length)return"LINESTRING(empty)";this.geometries[n].coords.forEach(r),t+=e.substring(0,e.length-1)+")"}return t};var l=function(t,e,r){if(!t||void 0===t.x||void 0===t.y||!e||void 0===e.x||void 0===e.y)throw Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new a(t.x,t.y),this.end=new a(e.x,e.y),this.properties=r||{};var n=this.start.x-this.end.x,o=Math.pow(Math.sin((this.start.y-this.end.y)/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(n/2),2);if(this.g=2*Math.asin(Math.sqrt(o)),this.g===Math.PI)throw Error("it appears "+t.view()+" and "+e.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw Error("could not calculate great circle between "+t+" and "+e)};function c(t,e,r){if("object"!=typeof(r=r||{}))throw Error("options is invalid");var o=r.properties,i=r.npoints,a=r.offset;return t=n.getCoord(t),e=n.getCoord(e),o=o||{},i=i||100,a=a||10,new l({x:t[0],y:t[1]},{x:e[0],y:e[1]},o).Arc(i,{offset:a}).json()}l.prototype.interpolate=function(t){var e=Math.sin((1-t)*this.g)/Math.sin(this.g),r=Math.sin(t*this.g)/Math.sin(this.g),n=e*Math.cos(this.start.y)*Math.cos(this.start.x)+r*Math.cos(this.end.y)*Math.cos(this.end.x),o=e*Math.cos(this.start.y)*Math.sin(this.start.x)+r*Math.cos(this.end.y)*Math.sin(this.end.x);return[i*Math.atan2(o,n),i*Math.atan2(e*Math.sin(this.start.y)+r*Math.sin(this.end.y),Math.sqrt(Math.pow(n,2)+Math.pow(o,2)))]},l.prototype.Arc=function(t,e){var r=[];if(!t||t<=2)r.push([this.start.lon,this.start.lat]),r.push([this.end.lon,this.end.lat]);else for(var n=1/(t-1),o=0;o<t;++o){var i=n*o,a=this.interpolate(i);r.push(a)}for(var l=!1,c=0,f=e&&e.offset?e.offset:10,h=180-f,p=-180+f,d=360-f,g=1;g<r.length;++g){var v=r[g-1][0],y=r[g][0],m=Math.abs(y-v);m>d&&(y>h&&v<p||v>h&&y<p)?l=!0:m>c&&(c=m)}var b=[];if(l&&c<f){var x=[];b.push(x);for(var E=0;E<r.length;++E){var P=parseFloat(r[E][0]);if(E>0&&Math.abs(P-r[E-1][0])>d){var M=parseFloat(r[E-1][0]),w=parseFloat(r[E-1][1]),S=parseFloat(r[E][0]),_=parseFloat(r[E][1]);if(M>-180&&M<p&&180===S&&E+1<r.length&&r[E-1][0]>-180&&r[E-1][0]<p){x.push([-180,r[E][1]]),E++,x.push([r[E][0],r[E][1]]);continue}if(M>h&&M<180&&-180===S&&E+1<r.length&&r[E-1][0]>h&&r[E-1][0]<180){x.push([180,r[E][1]]),E++,x.push([r[E][0],r[E][1]]);continue}if(M<p&&S>h){var O=M;M=S,S=O;var j=w;w=_,_=j}if(M>h&&S<p&&(S+=360),M<=180&&S>=180&&M<S){var A=(180-M)/(S-M),C=A*_+(1-A)*w;x.push([r[E-1][0]>h?180:-180,C]),(x=[]).push([r[E-1][0]>h?-180:180,C]),b.push(x)}else x=[],b.push(x);x.push([P,r[E][1]])}else x.push([r[E][0],r[E][1]])}}else{var k=[];b.push(k);for(var L=0;L<r.length;++L)k.push([r[L][0],r[L][1]])}for(var I=new u(this.properties),R=0;R<b.length;++R){var T=new s;I.geometries.push(T);for(var D=b[R],N=0;N<D.length;++N)T.move_to(D[N])}return I},t.exports=c,t.exports.default=c},1719:function(t,e){"use strict";function r(t,e,r){void 0===r&&(r={});var n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=e||{},n.geometry=t,n}function n(t,e,n){if(void 0===n&&(n={}),!t)throw Error("coordinates is required");if(!Array.isArray(t))throw Error("coordinates must be an Array");if(t.length<2)throw Error("coordinates must be at least 2 numbers long");if(!p(t[0])||!p(t[1]))throw Error("coordinates must contain numbers");return r({type:"Point",coordinates:t},e,n)}function o(t,e,n){void 0===n&&(n={});for(var o=0;o<t.length;o++){var i=t[o];if(i.length<4)throw Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<i[i.length-1].length;a++)if(i[i.length-1][a]!==i[0][a])throw Error("First and last Position are not equivalent.")}return r({type:"Polygon",coordinates:t},e,n)}function i(t,e,n){if(void 0===n&&(n={}),t.length<2)throw Error("coordinates must be an array of two or more positions");return r({type:"LineString",coordinates:t},e,n)}function a(t,e){void 0===e&&(e={});var r={type:"FeatureCollection"};return e.id&&(r.id=e.id),e.bbox&&(r.bbox=e.bbox),r.features=t,r}function s(t,e,n){return void 0===n&&(n={}),r({type:"MultiLineString",coordinates:t},e,n)}function u(t,e,n){return void 0===n&&(n={}),r({type:"MultiPoint",coordinates:t},e,n)}function l(t,e,n){return void 0===n&&(n={}),r({type:"MultiPolygon",coordinates:t},e,n)}function c(t,r){void 0===r&&(r="kilometers");var n=e.factors[r];if(!n)throw Error(r+" units is invalid");return t*n}function f(t,r){void 0===r&&(r="kilometers");var n=e.factors[r];if(!n)throw Error(r+" units is invalid");return t/n}function h(t){return 180*(t%(2*Math.PI))/Math.PI}function p(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.earthRadius=6371008.8,e.factors={centimeters:100*e.earthRadius,centimetres:100*e.earthRadius,degrees:e.earthRadius/111325,feet:3.28084*e.earthRadius,inches:39.37*e.earthRadius,kilometers:e.earthRadius/1e3,kilometres:e.earthRadius/1e3,meters:e.earthRadius,metres:e.earthRadius,miles:e.earthRadius/1609.344,millimeters:1e3*e.earthRadius,millimetres:1e3*e.earthRadius,nauticalmiles:e.earthRadius/1852,radians:1,yards:1.0936*e.earthRadius},e.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/e.earthRadius,yards:1.0936133},e.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},e.feature=r,e.geometry=function(t,e,r){switch(void 0===r&&(r={}),t){case"Point":return n(e).geometry;case"LineString":return i(e).geometry;case"Polygon":return o(e).geometry;case"MultiPoint":return u(e).geometry;case"MultiLineString":return s(e).geometry;case"MultiPolygon":return l(e).geometry;default:throw Error(t+" is invalid")}},e.point=n,e.points=function(t,e,r){return void 0===r&&(r={}),a(t.map(function(t){return n(t,e)}),r)},e.polygon=o,e.polygons=function(t,e,r){return void 0===r&&(r={}),a(t.map(function(t){return o(t,e)}),r)},e.lineString=i,e.lineStrings=function(t,e,r){return void 0===r&&(r={}),a(t.map(function(t){return i(t,e)}),r)},e.featureCollection=a,e.multiLineString=s,e.multiPoint=u,e.multiPolygon=l,e.geometryCollection=function(t,e,n){return void 0===n&&(n={}),r({type:"GeometryCollection",geometries:t},e,n)},e.round=function(t,e){if(void 0===e&&(e=0),e&&!(e>=0))throw Error("precision must be a positive number");var r=Math.pow(10,e||0);return Math.round(t*r)/r},e.radiansToLength=c,e.lengthToRadians=f,e.lengthToDegrees=function(t,e){return h(f(t,e))},e.bearingToAzimuth=function(t){var e=t%360;return e<0&&(e+=360),e},e.radiansToDegrees=h,e.degreesToRadians=function(t){return t%360*Math.PI/180},e.convertLength=function(t,e,r){if(void 0===e&&(e="kilometers"),void 0===r&&(r="kilometers"),!(t>=0))throw Error("length must be a positive number");return c(f(t,e),r)},e.convertArea=function(t,r,n){if(void 0===r&&(r="meters"),void 0===n&&(n="kilometers"),!(t>=0))throw Error("area must be a positive number");var o=e.areaFactors[r];if(!o)throw Error("invalid original units");var i=e.areaFactors[n];if(!i)throw Error("invalid final units");return t/o*i},e.isNumber=p,e.isObject=function(t){return!!t&&t.constructor===Object},e.validateBBox=function(t){if(!t)throw Error("bbox is required");if(!Array.isArray(t))throw Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw Error("bbox must be an Array of 4 or 6 numbers");t.forEach(function(t){if(!p(t))throw Error("bbox must only contain numbers")})},e.validateId=function(t){if(!t)throw Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw Error("id must be a number or a string")}},5530:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(8633)),i=n(r(1)),a=r(1719);e.default=function(t,e,r){void 0===r&&(r={});var n=JSON.stringify(r.properties||{}),s=t[0],u=t[1],l=t[2],c=t[3],f=(u+c)/2,h=(s+l)/2,p=2*e/o.default([s,f],[l,f],r)*(l-s),d=2*e/o.default([h,u],[h,c],r)*(c-u),g=p/2,v=2*g,y=Math.sqrt(3)/2*d,m=l-s,b=c-u,x=3/4*v,E=Math.floor((m-v)/(v-g/2)),P=(E*x-g/2-m)/2-g/2+x/2,M=Math.floor((b-y)/y),w=(b-M*y)/2,S=M*y-b>y/2;S&&(w-=y/4);for(var _=[],O=[],j=0;j<6;j++){var A=2*Math.PI/6*j;_.push(Math.cos(A)),O.push(Math.sin(A))}for(var C=[],k=0;k<=E;k++)for(var L=0;L<=M;L++){var I=k%2==1;if((0!==L||!I)&&(0!==L||!S)){var R=k*x+s-P,T=L*y+u+w;if(I&&(T-=y/2),!0===r.triangles)(function(t,e,r,n,o,i){for(var s=[],u=0;u<6;u++){var l=[];l.push(t),l.push([t[0]+e*o[u],t[1]+r*i[u]]),l.push([t[0]+e*o[(u+1)%6],t[1]+r*i[(u+1)%6]]),l.push(t),s.push(a.polygon([l],n))}return s})([R,T],p/2,d/2,JSON.parse(n),_,O).forEach(function(t){r.mask?i.default(r.mask,t)&&C.push(t):C.push(t)});else{var D=function(t,e,r,n,o,i){for(var s=[],u=0;u<6;u++){var l=t[0]+e*o[u],c=t[1]+r*i[u];s.push([l,c])}return s.push(s[0].slice()),a.polygon([s],n)}([R,T],p/2,d/2,JSON.parse(n),_,O);r.mask?i.default(r.mask,D)&&C.push(D):C.push(D)}}}return a.featureCollection(C)}},1647:function(t,e,r){"use strict";var n=r(4635),o=r(5530),i=r(7065),a=r(8633),s=r(613),u=r(2565),l=r(7964),c=r(8268),f=r(1719),h=r(9163),p=r(2258);function d(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var g=d(n),v=d(o),y=d(i),m=d(a),b=d(s),x=d(u),E=d(l),P=d(c);function M(t,e,r){if("object"!=typeof(r=r||{}))throw Error("options is invalid");var n,o=r.gridType,i=r.property,a=r.weight;if(!t)throw Error("points is required");if(p.collectionOf(t,"Point","input must contain Points"),!e)throw Error("cellSize is required");if(void 0!==a&&"number"!=typeof a)throw Error("weight must be a number");i=i||"elevation",o=o||"square",a=a||1;var s=g.default(t);switch(o){case"point":case"points":n=y.default(s,e,r);break;case"square":case"squares":n=x.default(s,e,r);break;case"hex":case"hexes":n=v.default(s,e,r);break;case"triangle":case"triangles":n=E.default(s,e,r);break;default:throw Error("invalid gridType")}var u=[];return h.featureEach(n,function(e){var n=0,s=0;h.featureEach(t,function(t){var u,l="point"===o?e:b.default(e),c=m.default(l,t,r);if(void 0!==i&&(u=t.properties[i]),void 0===u&&(u=t.geometry.coordinates[2]),void 0===u)throw Error("zValue is missing");0===c&&(n=u);var f=1/Math.pow(c,a);s+=f,n+=f*u});var l=P.default(e);l.properties[i]=n/s,u.push(l)}),f.featureCollection(u)}t.exports=M,t.exports.default=M},1:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(1719),i=r(2258),a=n(r(5228));e.default=function(t,e,r){void 0===r&&(r={});var n=i.getGeom(t),s=i.getGeom(e),u=a.default.intersection(n.coordinates,s.coordinates);return 0===u.length?null:1===u.length?o.polygon(u[0],r.properties):o.multiPolygon(u,r.properties)}},2258:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1719);e.getCoord=function(t){if(!t)throw Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw Error("coord must be GeoJSON Point or an Array of numbers")},e.getCoords=function(t){if(Array.isArray(t))return t;if("Feature"===t.type){if(null!==t.geometry)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw Error("coords must be GeoJSON Feature, Geometry Object or an Array")},e.containsNumber=function t(e){if(e.length>1&&n.isNumber(e[0])&&n.isNumber(e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return t(e[0]);throw Error("coordinates must only contain numbers")},e.geojsonType=function(t,e,r){if(!e||!r)throw Error("type and name required");if(!t||t.type!==e)throw Error("Invalid input to "+r+": must be a "+e+", given "+t.type)},e.featureOf=function(t,e,r){if(!t)throw Error("No feature passed");if(!r)throw Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw Error("Invalid input to "+r+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw Error("Invalid input to "+r+": must be a "+e+", given "+t.geometry.type)},e.collectionOf=function(t,e,r){if(!t)throw Error("No featureCollection passed");if(!r)throw Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw Error("Invalid input to "+r+", FeatureCollection required");for(var n=0,o=t.features;n<o.length;n++){var i=o[n];if(!i||"Feature"!==i.type||!i.geometry)throw Error("Invalid input to "+r+", Feature with geometry required");if(!i.geometry||i.geometry.type!==e)throw Error("Invalid input to "+r+": must be a "+e+", given "+i.geometry.type)}},e.getGeom=function(t){return"Feature"===t.type?t.geometry:t},e.getType=function(t,e){return"FeatureCollection"===t.type?"FeatureCollection":"GeometryCollection"===t.type?"GeometryCollection":"Feature"===t.type&&null!==t.geometry?t.geometry.type:t.type}},5656:function(t,e,r){"use strict";var n=r(4635),o=r(1377),i=r(5991),a=r(4334),s=r(2258),u=r(1719),l=r(7185),c=r(9163);function f(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var h=f(n),p=f(o),d=f(i),g=f(a),v=f(l),y={successCallback:null,verbose:!1,polygons:!1},m={},b=[],x=[],E=[],P=[],M=[],w=[],S=[],_=[],O=[],j=[],A=[],C=[],k=[],L=[],I=[],R=[],T=[],D=[],N=[],F=[],B=[],V=[],q=[],z=[];S[85]=j[85]=-1,_[85]=A[85]=0,O[85]=C[85]=1,N[85]=V[85]=1,F[85]=q[85]=0,B[85]=z[85]=1,b[85]=P[85]=0,x[85]=M[85]=-1,E[85]=I[85]=0,R[85]=k[85]=0,T[85]=L[85]=1,w[85]=D[85]=1,V[1]=V[169]=0,q[1]=q[169]=-1,z[1]=z[169]=0,k[1]=k[169]=-1,L[1]=L[169]=0,I[1]=I[169]=0,j[4]=j[166]=0,A[4]=A[166]=-1,C[4]=C[166]=1,R[4]=R[166]=1,T[4]=T[166]=0,D[4]=D[166]=0,S[16]=S[154]=0,_[16]=_[154]=1,O[16]=O[154]=1,P[16]=P[154]=1,M[16]=M[154]=0,w[16]=w[154]=1,N[64]=N[106]=0,F[64]=F[106]=1,B[64]=B[106]=0,b[64]=b[106]=-1,x[64]=x[106]=0,E[64]=E[106]=1,N[2]=N[168]=0,F[2]=F[168]=-1,B[2]=B[168]=1,V[2]=V[168]=0,q[2]=q[168]=-1,z[2]=z[168]=0,k[2]=k[168]=-1,L[2]=L[168]=0,I[2]=I[168]=0,R[2]=R[168]=-1,T[2]=T[168]=0,D[2]=D[168]=1,S[8]=S[162]=0,_[8]=_[162]=-1,O[8]=O[162]=0,j[8]=j[162]=0,A[8]=A[162]=-1,C[8]=C[162]=1,k[8]=k[162]=1,L[8]=L[162]=0,I[8]=I[162]=1,R[8]=R[162]=1,T[8]=T[162]=0,D[8]=D[162]=0,S[32]=S[138]=0,_[32]=_[138]=1,O[32]=O[138]=1,j[32]=j[138]=0,A[32]=A[138]=1,C[32]=C[138]=0,b[32]=b[138]=1,x[32]=x[138]=0,E[32]=E[138]=0,P[32]=P[138]=1,M[32]=M[138]=0,w[32]=w[138]=1,V[128]=V[42]=0,q[128]=q[42]=1,z[128]=z[42]=1,N[128]=N[42]=0,F[128]=F[42]=1,B[128]=B[42]=0,b[128]=b[42]=-1,x[128]=x[42]=0,E[128]=E[42]=1,P[128]=P[42]=-1,M[128]=M[42]=0,w[128]=w[42]=0,j[5]=j[165]=-1,A[5]=A[165]=0,C[5]=C[165]=0,V[5]=V[165]=1,q[5]=q[165]=0,z[5]=z[165]=0,R[20]=R[150]=0,T[20]=T[150]=1,D[20]=D[150]=1,P[20]=P[150]=0,M[20]=M[150]=-1,w[20]=w[150]=1,S[80]=S[90]=-1,_[80]=_[90]=0,O[80]=O[90]=1,N[80]=N[90]=1,F[80]=F[90]=0,B[80]=B[90]=1,k[65]=k[105]=0,L[65]=L[105]=1,I[65]=I[105]=0,b[65]=b[105]=0,x[65]=x[105]=-1,E[65]=E[105]=0,S[160]=S[10]=-1,_[160]=_[10]=0,O[160]=O[10]=1,j[160]=j[10]=-1,A[160]=A[10]=0,C[160]=C[10]=0,V[160]=V[10]=1,q[160]=q[10]=0,z[160]=z[10]=0,N[160]=N[10]=1,F[160]=F[10]=0,B[160]=B[10]=1,R[130]=R[40]=0,T[130]=T[40]=1,D[130]=D[40]=1,k[130]=k[40]=0,L[130]=L[40]=1,I[130]=I[40]=0,b[130]=b[40]=0,x[130]=x[40]=-1,E[130]=E[40]=0,P[130]=P[40]=0,M[130]=M[40]=-1,w[130]=w[40]=1,j[37]=j[133]=0,A[37]=A[133]=1,C[37]=C[133]=1,V[37]=V[133]=0,q[37]=q[133]=1,z[37]=z[133]=0,b[37]=b[133]=-1,x[37]=x[133]=0,E[37]=E[133]=0,P[37]=P[133]=1,M[37]=M[133]=0,w[37]=w[133]=0,R[148]=R[22]=-1,T[148]=T[22]=0,D[148]=D[22]=0,V[148]=V[22]=0,q[148]=q[22]=-1,z[148]=z[22]=1,N[148]=N[22]=0,F[148]=F[22]=1,B[148]=B[22]=1,P[148]=P[22]=-1,M[148]=M[22]=0,w[148]=w[22]=1,S[82]=S[88]=0,_[82]=_[88]=-1,O[82]=O[88]=1,R[82]=R[88]=1,T[82]=T[88]=0,D[82]=D[88]=1,k[82]=k[88]=-1,L[82]=L[88]=0,I[82]=I[88]=1,N[82]=N[88]=0,F[82]=F[88]=-1,B[82]=B[88]=0,S[73]=S[97]=0,_[73]=_[97]=1,O[73]=O[97]=0,j[73]=j[97]=0,A[73]=A[97]=-1,C[73]=C[97]=0,k[73]=k[97]=1,L[73]=L[97]=0,I[73]=I[97]=0,b[73]=b[97]=1,x[73]=x[97]=0,E[73]=E[97]=1,S[145]=S[25]=0,_[145]=_[25]=-1,O[145]=O[25]=0,k[145]=k[25]=1,L[145]=L[25]=0,I[145]=I[25]=1,V[145]=V[25]=0,q[145]=q[25]=1,z[145]=z[25]=1,P[145]=P[25]=-1,M[145]=M[25]=0,w[145]=w[25]=0,j[70]=j[100]=0,A[70]=A[100]=1,C[70]=C[100]=0,R[70]=R[100]=-1,T[70]=T[100]=0,D[70]=D[100]=1,N[70]=N[100]=0,F[70]=F[100]=-1,B[70]=B[100]=1,b[70]=b[100]=1,x[70]=x[100]=0,E[70]=E[100]=0,j[101]=j[69]=0,A[101]=A[69]=1,C[101]=C[69]=0,b[101]=b[69]=1,x[101]=x[69]=0,E[101]=E[69]=0,V[149]=V[21]=0,q[149]=q[21]=1,z[149]=z[21]=1,P[149]=P[21]=-1,M[149]=M[21]=0,w[149]=w[21]=0,R[86]=R[84]=-1,T[86]=T[84]=0,D[86]=D[84]=1,N[86]=N[84]=0,F[86]=F[84]=-1,B[86]=B[84]=1,S[89]=S[81]=0,_[89]=_[81]=-1,O[89]=O[81]=0,k[89]=k[81]=1,L[89]=L[81]=0,I[89]=I[81]=1,S[96]=S[74]=0,_[96]=_[74]=1,O[96]=O[74]=0,j[96]=j[74]=-1,A[96]=A[74]=0,C[96]=C[74]=1,N[96]=N[74]=1,F[96]=F[74]=0,B[96]=B[74]=0,b[96]=b[74]=1,x[96]=x[74]=0,E[96]=E[74]=1,S[24]=S[146]=0,_[24]=_[146]=-1,O[24]=O[146]=1,R[24]=R[146]=1,T[24]=T[146]=0,D[24]=D[146]=1,k[24]=k[146]=0,L[24]=L[146]=1,I[24]=I[146]=1,P[24]=P[146]=0,M[24]=M[146]=-1,w[24]=w[146]=0,j[6]=j[164]=-1,A[6]=A[164]=0,C[6]=C[164]=1,R[6]=R[164]=-1,T[6]=T[164]=0,D[6]=D[164]=0,V[6]=V[164]=0,q[6]=q[164]=-1,z[6]=z[164]=1,N[6]=N[164]=1,F[6]=F[164]=0,B[6]=B[164]=0,k[129]=k[41]=0,L[129]=L[41]=1,I[129]=I[41]=1,V[129]=V[41]=0,q[129]=q[41]=1,z[129]=z[41]=0,b[129]=b[41]=-1,x[129]=x[41]=0,E[129]=E[41]=0,P[129]=P[41]=0,M[129]=M[41]=-1,w[129]=w[41]=0,R[66]=R[104]=0,T[66]=T[104]=1,D[66]=D[104]=0,k[66]=k[104]=-1,L[66]=L[104]=0,I[66]=I[104]=1,N[66]=N[104]=0,F[66]=F[104]=-1,B[66]=B[104]=0,b[66]=b[104]=0,x[66]=x[104]=-1,E[66]=E[104]=1,S[144]=S[26]=-1,_[144]=_[26]=0,O[144]=O[26]=0,V[144]=V[26]=1,q[144]=q[26]=0,z[144]=z[26]=1,N[144]=N[26]=0,F[144]=F[26]=1,B[144]=B[26]=1,P[144]=P[26]=-1,M[144]=M[26]=0,w[144]=w[26]=1,j[36]=j[134]=0,A[36]=A[134]=1,C[36]=C[134]=1,R[36]=R[134]=0,T[36]=T[134]=1,D[36]=D[134]=0,b[36]=b[134]=0,x[36]=x[134]=-1,E[36]=E[134]=1,P[36]=P[134]=1,M[36]=M[134]=0,w[36]=w[134]=0,S[9]=S[161]=-1,_[9]=_[161]=0,O[9]=O[161]=0,j[9]=j[161]=0,A[9]=A[161]=-1,C[9]=C[161]=0,k[9]=k[161]=1,L[9]=L[161]=0,I[9]=I[161]=0,V[9]=V[161]=1,q[9]=q[161]=0,z[9]=z[161]=1,S[136]=0,_[136]=1,O[136]=1,j[136]=0,A[136]=1,C[136]=0,R[136]=-1,T[136]=0,D[136]=1,k[136]=-1,L[136]=0,I[136]=0,V[136]=0,q[136]=-1,z[136]=0,N[136]=0,F[136]=-1,B[136]=1,b[136]=1,x[136]=0,E[136]=0,P[136]=1,M[136]=0,w[136]=1,S[34]=0,_[34]=-1,O[34]=0,j[34]=0,A[34]=-1,C[34]=1,R[34]=1,T[34]=0,D[34]=0,k[34]=1,L[34]=0,I[34]=1,V[34]=0,q[34]=1,z[34]=1,N[34]=0,F[34]=1,B[34]=0,b[34]=-1,x[34]=0,E[34]=1,P[34]=-1,M[34]=0,w[34]=0,S[35]=0,_[35]=1,O[35]=1,j[35]=0,A[35]=-1,C[35]=1,R[35]=1,T[35]=0,D[35]=0,k[35]=-1,L[35]=0,I[35]=0,V[35]=0,q[35]=-1,z[35]=0,N[35]=0,F[35]=1,B[35]=0,b[35]=-1,x[35]=0,E[35]=1,P[35]=1,M[35]=0,w[35]=1,S[153]=0,_[153]=1,O[153]=1,k[153]=-1,L[153]=0,I[153]=0,V[153]=0,q[153]=-1,z[153]=0,P[153]=1,M[153]=0,w[153]=1,j[102]=0,A[102]=-1,C[102]=1,R[102]=1,T[102]=0,D[102]=0,N[102]=0,F[102]=1,B[102]=0,b[102]=-1,x[102]=0,E[102]=1,S[155]=0,_[155]=-1,O[155]=0,k[155]=1,L[155]=0,I[155]=1,V[155]=0,q[155]=1,z[155]=1,P[155]=-1,M[155]=0,w[155]=0,j[103]=0,A[103]=1,C[103]=0,R[103]=-1,T[103]=0,D[103]=1,N[103]=0,F[103]=-1,B[103]=1,b[103]=1,x[103]=0,E[103]=0,S[152]=0,_[152]=1,O[152]=1,R[152]=-1,T[152]=0,D[152]=1,k[152]=-1,L[152]=0,I[152]=0,V[152]=0,q[152]=-1,z[152]=0,N[152]=0,F[152]=-1,B[152]=1,P[152]=1,M[152]=0,w[152]=1,S[156]=0,_[156]=-1,O[156]=1,R[156]=1,T[156]=0,D[156]=1,k[156]=-1,L[156]=0,I[156]=0,V[156]=0,q[156]=-1,z[156]=0,N[156]=0,F[156]=1,B[156]=1,P[156]=-1,M[156]=0,w[156]=1,S[137]=0,_[137]=1,O[137]=1,j[137]=0,A[137]=1,C[137]=0,k[137]=-1,L[137]=0,I[137]=0,V[137]=0,q[137]=-1,z[137]=0,b[137]=1,x[137]=0,E[137]=0,P[137]=1,M[137]=0,w[137]=1,S[139]=0,_[139]=1,O[139]=1,j[139]=0,A[139]=-1,C[139]=0,k[139]=1,L[139]=0,I[139]=0,V[139]=0,q[139]=1,z[139]=0,b[139]=-1,x[139]=0,E[139]=0,P[139]=1,M[139]=0,w[139]=1,S[98]=0,_[98]=-1,O[98]=0,j[98]=0,A[98]=-1,C[98]=1,R[98]=1,T[98]=0,D[98]=0,k[98]=1,L[98]=0,I[98]=1,N[98]=0,F[98]=1,B[98]=0,b[98]=-1,x[98]=0,E[98]=1,S[99]=0,_[99]=1,O[99]=0,j[99]=0,A[99]=-1,C[99]=1,R[99]=1,T[99]=0,D[99]=0,k[99]=-1,L[99]=0,I[99]=1,N[99]=0,F[99]=-1,B[99]=0,b[99]=1,x[99]=0,E[99]=1,j[38]=0,A[38]=-1,C[38]=1,R[38]=1,T[38]=0,D[38]=0,V[38]=0,q[38]=1,z[38]=1,N[38]=0,F[38]=1,B[38]=0,b[38]=-1,x[38]=0,E[38]=1,P[38]=-1,M[38]=0,w[38]=0,j[39]=0,A[39]=1,C[39]=1,R[39]=-1,T[39]=0,D[39]=0,V[39]=0,q[39]=-1,z[39]=1,N[39]=0,F[39]=1,B[39]=0,b[39]=-1,x[39]=0,E[39]=1,P[39]=1,M[39]=0,w[39]=0;var U=function(t){return[[t.bottomleft,0],[0,0],[0,t.leftbottom]]},G=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0]]},Y=function(t){return[[t.topright,1],[1,1],[1,t.righttop]]},X=function(t){return[[0,t.lefttop],[0,1],[t.topleft,1]]},$=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop]]},W=function(t){return[[t.bottomright,0],[t.bottomleft,0],[1,t.righttop],[1,t.rightbottom]]},H=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.topleft,1],[t.topright,1]]},J=function(t){return[[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},Z=[],K=[],Q=[],tt=[],te=[],tr=[],tn=[],to=[];tt[1]=te[1]=18,tt[169]=te[169]=18,Q[4]=K[4]=12,Q[166]=K[166]=12,Z[16]=to[16]=4,Z[154]=to[154]=4,tr[64]=tn[64]=22,tr[106]=tn[106]=22,Q[2]=tr[2]=17,tt[2]=te[2]=18,Q[168]=tr[168]=17,tt[168]=te[168]=18,Z[8]=tt[8]=9,K[8]=Q[8]=12,Z[162]=tt[162]=9,K[162]=Q[162]=12,Z[32]=to[32]=4,K[32]=tn[32]=1,Z[138]=to[138]=4,K[138]=tn[138]=1,te[128]=to[128]=21,tr[128]=tn[128]=22,te[42]=to[42]=21,tr[42]=tn[42]=22,K[5]=te[5]=14,K[165]=te[165]=14,Q[20]=to[20]=6,Q[150]=to[150]=6,Z[80]=tr[80]=11,Z[90]=tr[90]=11,tt[65]=tn[65]=3,tt[105]=tn[105]=3,Z[160]=tr[160]=11,K[160]=te[160]=14,Z[10]=tr[10]=11,K[10]=te[10]=14,Q[130]=to[130]=6,tt[130]=tn[130]=3,Q[40]=to[40]=6,tt[40]=tn[40]=3,K[101]=tn[101]=1,K[69]=tn[69]=1,te[149]=to[149]=21,te[21]=to[21]=21,Q[86]=tr[86]=17,Q[84]=tr[84]=17,Z[89]=tt[89]=9,Z[81]=tt[81]=9,Z[96]=tn[96]=0,K[96]=tr[96]=15,Z[74]=tn[74]=0,K[74]=tr[74]=15,Z[24]=Q[24]=8,tt[24]=to[24]=7,Z[146]=Q[146]=8,tt[146]=to[146]=7,K[6]=tr[6]=15,Q[6]=te[6]=16,K[164]=tr[164]=15,Q[164]=te[164]=16,tt[129]=to[129]=7,te[129]=tn[129]=20,tt[41]=to[41]=7,te[41]=tn[41]=20,Q[66]=tn[66]=2,tt[66]=tr[66]=19,Q[104]=tn[104]=2,tt[104]=tr[104]=19,Z[144]=te[144]=10,tr[144]=to[144]=23,Z[26]=te[26]=10,tr[26]=to[26]=23,K[36]=to[36]=5,Q[36]=tn[36]=2,K[134]=to[134]=5,Q[134]=tn[134]=2,Z[9]=te[9]=10,K[9]=tt[9]=13,Z[161]=te[161]=10,K[161]=tt[161]=13,K[37]=to[37]=5,te[37]=tn[37]=20,K[133]=to[133]=5,te[133]=tn[133]=20,Q[148]=te[148]=16,tr[148]=to[148]=23,Q[22]=te[22]=16,tr[22]=to[22]=23,Z[82]=Q[82]=8,tt[82]=tr[82]=19,Z[88]=Q[88]=8,tt[88]=tr[88]=19,Z[73]=tn[73]=0,K[73]=tt[73]=13,Z[97]=tn[97]=0,K[97]=tt[97]=13,Z[145]=tt[145]=9,te[145]=to[145]=21,Z[25]=tt[25]=9,te[25]=to[25]=21,K[70]=tn[70]=1,Q[70]=tr[70]=17,K[100]=tn[100]=1,Q[100]=tr[100]=17,Z[34]=tt[34]=9,K[34]=Q[34]=12,te[34]=to[34]=21,tr[34]=tn[34]=22,Z[136]=to[136]=4,K[136]=tn[136]=1,Q[136]=tr[136]=17,tt[136]=te[136]=18,Z[35]=to[35]=4,K[35]=Q[35]=12,tt[35]=te[35]=18,tr[35]=tn[35]=22,Z[153]=to[153]=4,tt[153]=te[153]=18,K[102]=Q[102]=12,tr[102]=tn[102]=22,Z[155]=tt[155]=9,te[155]=to[155]=23,K[103]=tn[103]=1,Q[103]=tr[103]=17,Z[152]=to[152]=4,Q[152]=tr[152]=17,tt[152]=te[152]=18,Z[156]=Q[156]=8,tt[156]=te[156]=18,tr[156]=to[156]=23,Z[137]=to[137]=4,K[137]=tn[137]=1,tt[137]=te[137]=18,Z[139]=to[139]=4,K[139]=tt[139]=13,te[139]=tn[139]=20,Z[98]=tt[98]=9,K[98]=Q[98]=12,tr[98]=tn[98]=22,Z[99]=tn[99]=0,K[99]=Q[99]=12,tt[99]=tr[99]=19,K[38]=Q[38]=12,te[38]=to[38]=21,tr[38]=tn[38]=22,K[39]=to[39]=5,Q[39]=te[39]=16,tr[39]=tn[39]=22;var ti=[];function ta(t){return t.constructor.toString().indexOf("Array")>-1}function ts(t,e,r){if(r=r||{},!u.isObject(r))throw Error("options is invalid");var n,o,i,a,l,f,U,G,Y,X,$,W=r.zProperty||"elevation",H=r.commonProperties||{},J=r.breaksProperties||[];if(s.collectionOf(t,"Point","Input must contain Points"),!e)throw Error("breaks is required");if(!Array.isArray(e))throw Error("breaks is not an Array");if(!u.isObject(H))throw Error("commonProperties is not an Object");if(!Array.isArray(J))throw Error("breaksProperties is not an Array");var ts=function(t,e){if(e=e||{},!u.isObject(e))throw Error("options is invalid");var r,n=e.zProperty||"elevation",o=e.flip,i=e.flags;s.collectionOf(t,"Point","input must contain Points");for(var a=(r={},c.featureEach(t,function(t){var e=s.getCoords(t)[1];r[e]||(r[e]=[]),r[e].push(t)}),Object.keys(r).map(function(t){return r[t].sort(function(t,e){return s.getCoords(t)[0]-s.getCoords(e)[0]})}).sort(function(t,e){return o?s.getCoords(t[0])[1]-s.getCoords(e[0])[1]:s.getCoords(e[0])[1]-s.getCoords(t[0])[1]})),l=[],f=0;f<a.length;f++){for(var h=a[f],p=[],d=0;d<h.length;d++){var g=h[d];g.properties[n]?p.push(g.properties[n]):p.push(0),!0===i&&(g.properties.matrixPosition=[f,d])}l.push(p)}return l}(t,{zProperty:W,flip:!0}),tu=function(t,e,r){for(var n=[],o=1;o<e.length;o++){var i=+e[o-1],a=+e[o],s=function(t){for(var e=t.map(function(t){return{lrCoordinates:t,grouped:!1}}),r=[];!function(t){for(var e=0;e<t.length;e++)if(!1===t[e].grouped)return!1;return!0}(e);)for(var n=0;n<e.length;n++)if(!e[n].grouped){var o=[];o.push(e[n].lrCoordinates),e[n].grouped=!0;for(var i=u.polygon([e[n].lrCoordinates]),a=n+1;a<e.length;a++)!e[a].grouped&&function(t,e){for(var r=g.default(t),n=0;n<r.features.length;n++)if(!d.default(r.features[n],e))return!1;return!0}(u.polygon([e[a].lrCoordinates]),i)&&(o.push(e[a].lrCoordinates),e[a].grouped=!0);r.push(o)}return r}(function(t){var e=[],r=[];t.forEach(function(t){var n=p.default(u.polygon([t]));r.push(n),e.push({ring:t,area:n})}),r.sort(function(t,e){return e-t});var n=[];return r.forEach(function(t){for(var r=0;r<e.length;r++)if(e[r].area===t){n.push(e[r].ring),e.splice(r,1);break}}),n}(function(t,e,r,n){n=n||{};for(var o,i=Object.keys(y),a=0;a<i.length;a++){var s=i[a],u=n[s];u=null!=u?u:y[s],m[s]=u}m.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+e+":"+(e+r)+"]");var l=function(t,e,r){for(var n=t.length-1,o=t[0].length-1,i={rows:n,cols:o,cells:[]},a=e+Math.abs(r),s=0;s<n;++s){i.cells[s]=[];for(var u=0;u<o;++u){var l=0,c=t[s+1][u],f=t[s+1][u+1],h=t[s][u+1],p=t[s][u];if(!(isNaN(c)||isNaN(f)||isNaN(h)||isNaN(p))){l|=c<e?0:c>a?128:64,l|=f<e?0:f>a?32:16,l|=h<e?0:h>a?8:4;var d=+(l|=p<e?0:p>a?2:1),g=0;if(17===l||18===l||33===l||34===l||38===l||68===l||72===l||98===l||102===l||132===l||136===l||137===l||152===l||153===l){var v=(c+f+h+p)/4;g=v>a?2:v<e?0:1,34===l?1===g?l=35:0===g&&(l=136):136===l?1===g?(l=35,g=4):0===g&&(l=34):17===l?1===g?(l=155,g=4):0===g&&(l=153):68===l?1===g?(l=103,g=4):0===g&&(l=102):153===l?1===g&&(l=155):102===l?1===g&&(l=103):152===l?g<2&&(l=156,g=1):137===l?g<2&&(l=139,g=1):98===l?g<2&&(l=99,g=1):38===l?g<2&&(l=39,g=1):18===l?g>0?(l=156,g=4):l=152:33===l?g>0?(l=139,g=4):l=137:72===l?g>0?(l=99,g=4):l=98:132===l&&(g>0?(l=39,g=4):l=38)}if(0!=l&&170!=l){y=m=b=x=E=P=M=w=.5;var y,m,b,x,E,P,M,w,S=[];1===l?(b=1-(e-h)/(p-h),w=1-(e-c)/(p-c),S.push(tt[l])):169===l?(b=(a-p)/(h-p),w=(a-p)/(c-p),S.push(tt[l])):4===l?(P=1-(e-f)/(h-f),x=(e-p)/(h-p),S.push(K[l])):166===l?(P=(a-h)/(f-h),x=1-(a-h)/(p-h),S.push(K[l])):16===l?(E=(e-h)/(f-h),m=(e-c)/(f-c),S.push(Z[l])):154===l?(E=1-(a-f)/(h-f),m=1-(a-f)/(c-f),S.push(Z[l])):64===l?(M=(e-p)/(c-p),y=1-(e-f)/(c-f),S.push(tr[l])):106===l?(M=1-(a-c)/(p-c),y=(a-c)/(f-c),S.push(tr[l])):168===l?(x=(a-p)/(h-p),b=(e-p)/(h-p),w=(e-p)/(c-p),M=(a-p)/(c-p),S.push(Q[l]),S.push(tt[l])):2===l?(x=1-(e-h)/(p-h),b=1-(a-h)/(p-h),w=1-(a-c)/(p-c),M=1-(e-c)/(p-c),S.push(Q[l]),S.push(tt[l])):162===l?(E=(a-h)/(f-h),P=(e-h)/(f-h),x=1-(e-h)/(p-h),b=1-(a-h)/(p-h),S.push(Q[l]),S.push(tt[l])):8===l?(E=1-(e-f)/(h-f),P=1-(a-f)/(h-f),x=(a-p)/(h-p),b=(e-p)/(h-p),S.push(Z[l]),S.push(K[l])):138===l?(E=1-(e-f)/(h-f),P=1-(a-f)/(h-f),y=1-(a-f)/(c-f),m=1-(e-f)/(c-f),S.push(Z[l]),S.push(K[l])):32===l?(E=(a-h)/(f-h),P=(e-h)/(f-h),y=(e-c)/(f-c),m=(a-c)/(f-c),S.push(Z[l]),S.push(K[l])):42===l?(w=1-(a-c)/(p-c),M=1-(e-c)/(p-c),y=(e-c)/(f-c),m=(a-c)/(f-c),S.push(te[l]),S.push(tr[l])):128===l&&(w=(e-p)/(c-p),M=(a-p)/(c-p),y=1-(a-f)/(c-f),m=1-(e-f)/(c-f),S.push(te[l]),S.push(tr[l])),5===l?(P=1-(e-f)/(h-f),w=1-(e-c)/(p-c),S.push(K[l])):165===l?(P=(a-h)/(f-h),w=(a-p)/(c-p),S.push(K[l])):20===l?(x=(e-p)/(h-p),m=(e-c)/(f-c),S.push(Q[l])):150===l?(x=1-(a-h)/(p-h),m=1-(a-f)/(c-f),S.push(Q[l])):80===l?(E=(e-h)/(f-h),M=(e-p)/(c-p),S.push(Z[l])):90===l?(E=1-(a-f)/(h-f),M=1-(a-c)/(p-c),S.push(Z[l])):65===l?(b=1-(e-h)/(p-h),y=1-(e-f)/(c-f),S.push(tt[l])):105===l?(b=(a-p)/(h-p),y=(a-c)/(f-c),S.push(tt[l])):160===l?(E=(a-h)/(f-h),P=(e-h)/(f-h),w=(e-p)/(c-p),M=(a-p)/(c-p),S.push(Z[l]),S.push(K[l])):10===l?(E=1-(e-f)/(h-f),P=1-(a-f)/(h-f),w=1-(a-c)/(p-c),M=1-(e-c)/(p-c),S.push(Z[l]),S.push(K[l])):130===l?(x=1-(e-h)/(p-h),b=1-(a-h)/(p-h),y=1-(a-f)/(c-f),m=1-(e-f)/(c-f),S.push(Q[l]),S.push(tt[l])):40===l?(x=(a-p)/(h-p),b=(e-p)/(h-p),y=(e-c)/(f-c),m=(a-c)/(f-c),S.push(Q[l]),S.push(tt[l])):101===l?(P=(a-h)/(f-h),y=(a-c)/(f-c),S.push(K[l])):69===l?(P=1-(e-f)/(h-f),y=1-(e-f)/(c-f),S.push(K[l])):149===l?(w=(a-p)/(c-p),m=1-(a-f)/(c-f),S.push(te[l])):21===l?(w=1-(e-c)/(p-c),m=(e-c)/(f-c),S.push(te[l])):86===l?(x=1-(a-h)/(p-h),M=1-(a-c)/(p-c),S.push(Q[l])):84===l?(x=(e-p)/(h-p),M=(e-p)/(c-p),S.push(Q[l])):89===l?(E=1-(a-f)/(h-f),b=(a-p)/(h-p),S.push(tt[l])):81===l?(E=(e-h)/(f-h),b=1-(e-h)/(p-h),S.push(tt[l])):96===l?(E=(a-h)/(f-h),P=(e-h)/(f-h),M=(e-p)/(c-p),y=(a-c)/(f-c),S.push(Z[l]),S.push(K[l])):74===l?(E=1-(e-f)/(h-f),P=1-(a-f)/(h-f),M=1-(a-c)/(p-c),y=1-(e-f)/(c-f),S.push(Z[l]),S.push(K[l])):24===l?(E=1-(a-f)/(h-f),x=(a-p)/(h-p),b=(e-p)/(h-p),m=(e-c)/(f-c),S.push(Z[l]),S.push(tt[l])):146===l?(E=(e-h)/(f-h),x=1-(e-h)/(p-h),b=1-(a-h)/(p-h),m=1-(a-f)/(c-f),S.push(Z[l]),S.push(tt[l])):6===l?(P=1-(e-f)/(h-f),x=1-(a-h)/(p-h),w=1-(a-c)/(p-c),M=1-(e-c)/(p-c),S.push(K[l]),S.push(Q[l])):164===l?(P=(a-h)/(f-h),x=(e-p)/(h-p),w=(e-p)/(c-p),M=(a-p)/(c-p),S.push(K[l]),S.push(Q[l])):129===l?(b=1-(e-h)/(p-h),w=(a-p)/(c-p),y=1-(a-f)/(c-f),m=1-(e-f)/(c-f),S.push(tt[l]),S.push(te[l])):41===l?(b=(a-p)/(h-p),w=1-(e-c)/(p-c),y=(e-c)/(f-c),m=(a-c)/(f-c),S.push(tt[l]),S.push(te[l])):66===l?(x=1-(e-h)/(p-h),b=1-(a-h)/(p-h),M=1-(a-c)/(p-c),y=1-(e-f)/(c-f),S.push(Q[l]),S.push(tt[l])):104===l?(x=(a-p)/(h-p),b=(e-p)/(h-p),M=(e-p)/(c-p),y=(a-c)/(f-c),S.push(tt[l]),S.push(tn[l])):144===l?(E=(e-h)/(f-h),w=(e-p)/(c-p),M=(a-p)/(c-p),m=1-(a-f)/(c-f),S.push(Z[l]),S.push(tr[l])):26===l?(E=1-(a-f)/(h-f),w=1-(a-c)/(p-c),M=1-(e-c)/(p-c),m=(e-c)/(f-c),S.push(Z[l]),S.push(tr[l])):36===l?(P=(a-h)/(f-h),x=(e-p)/(h-p),y=(e-c)/(f-c),m=(a-c)/(f-c),S.push(K[l]),S.push(Q[l])):134===l?(P=1-(e-f)/(h-f),x=1-(a-h)/(p-h),y=1-(a-f)/(c-f),m=1-(e-f)/(c-f),S.push(K[l]),S.push(Q[l])):9===l?(E=1-(e-f)/(h-f),P=1-(a-f)/(h-f),b=(a-p)/(h-p),w=1-(e-c)/(p-c),S.push(Z[l]),S.push(K[l])):161===l?(E=(a-h)/(f-h),P=(e-h)/(f-h),b=1-(e-h)/(p-h),w=(a-p)/(c-p),S.push(Z[l]),S.push(K[l])):37===l?(P=(a-h)/(f-h),w=1-(e-c)/(p-c),y=(e-c)/(f-c),m=(a-c)/(f-c),S.push(K[l]),S.push(te[l])):133===l?(P=1-(e-f)/(h-f),w=(a-p)/(c-p),y=1-(a-f)/(c-f),m=1-(e-f)/(c-f),S.push(K[l]),S.push(te[l])):148===l?(x=(e-p)/(h-p),w=(e-p)/(c-p),M=(a-p)/(c-p),m=1-(a-f)/(c-f),S.push(Q[l]),S.push(tr[l])):22===l?(x=1-(a-h)/(p-h),w=1-(a-c)/(p-c),M=1-(e-c)/(p-c),m=(e-c)/(f-c),S.push(Q[l]),S.push(tr[l])):82===l?(E=(e-h)/(f-h),x=1-(e-h)/(p-h),b=1-(a-h)/(p-h),M=1-(a-c)/(p-c),S.push(Z[l]),S.push(tt[l])):88===l?(E=1-(a-f)/(h-f),x=(a-p)/(h-p),b=(e-p)/(h-p),M=(e-p)/(c-p),S.push(Z[l]),S.push(tt[l])):73===l?(E=1-(e-f)/(h-f),P=1-(a-f)/(h-f),b=(a-p)/(h-p),y=1-(e-f)/(c-f),S.push(Z[l]),S.push(K[l])):97===l?(E=(a-h)/(f-h),P=(e-h)/(f-h),b=1-(e-h)/(p-h),y=(a-c)/(f-c),S.push(Z[l]),S.push(K[l])):145===l?(E=(e-h)/(f-h),b=1-(e-h)/(p-h),w=(a-p)/(c-p),m=1-(a-f)/(c-f),S.push(Z[l]),S.push(te[l])):25===l?(E=1-(a-f)/(h-f),b=(a-p)/(h-p),w=1-(e-c)/(p-c),m=(e-c)/(f-c),S.push(Z[l]),S.push(te[l])):70===l?(P=1-(e-f)/(h-f),x=1-(a-h)/(p-h),M=1-(a-c)/(p-c),y=1-(e-f)/(c-f),S.push(K[l]),S.push(Q[l])):100===l?(P=(a-h)/(f-h),x=(e-p)/(h-p),M=(e-p)/(c-p),y=(a-c)/(f-c),S.push(K[l]),S.push(Q[l])):34===l?(0===g?(E=1-(e-f)/(h-f),P=1-(a-f)/(h-f),x=(a-p)/(h-p),b=(e-p)/(h-p),w=(e-p)/(c-p),M=(a-p)/(c-p),y=1-(a-f)/(c-f),m=1-(e-f)/(c-f)):(E=(a-h)/(f-h),P=(e-h)/(f-h),x=1-(e-h)/(p-h),b=1-(a-h)/(p-h),w=1-(a-c)/(p-c),M=1-(e-c)/(p-c),y=(e-c)/(f-c),m=(a-c)/(f-c)),S.push(Z[l]),S.push(K[l]),S.push(te[l]),S.push(tr[l])):35===l?(4===g?(E=1-(e-f)/(h-f),P=1-(a-f)/(h-f),x=(a-p)/(h-p),b=(e-p)/(h-p),w=(e-p)/(c-p),M=(a-p)/(c-p),y=1-(a-f)/(c-f),m=1-(e-f)/(c-f)):(E=(a-h)/(f-h),P=(e-h)/(f-h),x=1-(e-h)/(p-h),b=1-(a-h)/(p-h),w=1-(a-c)/(p-c),M=1-(e-c)/(p-c),y=(e-c)/(f-c),m=(a-c)/(f-c)),S.push(Z[l]),S.push(K[l]),S.push(tt[l]),S.push(tr[l])):136===l?(0===g?(E=(a-h)/(f-h),P=(e-h)/(f-h),x=1-(e-h)/(p-h),b=1-(a-h)/(p-h),w=1-(a-c)/(p-c),M=1-(e-c)/(p-c),y=(e-c)/(f-c),m=(a-c)/(f-c)):(E=1-(e-f)/(h-f),P=1-(a-f)/(h-f),x=(a-p)/(h-p),b=(e-p)/(h-p),w=(e-p)/(c-p),M=(a-p)/(c-p),y=1-(a-f)/(c-f),m=1-(e-f)/(c-f)),S.push(Z[l]),S.push(K[l]),S.push(te[l]),S.push(tr[l])):153===l?(0===g?(E=(e-h)/(f-h),b=1-(e-h)/(p-h),w=1-(e-c)/(p-c),m=(e-c)/(f-c)):(E=1-(a-f)/(h-f),b=(a-p)/(h-p),w=(a-p)/(c-p),m=1-(a-f)/(c-f)),S.push(Z[l]),S.push(tt[l])):102===l?(0===g?(P=1-(e-f)/(h-f),x=(e-p)/(h-p),M=(e-p)/(c-p),y=1-(e-f)/(c-f)):(P=(a-h)/(f-h),x=1-(a-h)/(p-h),M=1-(a-c)/(p-c),y=(a-c)/(f-c)),S.push(K[l]),S.push(tr[l])):155===l?(4===g?(E=(e-h)/(f-h),b=1-(e-h)/(p-h),w=1-(e-c)/(p-c),m=(e-c)/(f-c)):(E=1-(a-f)/(h-f),b=(a-p)/(h-p),w=(a-p)/(c-p),m=1-(a-f)/(c-f)),S.push(Z[l]),S.push(te[l])):103===l?(4===g?(P=1-(e-f)/(h-f),x=(e-p)/(h-p),M=(e-p)/(c-p),y=1-(e-f)/(c-f)):(P=(a-h)/(f-h),x=1-(a-h)/(p-h),M=1-(a-c)/(p-c),y=(a-c)/(f-c)),S.push(K[l]),S.push(Q[l])):152===l?(0===g?(E=(e-h)/(f-h),x=1-(e-h)/(p-h),b=1-(a-h)/(p-h),w=1-(a-c)/(p-c),M=1-(e-c)/(p-c),m=(e-c)/(f-c)):(E=1-(a-f)/(h-f),x=(a-p)/(h-p),b=(e-p)/(h-p),w=(e-p)/(c-p),M=(a-p)/(c-p),m=1-(a-f)/(c-f)),S.push(Z[l]),S.push(Q[l]),S.push(tt[l])):156===l?(4===g?(E=(e-h)/(f-h),x=1-(e-h)/(p-h),b=1-(a-h)/(p-h),w=1-(a-c)/(p-c),M=1-(e-c)/(p-c),m=(e-c)/(f-c)):(E=1-(a-f)/(h-f),x=(a-p)/(h-p),b=(e-p)/(h-p),w=(e-p)/(c-p),M=(a-p)/(c-p),m=1-(a-f)/(c-f)),S.push(Z[l]),S.push(tt[l]),S.push(tr[l])):137===l?(0===g?(E=(a-h)/(f-h),P=(e-h)/(f-h),b=1-(e-h)/(p-h),w=1-(e-c)/(p-c),y=(e-c)/(f-c),m=(a-c)/(f-c)):(E=1-(e-f)/(h-f),P=1-(a-f)/(h-f),b=(a-p)/(h-p),w=(a-p)/(c-p),y=1-(a-f)/(c-f),m=1-(e-f)/(c-f)),S.push(Z[l]),S.push(K[l]),S.push(tt[l])):139===l?(4===g?(E=(a-h)/(f-h),P=(e-h)/(f-h),b=1-(e-h)/(p-h),w=1-(e-c)/(p-c),y=(e-c)/(f-c),m=(a-c)/(f-c)):(E=1-(e-f)/(h-f),P=1-(a-f)/(h-f),b=(a-p)/(h-p),w=(a-p)/(c-p),y=1-(a-f)/(c-f),m=1-(e-f)/(c-f)),S.push(Z[l]),S.push(K[l]),S.push(te[l])):98===l?(0===g?(E=1-(e-f)/(h-f),P=1-(a-f)/(h-f),x=(a-p)/(h-p),b=(e-p)/(h-p),M=(e-p)/(c-p),y=1-(e-f)/(c-f)):(E=(a-h)/(f-h),P=(e-h)/(f-h),x=1-(e-h)/(p-h),b=1-(a-h)/(p-h),M=1-(a-c)/(p-c),y=(a-c)/(f-c)),S.push(Z[l]),S.push(K[l]),S.push(tr[l])):99===l?(4===g?(E=1-(e-f)/(h-f),P=1-(a-f)/(h-f),x=(a-p)/(h-p),b=(e-p)/(h-p),M=(e-p)/(c-p),y=1-(e-f)/(c-f)):(E=(a-h)/(f-h),P=(e-h)/(f-h),x=1-(e-h)/(p-h),b=1-(a-h)/(p-h),M=1-(a-c)/(p-c),y=(a-c)/(f-c)),S.push(Z[l]),S.push(K[l]),S.push(tt[l])):38===l?(0===g?(P=1-(e-f)/(h-f),x=(e-p)/(h-p),w=(e-p)/(c-p),M=(a-p)/(c-p),y=1-(a-f)/(c-f),m=1-(e-f)/(c-f)):(P=(a-h)/(f-h),x=1-(a-h)/(p-h),w=1-(a-c)/(p-c),M=1-(e-c)/(p-c),y=(e-c)/(f-c),m=(a-c)/(f-c)),S.push(K[l]),S.push(te[l]),S.push(tr[l])):39===l?(4===g?(P=1-(e-f)/(h-f),x=(e-p)/(h-p),w=(e-p)/(c-p),M=(a-p)/(c-p),y=1-(a-f)/(c-f),m=1-(e-f)/(c-f)):(P=(a-h)/(f-h),x=1-(a-h)/(p-h),w=1-(a-c)/(p-c),M=1-(e-c)/(p-c),y=(e-c)/(f-c),m=(a-c)/(f-c)),S.push(K[l]),S.push(Q[l]),S.push(tr[l])):85===l&&(E=1,P=0,x=1,b=0,w=0,M=1,y=0,m=1),(y<0||y>1||m<0||m>1||E<0||E>1||x<0||x>1||w<0||w>1||M<0||M>1)&&console.log("MarchingSquaresJS-isoBands: "+l+" "+d+" "+c+","+f+","+h+","+p+" "+g+" "+y+" "+m+" "+E+" "+P+" "+x+" "+b+" "+w+" "+M),i.cells[s][u]={cval:l,cval_real:d,flipped:g,topleft:y,topright:m,righttop:E,rightbottom:P,bottomright:x,bottomleft:b,leftbottom:w,lefttop:M,edges:S}}}}}return i}(t,e,r);return m.polygons?(m.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),o=function(t){var e=[],r=0;return t.cells.forEach(function(t,n){t.forEach(function(t,o){if(void 0!==t){var i=ti[t.cval](t);"object"==typeof i&&ta(i)?"object"==typeof i[0]&&ta(i[0])?"object"==typeof i[0][0]&&ta(i[0][0])?i.forEach(function(t){t.forEach(function(t){t[0]+=o,t[1]+=n}),e[r++]=t}):(i.forEach(function(t){t[0]+=o,t[1]+=n}),e[r++]=i):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}})}),e}(l)):(m.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),o=function(t){for(var e=[],r=t.rows,n=t.cols,o=[],i=0;i<r;i++)for(var a=0;a<n;a++)if(void 0!==t.cells[i][a]&&t.cells[i][a].edges.length>0){var s=function(t){if(t.edges.length>0){var e=t.edges[t.edges.length-1],r=t.cval_real;switch(e){case 0:if(16&r)return{p:[1,t.righttop],x:-1,y:0,o:1};return{p:[t.topleft,1],x:0,y:-1,o:0};case 1:if(4&r)return{p:[t.topleft,1],x:0,y:-1,o:0};return{p:[1,t.rightbottom],x:-1,y:0,o:0};case 2:if(4&r)return{p:[t.bottomright,0],x:0,y:1,o:1};return{p:[t.topleft,1],x:0,y:-1,o:0};case 3:if(1&r)return{p:[t.topleft,1],x:0,y:-1,o:0};return{p:[t.bottomleft,0],x:0,y:1,o:0};case 4:if(16&r)return{p:[1,t.righttop],x:-1,y:0,o:1};return{p:[t.topright,1],x:0,y:-1,o:1};case 5:if(4&r)return{p:[t.topright,1],x:0,y:-1,o:1};return{p:[1,t.rightbottom],x:-1,y:0,o:0};case 6:if(4&r)return{p:[t.bottomright,0],x:0,y:1,o:1};return{p:[t.topright,1],x:0,y:-1,o:1};case 7:if(1&r)return{p:[t.topright,1],x:0,y:-1,o:1};return{p:[t.bottomleft,0],x:0,y:1,o:0};case 8:if(4&r)return{p:[t.bottomright,0],x:0,y:1,o:1};return{p:[1,t.righttop],x:-1,y:0,o:1};case 9:if(1&r)return{p:[1,t.righttop],x:-1,y:0,o:1};return{p:[t.bottomleft,0],x:0,y:1,o:0};case 10:if(1&r)return{p:[0,t.leftbottom],x:1,y:0,o:0};return{p:[1,t.righttop],x:-1,y:0,o:1};case 11:if(64&r)return{p:[1,t.righttop],x:-1,y:0,o:1};return{p:[0,t.lefttop],x:1,y:0,o:1};case 12:if(4&r)return{p:[t.bottomright,0],x:0,y:1,o:1};return{p:[1,t.rightbottom],x:-1,y:0,o:0};case 13:if(1&r)return{p:[1,t.rightbottom],x:-1,y:0,o:0};return{p:[t.bottomleft,0],x:0,y:1,o:0};case 14:if(1&r)return{p:[0,t.leftbottom],x:1,y:0,o:0};return{p:[1,t.rightbottom],x:-1,y:0,o:0};case 15:if(64&r)return{p:[1,t.rightbottom],x:-1,y:0,o:0};return{p:[0,t.lefttop],x:1,y:0,o:1};case 16:if(4&r)return{p:[t.bottomright,0],x:0,y:1,o:1};return{p:[0,t.leftbottom],x:1,y:0,o:0};case 17:if(64&r)return{p:[t.bottomright,0],x:0,y:1,o:1};return{p:[0,t.lefttop],x:1,y:0,o:1};case 18:if(1&r)return{p:[0,t.leftbottom],x:1,y:0,o:0};return{p:[t.bottomleft,0],x:0,y:1,o:0};case 19:if(64&r)return{p:[t.bottomleft,0],x:0,y:1,o:0};return{p:[0,t.lefttop],x:1,y:0,o:1};case 20:if(64&r)return{p:[t.topleft,1],x:0,y:-1,o:0};return{p:[0,t.leftbottom],x:1,y:0,o:0};case 21:if(16&r)return{p:[0,t.leftbottom],x:1,y:0,o:0};return{p:[t.topright,1],x:0,y:-1,o:1};case 22:if(64&r)return{p:[t.topleft,1],x:0,y:-1,o:0};return{p:[0,t.lefttop],x:1,y:0,o:1};case 23:if(16&r)return{p:[0,t.lefttop],x:1,y:0,o:1};return{p:[t.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t)}}return null}(t.cells[i][a]),u=null,l=a,c=i;null!==s&&o.push([s.p[0]+l,s.p[1]+c]);do{if(null!==(u=function(t,e,r,n){var o,i,a,s,u,l=t.cval;switch(e){case -1:0===n?(i=K[l],s=j[l],u=A[l],o=C[l]):(i=Z[l],s=S[l],u=_[l],o=O[l]);break;case 1:0===n?(i=te[l],s=V[l],u=q[l],o=z[l]):(i=tr[l],s=N[l],u=F[l],o=B[l]);break;default:switch(r){case -1:0===n?(i=tn[l],s=b[l],u=x[l],o=E[l]):(i=to[l],s=P[l],u=M[l],o=w[l]);break;case 1:0===n?(i=tt[l],s=k[l],u=L[l],o=I[l]):(i=Q[l],s=R[l],u=T[l],o=D[l])}}if(a=t.edges.indexOf(i),void 0===t.edges[a])return null;switch(function(t,e){delete t.edges[e];for(var r=e+1;r<t.edges.length;r++)t.edges[r-1]=t.edges[r];t.edges.pop()}(t,a),l=t.cval_real,i){case 0:16&l?(e=t.topleft,r=1):(e=1,r=t.righttop);break;case 1:4&l?(e=1,r=t.rightbottom):(e=t.topleft,r=1);break;case 2:4&l?(e=t.topleft,r=1):(e=t.bottomright,r=0);break;case 3:1&l?(e=t.bottomleft,r=0):(e=t.topleft,r=1);break;case 4:16&l?(e=t.topright,r=1):(e=1,r=t.righttop);break;case 5:4&l?(e=1,r=t.rightbottom):(e=t.topright,r=1);break;case 6:4&l?(e=t.topright,r=1):(e=t.bottomright,r=0);break;case 7:1&l?(e=t.bottomleft,r=0):(e=t.topright,r=1);break;case 8:4&l?(e=1,r=t.righttop):(e=t.bottomright,r=0);break;case 9:1&l?(e=t.bottomleft,r=0):(e=1,r=t.righttop);break;case 10:1&l?(e=1,r=t.righttop):(e=0,r=t.leftbottom);break;case 11:64&l?(e=0,r=t.lefttop):(e=1,r=t.righttop);break;case 12:4&l?(e=1,r=t.rightbottom):(e=t.bottomright,r=0);break;case 13:1&l?(e=t.bottomleft,r=0):(e=1,r=t.rightbottom);break;case 14:1&l?(e=1,r=t.rightbottom):(e=0,r=t.leftbottom);break;case 15:64&l?(e=0,r=t.lefttop):(e=1,r=t.rightbottom);break;case 16:4&l?(e=0,r=t.leftbottom):(e=t.bottomright,r=0);break;case 17:64&l?(e=0,r=t.lefttop):(e=t.bottomright,r=0);break;case 18:1&l?(e=t.bottomleft,r=0):(e=0,r=t.leftbottom);break;case 19:64&l?(e=0,r=t.lefttop):(e=t.bottomleft,r=0);break;case 20:64&l?(e=0,r=t.leftbottom):(e=t.topleft,r=1);break;case 21:16&l?(e=t.topright,r=1):(e=0,r=t.leftbottom);break;case 22:64&l?(e=0,r=t.lefttop):(e=t.topleft,r=1);break;case 23:16&l?(e=t.topright,r=1):(e=0,r=t.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t),null}return(void 0===e||void 0===r||void 0===s||void 0===u||void 0===o)&&(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(t),console.log(e+" "+r+" "+s+" "+u+" "+o)),{p:[e,r],x:s,y:u,o:o}}(t.cells[c][l],s.x,s.y,s.o)))o.push([u.p[0]+l,u.p[1]+c]),l+=u.x,c+=u.y,s=u;else break;if(c<0||c>=r||l<0||l>=n||void 0===t.cells[c][l]){var f=function(t,e,r,n,o,i){for(var a=t.cells[r][e],s=a.cval_real,u=e+n,l=r+o,c=[],f=!1;!f;){if(void 0===t.cells[l]||void 0===t.cells[l][u]){if(l-=o,u-=n,s=(a=t.cells[l][u]).cval_real,-1===o){if(0===i){if(1&s)c.push([u,l]),n=-1,o=0,i=0;else if(4&s)c.push([u+1,l]),n=1,o=0,i=0;else{c.push([u+a.bottomright,l]),n=0,o=1,i=1,f=!0;break}}else if(1&s)c.push([u,l]),n=-1,o=0,i=0;else if(4&s){c.push([u+a.bottomright,l]),n=0,o=1,i=1,f=!0;break}else{c.push([u+a.bottomleft,l]),n=0,o=1,i=0,f=!0;break}}else if(1===o){if(0===i){if(16&s)c.push([u+1,l+1]),n=1,o=0,i=1;else if(64&s){c.push([u+a.topleft,l+1]),n=0,o=-1,i=0,f=!0;break}else{c.push([u+a.topright,l+1]),n=0,o=-1,i=1,f=!0;break}}else c.push([u+1,l+1]),n=1,o=0,i=1}else if(-1===n){if(0===i){if(64&s)c.push([u,l+1]),n=0,o=1,i=0;else if(1&s){c.push([u,l+a.leftbottom]),n=1,o=0,i=0,f=!0;break}else{c.push([u,l+a.lefttop]),n=1,o=0,i=1,f=!0;break}}else if(64&s)c.push([u,l+1]),n=0,o=1,i=0;else{console.log("MarchingSquaresJS-isoBands: wtf");break}}else if(1===n){if(0===i){if(4&s)c.push([u+1,l]),n=0,o=-1,i=1;else{c.push([u+1,l+a.rightbottom]),n=-1,o=0,i=0,f=!0;break}}else if(4&s)c.push([u+1,l]),n=0,o=-1,i=1;else if(16&s){c.push([u+1,l+a.righttop]),n=-1,o=0,i=1;break}else{c.push([u+1,l+a.rightbottom]),n=-1,o=0,i=0,f=!0;break}}else{console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}}else if(s=(a=t.cells[l][u]).cval_real,-1===n){if(0===i){if(void 0!==t.cells[l-1]&&void 0!==t.cells[l-1][u])n=0,o=-1,i=1;else if(1&s)c.push([u,l]);else{c.push([u+a.bottomright,l]),n=0,o=1,i=1,f=!0;break}}else if(64&s)console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!");else{console.log("MarchingSquaresJS-isoBands: found entry from top at "+u+","+l);break}}else if(1===n){if(0===i){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l+1]&&void 0!==t.cells[l+1][u])n=0,o=1,i=0;else if(16&s)c.push([u+1,l+1]),n=1,o=0,i=1;else{c.push([u+a.topleft,l+1]),n=0,o=-1,i=0,f=!0;break}}else if(-1===o){if(1===i){if(void 0!==t.cells[l][u+1])n=1,o=0,i=1;else if(4&s)c.push([u+1,l]),n=0,o=-1,i=1;else{c.push([u+1,l+a.righttop]),n=-1,o=0,i=1,f=!0;break}}else{console.log("MarchingSquaresJS-isoBands: wtf");break}}else if(1===o){if(0===i){if(void 0!==t.cells[l][u-1])n=-1,o=0,i=0;else if(64&s)c.push([u,l+1]),n=0,o=1,i=0;else{c.push([u,l+a.leftbottom]),n=1,o=0,i=0,f=!0;break}}else{console.log("MarchingSquaresJS-isoBands: wtf");break}}else{console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(u+=n,l+=o,u===e&&l===r)break}return{path:c,i:u,j:l,x:n,y:o,o:i}}(t,l-=u.x,c-=u.y,u.x,u.y,u.o);if(null!==f)f.path.forEach(function(t){o.push(t)}),l=f.i,c=f.j,s=f;else break}}while(void 0!==t.cells[c][l]&&t.cells[c][l].edges.length>0);e.push(o),o=[],t.cells[i][a].edges.length>0&&a--}return e}(l)),"function"==typeof m.successCallback&&m.successCallback(o),o}(t,i,a-i))),l={};l.groupedRings=s,l[r]=i+"-"+a,n.push(l)}return n}(ts,e,W),tl=(n=tu,i=(o=h.default(t))[2]-o[0],a=o[3]-o[1],l=o[0],f=o[1],U=ts[0].length-1,G=ts.length-1,Y=i/U,X=a/G,$=function(t){t[0]=t[0]*Y+l,t[1]=t[1]*X+f},n.forEach(function(t){t.groupedRings.forEach(function(t){t.forEach(function(t){t.forEach($)})})}),tu=n).map(function(t,e){if(J[e]&&!u.isObject(J[e]))throw Error("Each mappedProperty is required to be an Object");var r=v.default({},H,J[e]);return r[W]=t[W],u.multiPolygon(t.groupedRings,r)});return u.featureCollection(tl)}ti[1]=ti[169]=U,ti[4]=ti[166]=G,ti[16]=ti[154]=Y,ti[64]=ti[106]=X,ti[168]=ti[2]=$,ti[162]=ti[8]=W,ti[138]=ti[32]=H,ti[42]=ti[128]=J,ti[5]=ti[165]=function(t){return[[0,0],[0,t.leftbottom],[1,t.rightbottom],[1,0]]},ti[20]=ti[150]=function(t){return[[1,0],[t.bottomright,0],[t.topright,1],[1,1]]},ti[80]=ti[90]=function(t){return[[1,1],[1,t.righttop],[0,t.lefttop],[0,1]]},ti[65]=ti[105]=function(t){return[[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},ti[160]=ti[10]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.leftbottom],[0,t.lefttop]]},ti[130]=ti[40]=function(t){return[[t.topleft,1],[t.topright,1],[t.bottomright,0],[t.bottomleft,0]]},ti[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},ti[101]=ti[69]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,1],[t.topleft,1]]},ti[149]=ti[21]=function(t){return[[t.topright,1],[1,1],[1,0],[0,0],[0,t.leftbottom]]},ti[86]=ti[84]=function(t){return[[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[1,1]]},ti[89]=ti[81]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,1]]},ti[96]=ti[74]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.lefttop],[0,1],[t.topleft,1]]},ti[24]=ti[146]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[t.topright,1]]},ti[6]=ti[164]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop]]},ti[129]=ti[41]=function(t){return[[t.topright,1],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1]]},ti[66]=ti[104]=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},ti[144]=ti[26]=function(t){return[[1,1],[1,t.righttop],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},ti[36]=ti[134]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[t.topleft,1],[t.topright,1]]},ti[9]=ti[161]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom]]},ti[37]=ti[133]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},ti[148]=ti[22]=function(t){return[[1,1],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},ti[82]=ti[88]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1]]},ti[73]=ti[97]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},ti[145]=ti[25]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},ti[70]=ti[100]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},ti[34]=function(t){return[J(t),W(t)]},ti[35]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},ti[136]=function(t){return[H(t),$(t)]},ti[153]=function(t){return[Y(t),U(t)]},ti[102]=function(t){return[G(t),X(t)]},ti[155]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},ti[103]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},ti[152]=function(t){return[Y(t),$(t)]},ti[156]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},ti[137]=function(t){return[H(t),U(t)]},ti[139]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},ti[98]=function(t){return[W(t),X(t)]},ti[99]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},ti[38]=function(t){return[G(t),J(t)]},ti[39]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},t.exports=ts,t.exports.default=ts},5072:function(t,e,r){"use strict";var n=r(4635),o=r(9163),i=r(2258),a=r(1719),s=r(7185);function u(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var l=u(n),c=u(s),f={successCallback:null,verbose:!1},h={};function p(t){return 0===t.cval||15===t.cval}function d(t){p(t)||5===t.cval||10===t.cval||(t.cval=15)}function g(t,e){return"top"===e?[t.top,1]:"bottom"===e?[t.bottom,0]:"right"===e?[1,t.right]:"left"===e?[0,t.left]:void 0}function v(t,e,r){if(r=r||{},!a.isObject(r))throw Error("options is invalid");var n,s,u,v,y,m,b,x,E,P,M,w=r.zProperty||"elevation",S=r.commonProperties||{},_=r.breaksProperties||[];if(i.collectionOf(t,"Point","Input must contain Points"),!e)throw Error("breaks is required");if(!Array.isArray(e))throw Error("breaks must be an Array");if(!a.isObject(S))throw Error("commonProperties must be an Object");if(!Array.isArray(_))throw Error("breaksProperties must be an Array");var O=function(t,e){if(e=e||{},!a.isObject(e))throw Error("options is invalid");var r,n=e.zProperty||"elevation",s=e.flip,u=e.flags;i.collectionOf(t,"Point","input must contain Points");for(var l=(r={},o.featureEach(t,function(t){var e=i.getCoords(t)[1];r[e]||(r[e]=[]),r[e].push(t)}),Object.keys(r).map(function(t){return r[t].sort(function(t,e){return i.getCoords(t)[0]-i.getCoords(e)[0]})}).sort(function(t,e){return s?i.getCoords(t[0])[1]-i.getCoords(e[0])[1]:i.getCoords(e[0])[1]-i.getCoords(t[0])[1]})),c=[],f=0;f<l.length;f++){for(var h=l[f],p=[],d=0;d<h.length;d++){var g=h[d];g.properties[n]?p.push(g.properties[n]):p.push(0),!0===u&&(g.properties.matrixPosition=[f,d])}c.push(p)}return c}(t,{zProperty:w,flip:!0}),j=(n=function(t,e,r,n,o){for(var i=[],s=1;s<e.length;s++){var u=+e[s],l=c.default({},n,o[s]);l[r]=u;var v=a.multiLineString(function(t,e,r){r=r||{};for(var n=Object.keys(f),o=0;o<n.length;o++){var i=n[o],a=r[i];a=null!=a?a:f[i],h[i]=a}h.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+e);var s=function(t){var e=[],r=0;return t.cells.forEach(function(n,o){n.forEach(function(n,i){if(void 0!==n&&!(5===n.cval||10===n.cval)&&!p(n)){var a=function(t,e,r){var n,o,i,a=t.length,s=[],u=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],l=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],c=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],f=t[e][r],h=f.cval,i=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"][h],p=g(f,i);s.push([r+p[0],e+p[1]]),p=g(f,i=c[h]),s.push([r+p[0],e+p[1]]),d(f);for(var v=r+u[h],y=e+l[h],m=h;v>=0&&y>=0&&y<a&&(v!=r||y!=e)&&void 0!==(f=t[y][v]);){if(0===(h=f.cval)||15===h)return{path:s,info:"mergeable"};i=c[h],n=u[h],o=l[h],(5===h||10===h)&&(5===h?f.flipped?(-1===l[m]?(i="left",n=-1):(i="right",n=1),o=0):-1===u[m]&&(i="bottom",n=0,o=-1):10===h&&(f.flipped?-1===u[m]?(i="top",n=0,o=1):(i="bottom",n=0,o=-1):1===l[m]&&(i="left",n=-1,o=0))),p=g(f,i),s.push([v+p[0],y+p[1]]),d(f),v+=n,y+=o,m=h}return{path:s,info:"closed"}}(t.cells,o,i),s=!1;if("mergeable"===a.info){for(var u=a.path[a.path.length-1][0],l=a.path[a.path.length-1][1],c=r-1;c>=0;c--)if(1e-7>=Math.abs(e[c][0][0]-u)&&1e-7>=Math.abs(e[c][0][1]-l)){for(var f=a.path.length-2;f>=0;--f)e[c].unshift(a.path[f]);s=!0;break}}s||(e[r++]=a.path)}})}),e}(function(t,e){for(var r=t.length-1,n=t[0].length-1,o={rows:r,cols:n,cells:[]},i=0;i<r;++i){o.cells[i]=[];for(var a=0;a<n;++a){var s,u,l,c,f=0,h=t[i+1][a],p=t[i+1][a+1],d=t[i][a+1],g=t[i][a];if(!(isNaN(h)||isNaN(p)||isNaN(d)||isNaN(g))){f|=h>=e?8:0,f|=p>=e?4:0,f|=d>=e?2:0;var v=!1;if(5==(f|=g>=e?1:0)||10===f){var y=(h+p+d+g)/4;5===f&&y<e?(f=10,v=!0):10===f&&y<e&&(f=5,v=!0)}0!==f&&15!==f&&((s=u=l=c=.5,1===f)?(l=1-(e-h)/(g-h),u=1-(e-d)/(g-d)):2===f?(u=(e-g)/(d-g),c=1-(e-p)/(d-p)):3===f?(l=1-(e-h)/(g-h),c=1-(e-p)/(d-p)):4===f?(s=(e-h)/(p-h),c=(e-d)/(p-d)):5===f?(s=(e-h)/(p-h),c=(e-d)/(p-d),u=1-(e-d)/(g-d),l=1-(e-h)/(g-h)):6===f?(u=(e-g)/(d-g),s=(e-h)/(p-h)):7===f?(l=1-(e-h)/(g-h),s=(e-h)/(p-h)):8===f?(l=(e-g)/(h-g),s=1-(e-p)/(h-p)):9===f?(u=1-(e-d)/(g-d),s=1-(e-p)/(h-p)):10===f?(s=1-(e-p)/(h-p),c=1-(e-p)/(d-p),u=(e-g)/(d-g),l=(e-g)/(h-g)):11===f?(s=1-(e-p)/(h-p),c=1-(e-p)/(d-p)):12===f?(l=(e-g)/(h-g),c=(e-d)/(p-d)):13===f?(u=1-(e-d)/(g-d),c=(e-d)/(p-d)):14===f?(l=(e-g)/(h-g),u=(e-g)/(d-g)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+f),o.cells[i][a]={cval:f,flipped:v,top:s,right:c,bottom:u,left:l})}}}return o}(t,e));return"function"==typeof h.successCallback&&h.successCallback(s),s}(t,u),l);i.push(v)}return i}(O,e,w,S,_),u=(s=l.default(t))[2]-s[0],v=s[3]-s[1],y=s[0],m=s[1],b=O[0].length-1,x=O.length-1,E=u/b,P=v/x,M=function(t){t[0]=t[0]*E+y,t[1]=t[1]*P+m},n.forEach(function(t){o.coordEach(t,M)}),n);return a.featureCollection(j)}t.exports=v,t.exports.default=v},4495:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1719);e.default=function(t){var e,r,o={type:"FeatureCollection",features:[]};if("LineString"===(r="Feature"===t.type?t.geometry:t).type)e=[r.coordinates];else if("MultiLineString"===r.type)e=r.coordinates;else if("MultiPolygon"===r.type)e=[].concat.apply([],r.coordinates);else if("Polygon"===r.type)e=r.coordinates;else throw Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");return e.forEach(function(t){e.forEach(function(e){for(var r=0;r<t.length-1;r++)for(var i=r;i<e.length-1;i++)if(t!==e||1!==Math.abs(r-i)&&(0!==r||i!==t.length-2||t[r][0]!==t[t.length-1][0]||t[r][1]!==t[t.length-1][1])){var a=function(t,e,r,n,o,i,a,s){var u,l,c,f,h,p={x:null,y:null,onLine1:!1,onLine2:!1};return 0==(u=(s-i)*(r-t)-(a-o)*(n-e))?null!==p.x&&null!==p.y&&p:(l=e-i,c=t-o,f=(a-o)*l-(s-i)*c,h=(r-t)*l-(n-e)*c,l=f/u,c=h/u,p.x=t+l*(r-t),p.y=e+l*(n-e),l>=0&&l<=1&&(p.onLine1=!0),c>=0&&c<=1&&(p.onLine2=!0),!!p.onLine1&&!!p.onLine2&&[p.x,p.y])}(t[r][0],t[r][1],t[r+1][0],t[r+1][1],e[i][0],e[i][1],e[i+1][0],e[i+1][1]);a&&o.features.push(n.point([a[0],a[1]]))}})}),o}},3398:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(8633)),i=r(9163);e.default=function(t,e){return void 0===e&&(e={}),i.segmentReduce(t,function(t,r){var n=r.geometry.coordinates;return t+o.default(n[0],n[1],e)},0)}},9623:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(2996)),i=n(r(4091)),a=r(1719);function s(t){var e=t%360;return e<0&&(e+=360),e}e.default=function(t,e,r,n,u){void 0===u&&(u={});var l=u.steps||64,c=s(r),f=s(n),h=Array.isArray(t)||"Feature"!==t.type?{}:t.properties;if(c===f)return a.lineString(o.default(t,e,u).geometry.coordinates[0],h);for(var p=c<f?f:f+360,d=c,g=[],v=0;d<p;)g.push(i.default(t,e,d,u).geometry.coordinates),d=c+360*++v/l;return d>p&&g.push(i.default(t,e,p,u).geometry.coordinates),a.lineString(g,h)}},8248:function(t,e,r){"use strict";var n=r(3398),o=r(8213),i=r(9163),a=r(1719);function s(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var u=s(n),l=s(o);function c(t,e,r){if(r=r||{},!a.isObject(r))throw Error("options is invalid");var n=r.units,o=r.reverse;if(!t)throw Error("geojson is required");if(e<=0)throw Error("segmentLength must be greater than 0");var s=[];return i.flattenEach(t,function(t){o&&(t.geometry.coordinates=t.geometry.coordinates.reverse()),function(t,e,r,n){var o=u.default(t,{units:r});if(o<=e)return n(t);var i=o/e;Number.isInteger(i)||(i=Math.floor(i)+1);for(var a=0;a<i;a++)n(l.default(t,e*a,e*(a+1),{units:r}),a)}(t,e,n,function(t){s.push(t)})}),a.featureCollection(s)}t.exports=c,t.exports.default=c},6509:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(1719),i=r(2258),a=n(r(5347)),s=r(9163),u=n(r(214));function l(t,e){var r=i.getCoords(t),n=i.getCoords(e);if(2!==r.length)throw Error("<intersects> line1 must only contain 2 coordinates");if(2!==n.length)throw Error("<intersects> line2 must only contain 2 coordinates");var a=r[0][0],s=r[0][1],u=r[1][0],l=r[1][1],c=n[0][0],f=n[0][1],h=n[1][0],p=n[1][1],d=(p-f)*(u-a)-(h-c)*(l-s),g=(h-c)*(s-f)-(p-f)*(a-c),v=(u-a)*(s-f)-(l-s)*(a-c);if(0===d)return null;var y=g/d,m=v/d;return y>=0&&y<=1&&m>=0&&m<=1?o.point([a+y*(u-a),s+y*(l-s)]):null}e.default=function(t,e){var r={},n=[];if("LineString"===t.type&&(t=o.feature(t)),"LineString"===e.type&&(e=o.feature(e)),"Feature"===t.type&&"Feature"===e.type&&null!==t.geometry&&null!==e.geometry&&"LineString"===t.geometry.type&&"LineString"===e.geometry.type&&2===t.geometry.coordinates.length&&2===e.geometry.coordinates.length){var c=l(t,e);return c&&n.push(c),o.featureCollection(n)}var f=u.default();return f.load(a.default(e)),s.featureEach(a.default(t),function(t){s.featureEach(f.search(t),function(e){var o=l(t,e);if(o){var a=i.getCoords(o).join(",");r[a]||(r[a]=!0,n.push(o))}})}),o.featureCollection(n)}},5338:function(t,e,r){"use strict";var n=r(9163),o=r(2258),i=r(1719);function a(t){var e=t[0],r=t[1];return[r[0]-e[0],r[1]-e[1]]}function s(t,e){return t[0]*e[1]-e[0]*t[1]}function u(t,e,r){if(r=r||{},!i.isObject(r))throw Error("options is invalid");var a=r.units;if(!t)throw Error("geojson is required");if(null==e||isNaN(e))throw Error("distance is required");var s=o.getType(t),u=t.properties;switch(s){case"LineString":return l(t,e,a);case"MultiLineString":var c=[];return n.flattenEach(t,function(t){c.push(l(t,e,a).geometry.coordinates)}),i.multiLineString(c,u);default:throw Error("geometry "+s+" is not supported")}}function l(t,e,r){var n=[],u=i.lengthToDegrees(e,r),l=o.getCoords(t),c=[];return l.forEach(function(t,e){if(e!==l.length-1){var r,o,i,f,h=(r=l[e+1],o=Math.sqrt((t[0]-r[0])*(t[0]-r[0])+(t[1]-r[1])*(t[1]-r[1])),i=t[0]+u*(r[1]-t[1])/o,f=r[0]+u*(r[1]-t[1])/o,[[i,t[1]+u*(t[0]-r[0])/o],[f,r[1]+u*(t[0]-r[0])/o]]);if(n.push(h),e>0){var p,d,g,v,y,m,b,x,E,P=n[e-1],M=(p=h,d=P,0!==s(a(p),a(d))&&(g=p[0],v=a(p),y=d[0],b=s(v,m=a(d)),E=[(x=s([y[0]-g[0],y[1]-g[1]],m)/b)*v[0],x*v[1]],[g[0]+E[0],g[1]+E[1]]));!1!==M&&(P[1]=M,h[0]=M),c.push(P[0]),e===l.length-2&&(c.push(h[0]),c.push(h[1]))}2===l.length&&(c.push(h[0]),c.push(h[1]))}}),i.lineString(c,t.properties)}t.exports=u,t.exports.default=u},5126:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(214)),i=n(r(5347)),a=n(r(9011)),s=n(r(5353)),u=r(2258),l=r(9163),c=r(1719),f=n(r(400));function h(t,e){var r=u.getCoords(e),n=u.getCoords(t),o=n[0],i=n[n.length-1],a=t.geometry.coordinates;return f.default(r[0],o)?a.unshift(r[1]):f.default(r[0],i)?a.push(r[1]):f.default(r[1],o)?a.unshift(r[0]):f.default(r[1],i)&&a.push(r[0]),t}e.default=function(t,e,r){if(void 0===r&&(r={}),r=r||{},!c.isObject(r))throw Error("options is invalid");var n,p=r.tolerance||0,d=[],g=o.default(),v=i.default(t);return g.load(v),l.segmentEach(e,function(t){var e=!1;t&&(l.featureEach(g.search(t),function(r){if(!1===e){var o=u.getCoords(t).sort(),i=u.getCoords(r).sort();f.default(o,i)?(e=!0,n=n?h(n,t):t):(0===p?s.default(o[0],r)&&s.default(o[1],r):a.default(r,o[0]).properties.dist<=p&&a.default(r,o[1]).properties.dist<=p)?(e=!0,n=n?h(n,t):t):(0===p?s.default(i[0],t)&&s.default(i[1],t):a.default(t,i[0]).properties.dist<=p&&a.default(t,i[1]).properties.dist<=p)&&(n=n?h(n,r):r)}}),!1===e&&n&&(d.push(n),n=void 0))}),n&&d.push(n),c.featureCollection(d)}},5347:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1719),o=r(2258),i=r(9163);e.default=function(t){if(!t)throw Error("geojson is required");var e=[];return i.flattenEach(t,function(t){(function(t,e){var r=[],i=t.geometry;if(null!==i){switch(i.type){case"Polygon":r=o.getCoords(i);break;case"LineString":r=[o.getCoords(i)]}r.forEach(function(r){var o,i;(o=t.properties,i=[],r.reduce(function(t,e){var r,a,s,u,l=n.lineString([t,e],o);return l.bbox=(r=t[0],a=t[1],[r<(s=e[0])?r:s,a<(u=e[1])?a:u,r>s?r:s,a>u?a:u]),i.push(l),e}),i).forEach(function(t){t.id=e.length,e.push(t)})})}})(t,e)}),n.featureCollection(e)}},8213:function(t,e,r){"use strict";var n=r(8732),o=r(8633),i=r(4091),a=r(1719);function s(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var u=s(n),l=s(o),c=s(i);function f(t,e,r,n){if(n=n||{},!a.isObject(n))throw Error("options is invalid");var o,i,s,f,h=[];if("Feature"===t.type)o=t.geometry.coordinates;else if("LineString"===t.type)o=t.coordinates;else throw Error("input must be a LineString Feature or Geometry");for(var p=o.length,d=0,g=0;g<o.length&&(!(e>=d)||g!==o.length-1);g++){if(d>e&&0===h.length){if(!(i=e-d))return h.push(o[g]),a.lineString(h);s=u.default(o[g],o[g-1])-180,f=c.default(o[g],i,s,n),h.push(f.geometry.coordinates)}if(d>=r){if(!(i=r-d))return h.push(o[g]),a.lineString(h);return s=u.default(o[g],o[g-1])-180,f=c.default(o[g],i,s,n),h.push(f.geometry.coordinates),a.lineString(h)}if(d>=e&&h.push(o[g]),g===o.length-1)return a.lineString(h);d+=l.default(o[g],o[g+1],n)}if(d<e&&o.length===p)throw Error("Start position is beyond line");var v=o[o.length-1];return a.lineString([v,v])}t.exports=f,t.exports.default=f},9970:function(t,e,r){"use strict";var n=r(2258),o=r(1719),i=r(9011),a=i&&"object"==typeof i&&"default"in i?i:{default:i};function s(t,e,r){var i,s=n.getCoords(r);if("LineString"!==n.getType(r))throw Error("line must be a LineString");for(var u=a.default(r,t),l=a.default(r,e),c=[(i=u.properties.index<=l.properties.index?[u,l]:[l,u])[0].geometry.coordinates],f=i[0].properties.index+1;f<i[1].properties.index+1;f++)c.push(s[f]);return c.push(i[1].geometry.coordinates),o.lineString(c,r.properties)}t.exports=s,t.exports.default=s},5998:function(t,e,r){"use strict";var n=r(214),o=r(3833),i=r(4635),a=r(8714),s=r(5347),u=r(6509),l=r(9011),c=r(2258),f=r(9163),h=r(1719);function p(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var d=p(n),g=p(o),v=p(i),y=p(a),m=p(s),b=p(u),x=p(l);function E(t,e){if(!t)throw Error("line is required");if(!e)throw Error("splitter is required");var r=c.getType(t),n=c.getType(e);if("LineString"!==r)throw Error("line must be LineString");if("FeatureCollection"===n)throw Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===n)throw Error("splitter cannot be a GeometryCollection");var o=y.default(e,{precision:7});switch(n){case"Point":return M(t,o);case"MultiPoint":return P(t,o);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return P(t,b.default(t,o))}}function P(t,e){var r=[],n=d.default();return f.flattenEach(e,function(e){if(r.forEach(function(t,e){t.id=e}),r.length){var o=n.search(e);if(o.features.length){var i=w(e,o);r=r.filter(function(t){return t.id!==i.id}),n.remove(i),f.featureEach(M(i,e),function(t){r.push(t),n.insert(t)})}}else(r=M(t,e).features).forEach(function(t){t.bbox||(t.bbox=g.default(v.default(t)))}),n.load(h.featureCollection(r))}),h.featureCollection(r)}function M(t,e){var r=[],n=c.getCoords(t)[0],o=c.getCoords(t)[t.geometry.coordinates.length-1];if(S(n,c.getCoord(e))||S(o,c.getCoord(e)))return h.featureCollection([t]);var i=d.default(),a=m.default(t);i.load(a);var s=i.search(e);if(!s.features.length)return h.featureCollection([t]);var u=w(e,s),l=[n],p=f.featureReduce(a,function(t,n,o){var i=c.getCoords(n)[1],a=c.getCoord(e);return o!==u.id?(t.push(i),t):(t.push(a),r.push(h.lineString(t)),S(a,i))?[a]:[a,i]},l);return p.length>1&&r.push(h.lineString(p)),h.featureCollection(r)}function w(t,e){if(!e.features.length)throw Error("lines must contain features");if(1===e.features.length)return e.features[0];var r,n=1/0;return f.featureEach(e,function(e){var o=x.default(e,t).properties.dist;o<n&&(r=e,n=o)}),r}function S(t,e){return t[0]===e[0]&&t[1]===e[1]}t.exports=E,t.exports.default=E},1146:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(4635)),i=r(2258),a=r(1719),s=n(r(8268));function u(t,e,r,n){e=e||("Feature"===t.type?t.properties:{});var s=i.getGeom(t),u=s.coordinates,c=s.type;if(!u.length)throw Error("line must contain coordinates");switch(c){case"LineString":return r&&(u=l(u)),a.polygon([u],e);case"MultiLineString":var f=[],h=0;return u.forEach(function(t){if(r&&(t=l(t)),n){var e,i,s,u=(i=(e=o.default(a.lineString(t)))[0],s=e[1],Math.abs(i-e[2])*Math.abs(s-e[3]));u>h?(f.unshift(t),h=u):f.push(t)}else f.push(t)}),a.polygon(f,e);default:throw Error("geometry type "+c+" is not supported")}}function l(t){var e=t[0],r=e[0],n=e[1],o=t[t.length-1],i=o[0],a=o[1];return(r!==i||n!==a)&&t.push(e),t}e.default=function(t,e){void 0===e&&(e={});var r,n,o,l=e.properties,c=null===(r=e.autoComplete)||void 0===r||r,f=null===(n=e.orderCoords)||void 0===n||n;if(null!==(o=e.mutate)&&void 0!==o&&o||(t=s.default(t)),"FeatureCollection"===t.type){var h=[];return t.features.forEach(function(t){h.push(i.getCoords(u(t,{},c,f)))}),a.multiPolygon(h,l)}return u(t,l,c,f)}},1778:function(t,e,r){"use strict";var n=r(1719),o=r(5228),i=o&&"object"==typeof o&&"default"in o?o:{default:o};function a(t,e){var r,o=(r=e&&e.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]],n.polygon(r));return("FeatureCollection"===t.type?s(2===t.features.length?i.default.union(t.features[0].geometry.coordinates,t.features[1].geometry.coordinates):i.default.union.apply(i.default,t.features.map(function(t){return t.geometry.coordinates}))):s(i.default.union(t.geometry.coordinates))).geometry.coordinates.forEach(function(t){o.geometry.coordinates.push(t[0])}),o}function s(t){return n.multiPolygon(t)}t.exports=a,t.exports.default=a},9163:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1719);function o(t,e,r){if(null!==t)for(var n,i,a,s,u,l,c,f,h=0,p=0,d=t.type,g="FeatureCollection"===d,v="Feature"===d,y=g?t.features.length:1,m=0;m<y;m++){u=(f=!!(c=g?t.features[m].geometry:v?t.geometry:t)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var b=0;b<u;b++){var x=0,E=0;if(null!==(s=f?c.geometries[b]:c)){l=s.coordinates;var P=s.type;switch(h=r&&("Polygon"===P||"MultiPolygon"===P)?1:0,P){case null:break;case"Point":if(!1===e(l,p,m,x,E))return!1;p++,x++;break;case"LineString":case"MultiPoint":for(n=0;n<l.length;n++){if(!1===e(l[n],p,m,x,E))return!1;p++,"MultiPoint"===P&&x++}"LineString"===P&&x++;break;case"Polygon":case"MultiLineString":for(n=0;n<l.length;n++){for(i=0;i<l[n].length-h;i++){if(!1===e(l[n][i],p,m,x,E))return!1;p++}"MultiLineString"===P&&x++,"Polygon"===P&&E++}"Polygon"===P&&x++;break;case"MultiPolygon":for(n=0;n<l.length;n++){for(i=0,E=0;i<l[n].length;i++){for(a=0;a<l[n][i].length-h;a++){if(!1===e(l[n][i][a],p,m,x,E))return!1;p++}E++}x++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===o(s.geometries[n],e,r))return!1;break;default:throw Error("Unknown Geometry Type")}}}}}function i(t,e){var r;switch(t.type){case"FeatureCollection":for(r=0;r<t.features.length&&!1!==e(t.features[r].properties,r);r++);break;case"Feature":e(t.properties,0)}}function a(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var r=0;r<t.features.length&&!1!==e(t.features[r],r);r++);}function s(t,e){var r,n,o,i,a,s,u,l,c,f,h=0,p="FeatureCollection"===t.type,d="Feature"===t.type,g=p?t.features.length:1;for(r=0;r<g;r++){for(o=0,s=p?t.features[r].geometry:d?t.geometry:t,l=p?t.features[r].properties:d?t.properties:{},c=p?t.features[r].bbox:d?t.bbox:void 0,f=p?t.features[r].id:d?t.id:void 0,a=(u=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1;o<a;o++){if(null===(i=u?s.geometries[o]:s)){if(!1===e(null,h,l,c,f))return!1;continue}switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(i,h,l,c,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===e(i.geometries[n],h,l,c,f))return!1;break;default:throw Error("Unknown Geometry Type")}}h++}}function u(t,e){s(t,function(t,r,o,i,a){var s,u=null===t?null:t.type;switch(u){case null:case"Point":case"LineString":case"Polygon":if(!1===e(n.feature(t,o,{bbox:i,id:a}),r,0))return!1;return}switch(u){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var l=0;l<t.coordinates.length;l++){var c={type:s,coordinates:t.coordinates[l]};if(!1===e(n.feature(c,o),r,l))return!1}})}function l(t,e){u(t,function(t,r,i){var a,s=0;if(t.geometry){var u=t.geometry.type;if("Point"!==u&&"MultiPoint"!==u){var l=0,c=0,f=0;if(!1===o(t,function(o,u,h,p,d){if(void 0===a||r>l||p>c||d>f){a=o,l=r,c=p,f=d,s=0;return}if(!1===e(n.lineString([a,o],t.properties),r,i,d,s))return!1;s++,a=o}))return!1}}})}function c(t,e){if(!t)throw Error("geojson is required");u(t,function(t,r,o){if(null!==t.geometry){var i=t.geometry.type,a=t.geometry.coordinates;switch(i){case"LineString":if(!1===e(t,r,o,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===e(n.lineString(a[s],t.properties),r,o,s))return!1}}})}e.coordAll=function(t){var e=[];return o(t,function(t){e.push(t)}),e},e.coordEach=o,e.coordReduce=function(t,e,r,n){var i=r;return o(t,function(t,n,o,a,s){i=0===n&&void 0===r?t:e(i,t,n,o,a,s)},n),i},e.featureEach=a,e.featureReduce=function(t,e,r){var n=r;return a(t,function(t,o){n=0===o&&void 0===r?t:e(n,t,o)}),n},e.findPoint=function(t,e){if(e=e||{},!n.isObject(e))throw Error("options is invalid");var r,o=e.featureIndex||0,i=e.multiFeatureIndex||0,a=e.geometryIndex||0,s=e.coordIndex||0,u=e.properties;switch(t.type){case"FeatureCollection":o<0&&(o=t.features.length+o),u=u||t.features[o].properties,r=t.features[o].geometry;break;case"Feature":u=u||t.properties,r=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=t;break;default:throw Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":return n.point(l,u,e);case"MultiPoint":return i<0&&(i=l.length+i),n.point(l[i],u,e);case"LineString":return s<0&&(s=l.length+s),n.point(l[s],u,e);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s),n.point(l[a][s],u,e);case"MultiLineString":return i<0&&(i=l.length+i),s<0&&(s=l[i].length+s),n.point(l[i][s],u,e);case"MultiPolygon":return i<0&&(i=l.length+i),a<0&&(a=l[i].length+a),s<0&&(s=l[i][a].length-s),n.point(l[i][a][s],u,e)}throw Error("geojson is invalid")},e.findSegment=function(t,e){if(e=e||{},!n.isObject(e))throw Error("options is invalid");var r,o=e.featureIndex||0,i=e.multiFeatureIndex||0,a=e.geometryIndex||0,s=e.segmentIndex||0,u=e.properties;switch(t.type){case"FeatureCollection":o<0&&(o=t.features.length+o),u=u||t.features[o].properties,r=t.features[o].geometry;break;case"Feature":u=u||t.properties,r=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=t;break;default:throw Error("geojson is invalid")}if(null===r)return null;var l=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=l.length+s-1),n.lineString([l[s],l[s+1]],u,e);case"Polygon":return a<0&&(a=l.length+a),s<0&&(s=l[a].length+s-1),n.lineString([l[a][s],l[a][s+1]],u,e);case"MultiLineString":return i<0&&(i=l.length+i),s<0&&(s=l[i].length+s-1),n.lineString([l[i][s],l[i][s+1]],u,e);case"MultiPolygon":return i<0&&(i=l.length+i),a<0&&(a=l[i].length+a),s<0&&(s=l[i][a].length-s-1),n.lineString([l[i][a][s],l[i][a][s+1]],u,e)}throw Error("geojson is invalid")},e.flattenEach=u,e.flattenReduce=function(t,e,r){var n=r;return u(t,function(t,o,i){n=0===o&&0===i&&void 0===r?t:e(n,t,o,i)}),n},e.geomEach=s,e.geomReduce=function(t,e,r){var n=r;return s(t,function(t,o,i,a,s){n=0===o&&void 0===r?t:e(n,t,o,i,a,s)}),n},e.lineEach=c,e.lineReduce=function(t,e,r){var n=r;return c(t,function(t,o,i,a){n=0===o&&void 0===r?t:e(n,t,o,i,a)}),n},e.propEach=i,e.propReduce=function(t,e,r){var n=r;return i(t,function(t,o){n=0===o&&void 0===r?t:e(n,t,o)}),n},e.segmentEach=l,e.segmentReduce=function(t,e,r){var n=r,o=!1;return l(t,function(t,i,a,s,u){n=!1===o&&void 0===r?t:e(n,t,i,a,s,u),o=!0}),n}},6195:function(t,e,r){"use strict";var n=r(8732),o=r(4091),i=r(8633);function a(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var s=a(n),u=a(o),l=a(i);function c(t,e){var r=l.default(t,e),n=s.default(t,e);return u.default(t,r/2,n)}t.exports=c,t.exports.default=c},5390:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(4633)),i=r(9163);function a(t){for(var e=0,r=0;r<t.length;r++)e+=t[r];return e/t.length}e.default=function(t,e){var r=e.inputField,n=e.threshold||1e5,s=e.p||2,u=e.binary||!1,l=e.alpha||-1,c=e.standardization||!0,f=o.default(t,{alpha:l,binary:u,p:s,standardization:c,threshold:n}),h=[];i.featureEach(t,function(t){h.push((t.properties||{})[r])});for(var p=a(h),d=function(t){for(var e=a(t),r=0,n=0;n<t.length;n++)r+=Math.pow(t[n]-e,2);return r/t.length}(h),g=0,v=0,y=0,m=0,b=f.length,x=0;x<b;x++){for(var E=0,P=0;P<b;P++)g+=f[x][P]*(h[x]-p)*(h[P]-p),v+=f[x][P],y+=Math.pow(f[x][P]+f[P][x],2),E+=f[x][P]+f[P][x];m+=Math.pow(E,2)}var M=g/v/d,w=-1/(b-1),S=Math.sqrt((b*b*(y*=.5)-b*m+3*(v*v))/((b-1)*(b+1)*(v*v))-w*w);return{expectedMoranIndex:w,moranIndex:M,stdNorm:S,zNorm:(M-w)/S}}},9011:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(8732)),i=n(r(8633)),a=n(r(4091)),s=n(r(6509)),u=r(9163),l=r(1719),c=r(2258);e.default=function(t,e,r){void 0===r&&(r={});var n=l.point([1/0,1/0],{dist:1/0}),f=0;return u.flattenEach(t,function(t){for(var u=c.getCoords(t),h=0;h<u.length-1;h++){var p=l.point(u[h]);p.properties.dist=i.default(e,p,r);var d=l.point(u[h+1]);d.properties.dist=i.default(e,d,r);var g=i.default(p,d,r),v=Math.max(p.properties.dist,d.properties.dist),y=o.default(p,d),m=a.default(e,v,y+90,r),b=a.default(e,v,y-90,r),x=s.default(l.lineString([m.geometry.coordinates,b.geometry.coordinates]),l.lineString([p.geometry.coordinates,d.geometry.coordinates])),E=null;x.features.length>0&&((E=x.features[0]).properties.dist=i.default(e,E,r),E.properties.location=f+i.default(p,E,r)),p.properties.dist<n.properties.dist&&((n=p).properties.index=h,n.properties.location=f),d.properties.dist<n.properties.dist&&((n=d).properties.index=h+1,n.properties.location=f+g),E&&E.properties.dist<n.properties.dist&&((n=E).properties.index=h),f+=g}}),n}},8372:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(2258),i=r(9163),a=n(r(4822)),s=n(r(7185));e.default=function(t,e,r){void 0===r&&(r={});var n=r.units,u=r.properties||{},l=function(t){var e=[];switch(t.geometry?t.geometry.type:t.type){case"GeometryCollection":return i.geomEach(t,function(t){"Point"===t.type&&e.push({type:"Feature",properties:{},geometry:t})}),{type:"FeatureCollection",features:e};case"FeatureCollection":return t.features=t.features.filter(function(t){return"Point"===t.geometry.type}),t;default:throw Error("points must be a Point Collection")}}(t);if(!l.features.length)throw Error("points must contain features");if(!e)throw Error("line is required");if("LineString"!==o.getType(e))throw Error("line must be a LineString");var c=1/0,f=null;return i.featureEach(l,function(t){var r=a.default(t,e,{units:n});r<c&&(c=r,f=t)}),f&&(f.properties=s.default({dist:c},f.properties,u)),f}},4403:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(8268)),i=n(r(8633)),a=r(9163);e.default=function(t,e){if(!t)throw Error("targetPoint is required");if(!e)throw Error("points is required");var r,n=1/0,s=0;return a.featureEach(e,function(e,r){var o=i.default(t,e);o<n&&(s=r,n=o)}),(r=o.default(e.features[s])).properties.featureIndex=s,r.properties.distanceToPoint=n,r}},2353:function(t,e,r){"use strict";var n=r(2258);function o(t,e){var r=n.getCoord(t),o=n.getGeom(e).coordinates[0];if(o.length<4)throw Error("OuterRing of a Polygon must have 4 or more Positions.");var i=e.properties||{},a=i.a,s=i.b,u=i.c,l=r[0],c=r[1],f=o[0][0],h=o[0][1],p=void 0!==a?a:o[0][2],d=o[1][0],g=o[1][1],v=void 0!==s?s:o[1][2],y=o[2][0],m=o[2][1],b=void 0!==u?u:o[2][2];return(b*(l-f)*(c-g)+p*(l-d)*(c-m)+v*(l-y)*(c-h)-v*(l-f)*(c-m)-b*(l-d)*(c-h)-p*(l-y)*(c-g))/((l-f)*(c-g)+(l-d)*(c-m)+(l-y)*(c-h)-(l-f)*(c-m)-(l-d)*(c-h)-(l-y)*(c-g))}t.exports=o,t.exports.default=o},7065:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(3134)),i=n(r(8633)),a=r(1719);e.default=function(t,e,r){void 0===r&&(r={}),r.mask&&!r.units&&(r.units="kilometers");for(var n=[],s=t[0],u=t[1],l=t[2],c=t[3],f=e/i.default([s,u],[l,u],r)*(l-s),h=e/i.default([s,u],[s,c],r)*(c-u),p=l-s,d=c-u,g=(d-Math.floor(d/h)*h)/2,v=s+(p-Math.floor(p/f)*f)/2;v<=l;){for(var y=u+g;y<=c;){var m=a.point([v,y],r.properties);r.mask?o.default(m,r.mask)&&n.push(m):n.push(m),y+=h}v+=f}return a.featureCollection(n)}},7328:function(t,e,r){"use strict";var n=r(4334),o=r(3570),i=r(4403),a=r(5991),s=r(1719);function u(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var l=u(n),c=u(o),f=u(i),h=u(a);function p(t){for(var e="FeatureCollection"!==t.type?"Feature"!==t.type?s.featureCollection([s.feature(t)]):s.featureCollection([t]):t,r=c.default(e),n=!1,o=0;!n&&o<e.features.length;){var i,a,u,p,g,v,y=e.features[o].geometry,m=!1;if("Point"===y.type)r.geometry.coordinates[0]===y.coordinates[0]&&r.geometry.coordinates[1]===y.coordinates[1]&&(n=!0);else if("MultiPoint"===y.type){var b=!1;for(v=0;!b&&v<y.coordinates.length;)r.geometry.coordinates[0]===y.coordinates[v][0]&&r.geometry.coordinates[1]===y.coordinates[v][1]&&(n=!0,b=!0),v++}else if("LineString"===y.type)for(v=0;!m&&v<y.coordinates.length-1;)i=r.geometry.coordinates[0],a=r.geometry.coordinates[1],u=y.coordinates[v][0],d(i,a,u,p=y.coordinates[v][1],y.coordinates[v+1][0],y.coordinates[v+1][1])&&(m=!0,n=!0),v++;else if("MultiLineString"===y.type)for(var x=0;x<y.coordinates.length;){m=!1,v=0;for(var E=y.coordinates[x];!m&&v<E.length-1;)i=r.geometry.coordinates[0],a=r.geometry.coordinates[1],u=E[v][0],d(i,a,u,p=E[v][1],E[v+1][0],E[v+1][1])&&(m=!0,n=!0),v++;x++}else("Polygon"===y.type||"MultiPolygon"===y.type)&&h.default(r,y)&&(n=!0);o++}if(n)return r;var P=s.featureCollection([]);for(o=0;o<e.features.length;o++)P.features=P.features.concat(l.default(e.features[o]).features);return s.point(f.default(r,P).geometry.coordinates)}function d(t,e,r,n,o,i){return Math.sqrt((o-r)*(o-r)+(i-n)*(i-n))===Math.sqrt((t-r)*(t-r)+(e-n)*(e-n))+Math.sqrt((o-t)*(o-t)+(i-e)*(i-e))}t.exports=p,t.exports.default=p},4822:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(8633)),i=r(1719),a=r(2258),s=r(9163),u=n(r(5695));function l(t,e){return t[0]*e[0]+t[1]*e[1]}function c(t,e,r){return"planar"===r.method?u.default(t,e,r):o.default(t,e,r)}e.default=function(t,e,r){if(void 0===r&&(r={}),r.method||(r.method="geodesic"),r.units||(r.units="kilometers"),!t)throw Error("pt is required");if(Array.isArray(t)?t=i.point(t):"Point"===t.type?t=i.feature(t):a.featureOf(t,"Point","point"),!e)throw Error("line is required");Array.isArray(e)?e=i.lineString(e):"LineString"===e.type?e=i.feature(e):a.featureOf(e,"LineString","line");var n=1/0,o=t.geometry.coordinates;return s.segmentEach(e,function(t){var e=function(t,e,r,n){var o=[r[0]-e[0],r[1]-e[1]],i=l([t[0]-e[0],t[1]-e[1]],o);if(i<=0)return c(t,e,{method:n.method,units:"degrees"});var a=l(o,o);if(a<=i)return c(t,r,{method:n.method,units:"degrees"});var s=i/a;return c(t,[e[0]+s*o[0],e[1]+s*o[1]],{method:n.method,units:"degrees"})}(o,t.geometry.coordinates[0],t.geometry.coordinates[1],r);e<n&&(n=e)}),i.convertLength(n,"degrees",r.units)}},658:function(t,e,r){"use strict";var n=r(5991),o=r(1719),i=r(9163),a=n&&"object"==typeof n&&"default"in n?n:{default:n};function s(t,e){var r=[];return i.featureEach(t,function(t){var n=!1;if("Point"===t.geometry.type)i.geomEach(e,function(e){a.default(t,e)&&(n=!0)}),n&&r.push(t);else if("MultiPoint"===t.geometry.type){var s=[];i.geomEach(e,function(e){i.coordEach(t,function(t){a.default(t,e)&&(n=!0,s.push(t))})}),n&&r.push(o.multiPoint(s))}else throw Error("Input geometry must be a Point or MultiPoint")}),o.featureCollection(r)}t.exports=s,t.exports.default=s},7118:function(t,e,r){"use strict";var n=r(9163),o=r(1719);function i(t,e){var r=[],i=e.iterations||1;if(!t)throw Error("inputPolys is required");return n.geomEach(t,function(t,e,a){switch(t.type){case"Polygon":s=[[]];for(var s,u,l,c=0;c<i;c++)l=[[]],u=t,c>0&&(u=o.polygon(s).geometry),function(t,e){var r=0,o=0;n.coordEach(t,function(n,i,a,s,u){u>r&&(r=u,o=i,e.push([]));var l=i-o,c=t.coordinates[u][l+1],f=n[0],h=n[1],p=c[0],d=c[1];e[u].push([.75*f+.25*p,.75*h+.25*d]),e[u].push([.25*f+.75*p,.25*h+.75*d])},!0),e.forEach(function(t){t.push(t[0])})}(u,l),s=l.slice(0);r.push(o.polygon(s,a));break;case"MultiPolygon":s=[[[]]];for(var f=0;f<i;f++)l=[[[]]],u=t,f>0&&(u=o.multiPolygon(s).geometry),function(t,e){var r=0,o=0,i=0;n.coordEach(t,function(n,a,s,u,l){u>i&&(i=u,o=a,e.push([[]])),l>r&&(r=l,o=a,e[u].push([]));var c=a-o,f=t.coordinates[u][l][c+1],h=n[0],p=n[1],d=f[0],g=f[1];e[u][l].push([.75*h+.25*d,.75*p+.25*g]),e[u][l].push([.25*h+.75*d,.25*p+.75*g])},!0),e.forEach(function(t){t.forEach(function(t){t.push(t[0])})})}(u,l),s=l.slice(0);r.push(o.multiPolygon(s,a));break;default:throw Error("geometry is invalid, must be Polygon or MultiPolygon")}}),o.featureCollection(r)}t.exports=i,t.exports.default=i},2381:function(t,e,r){"use strict";var n=r(2258),o=r(1719),i=r(4635),a=r(4334),s=r(4403);function u(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var l=u(i),c=u(a),f=u(s);function h(t,e){var r,i,a,s,u=n.getCoords(t),h=n.getCoords(e),g=l.default(e),v=0,y=null;switch(u[0]>g[0]&&u[0]<g[2]&&u[1]>g[1]&&u[1]<g[3]&&(v=(y=f.default(t,c.default(e))).properties.featureIndex),n.getType(e)){case"Polygon":r=h[0][v],i=h[0][0],null!==y&&y.geometry.coordinates[1]<u[1]&&(i=h[0][v]),s=d(h[0][0],h[0][h[0].length-1],u);var m=p(h[0],u,s,a,r,i);r=m[0],i=m[1];break;case"MultiPolygon":for(var b=0,x=0,E=0,P=0;P<h[0].length;P++){b=P;for(var M=!1,w=0;w<h[0][P].length;w++){if(x=w,E===v){M=!0;break}E++}if(M)break}r=h[0][b][x],i=h[0][b][x],s=d(h[0][0][0],h[0][0][h[0][0].length-1],u),h.forEach(function(t){var e=p(t[0],u,s,a,r,i);r=e[0],i=e[1]})}return o.featureCollection([o.point(r),o.point(i)])}function p(t,e,r,n,o,i){for(var a=0;a<t.length;a++){var s=t[a],u=t[a+1];a===t.length-1&&(u=t[0]),n=d(s,u,e),r<=0&&n>0?0>d(e,s,o)||(o=s):r>0&&n<=0&&!(d(e,s,i)>0)&&(i=s),r=n}return[o,i]}function d(t,e,r){return(e[0]-t[0])*(r[1]-t[1])-(r[0]-t[0])*(e[1]-t[1])}t.exports=h,t.exports.default=h},6831:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1719),o=r(2258);function i(t,e){return void 0===e&&(e={}),s(o.getGeom(t).coordinates,e.properties?e.properties:"Feature"===t.type?t.properties:{})}function a(t,e){void 0===e&&(e={});var r=o.getGeom(t).coordinates,i=e.properties?e.properties:"Feature"===t.type?t.properties:{},a=[];return r.forEach(function(t){a.push(s(t,i))}),n.featureCollection(a)}function s(t,e){return t.length>1?n.multiLineString(t,e):n.lineString(t[0],e)}e.default=function(t,e){void 0===e&&(e={});var r=o.getGeom(t);switch(e.properties||"Feature"!==t.type||(e.properties=t.properties),r.type){case"Polygon":return i(r,e);case"MultiPolygon":return a(r,e);default:throw Error("invalid poly")}},e.polygonToLine=i,e.multiPolygonToLine=a,e.coordsToLine=s},889:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(1719),i=n(r(9891)),a=n(r(7193));e.default=function(t){var e=i.default.fromGeoJson(t);e.deleteDangles(),e.deleteCutEdges();var r=[],n=[];return e.getEdgeRings().filter(function(t){return t.isValid()}).forEach(function(t){t.isHole()?r.push(t):n.push(t)}),r.forEach(function(t){a.default.findEdgeRingContaining(t,n)&&n.push(t)}),o.featureCollection(n.map(function(t){return t.toPolygon()}))}},3207:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1719),o=r(1822),i=function(){function t(t,e){this.from=t,this.to=e,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return t.prototype.getSymetric=function(){return this.symetric||(this.symetric=new t(this.to,this.from),this.symetric.symetric=this),this.symetric},t.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},t.prototype.isEqual=function(t){return this.from.id===t.from.id&&this.to.id===t.to.id},t.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},t.prototype.toLineString=function(){return n.lineString([this.from.coordinates,this.to.coordinates])},t.prototype.compareTo=function(t){return o.orientationIndex(t.from.coordinates,t.to.coordinates,this.to.coordinates)},t}();e.default=i},7193:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(1822),i=r(1719),a=n(r(7284)),s=n(r(5991)),u=function(){function t(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return t.prototype.push=function(t){this.edges.push(t),this.polygon=this.envelope=void 0},t.prototype.get=function(t){return this.edges[t]},Object.defineProperty(t.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.edges.forEach(t)},t.prototype.map=function(t){return this.edges.map(t)},t.prototype.some=function(t){return this.edges.some(t)},t.prototype.isValid=function(){return!0},t.prototype.isHole=function(){var t=this,e=this.edges.reduce(function(e,r,n){return r.from.coordinates[1]>t.edges[e].from.coordinates[1]&&(e=n),e},0),r=(0===e?this.length:e)-1,n=(e+1)%this.length,i=o.orientationIndex(this.edges[r].from.coordinates,this.edges[e].from.coordinates,this.edges[n].from.coordinates);return 0===i?this.edges[r].from.coordinates[0]>this.edges[n].from.coordinates[0]:i>0},t.prototype.toMultiPoint=function(){return i.multiPoint(this.edges.map(function(t){return t.from.coordinates}))},t.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var t=this.edges.map(function(t){return t.from.coordinates});return t.push(this.edges[0].from.coordinates),this.polygon=i.polygon([t])},t.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=a.default(this.toPolygon())},t.findEdgeRingContaining=function(t,e){var r,n,a=t.getEnvelope();return e.forEach(function(e){var s=e.getEnvelope();if(n&&(r=n.getEnvelope()),!o.envelopeIsEqual(s,a)&&o.envelopeContains(s,a)){for(var u=t.map(function(t){return t.from.coordinates}),l=void 0,c=function(t){e.some(function(e){return o.coordinatesEqual(t,e.from.coordinates)})||(l=t)},f=0;f<u.length;f++)c(u[f]);l&&e.inside(i.point(l))&&(!n||o.envelopeContains(r,s))&&(n=e)}}),n},t.prototype.inside=function(t){return s.default(t,this.toPolygon())},t}();e.default=u},9891:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(2203)),i=n(r(3207)),a=n(r(7193)),s=r(9163),u=r(2258),l=function(){function t(){this.edges=[],this.nodes={}}return t.fromGeoJson=function(e){!function(t){if(!t)throw Error("No geojson passed");if("FeatureCollection"!==t.type&&"GeometryCollection"!==t.type&&"MultiLineString"!==t.type&&"LineString"!==t.type&&"Feature"!==t.type)throw Error("Invalid input type '"+t.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(e);var r=new t;return s.flattenEach(e,function(t){u.featureOf(t,"LineString","Graph::fromGeoJson"),s.coordReduce(t,function(t,e){if(t){var n=r.getNode(t),o=r.getNode(e);r.addEdge(n,o)}return e})}),r},t.prototype.getNode=function(t){var e=o.default.buildId(t),r=this.nodes[e];return r||(r=this.nodes[e]=new o.default(t)),r},t.prototype.addEdge=function(t,e){var r=new i.default(t,e),n=r.getSymetric();this.edges.push(r),this.edges.push(n)},t.prototype.deleteDangles=function(){var t=this;Object.keys(this.nodes).map(function(e){return t.nodes[e]}).forEach(function(e){return t._removeIfDangle(e)})},t.prototype._removeIfDangle=function(t){var e=this;if(t.innerEdges.length<=1){var r=t.getOuterEdges().map(function(t){return t.to});this.removeNode(t),r.forEach(function(t){return e._removeIfDangle(t)})}},t.prototype.deleteCutEdges=function(){var t=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(e){e.label===e.symetric.label&&(t.removeEdge(e.symetric),t.removeEdge(e))})},t.prototype._computeNextCWEdges=function(t){var e=this;void 0===t?Object.keys(this.nodes).forEach(function(t){return e._computeNextCWEdges(e.nodes[t])}):t.getOuterEdges().forEach(function(e,r){t.getOuterEdge((0===r?t.getOuterEdges().length:r)-1).symetric.next=e})},t.prototype._computeNextCCWEdges=function(t,e){for(var r,n,o=t.getOuterEdges(),i=o.length-1;i>=0;--i){var a=o[i],s=a.symetric,u=void 0,l=void 0;a.label===e&&(u=a),s.label===e&&(l=s),u&&l&&(l&&(n=l),u&&(n&&(n.next=u,n=void 0),r||(r=u)))}n&&(n.next=r)},t.prototype._findLabeledEdgeRings=function(){var t=[],e=0;return this.edges.forEach(function(r){if(!(r.label>=0)){t.push(r);var n=r;do n.label=e,n=n.next;while(!r.isEqual(n));e++}}),t},t.prototype.getEdgeRings=function(){var t=this;this._computeNextCWEdges(),this.edges.forEach(function(t){t.label=void 0}),this._findLabeledEdgeRings().forEach(function(e){t._findIntersectionNodes(e).forEach(function(r){t._computeNextCCWEdges(r,e.label)})});var e=[];return this.edges.forEach(function(r){r.ring||e.push(t._findEdgeRing(r))}),e},t.prototype._findIntersectionNodes=function(t){var e=[],r=t;do!function(){var n=0;r.from.getOuterEdges().forEach(function(e){e.label===t.label&&++n}),n>1&&e.push(r.from),r=r.next}();while(!t.isEqual(r));return e},t.prototype._findEdgeRing=function(t){var e=t,r=new a.default;do r.push(e),e.ring=r,e=e.next;while(!t.isEqual(e));return r},t.prototype.removeNode=function(t){var e=this;t.getOuterEdges().forEach(function(t){return e.removeEdge(t)}),t.innerEdges.forEach(function(t){return e.removeEdge(t)}),delete this.nodes[t.id]},t.prototype.removeEdge=function(t){this.edges=this.edges.filter(function(e){return!e.isEqual(t)}),t.deleteEdge()},t}();e.default=l},2203:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1822),o=function(){function t(e){this.id=t.buildId(e),this.coordinates=e,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return t.buildId=function(t){return t.join(",")},t.prototype.removeInnerEdge=function(t){this.innerEdges=this.innerEdges.filter(function(e){return e.from.id!==t.from.id})},t.prototype.removeOuterEdge=function(t){this.outerEdges=this.outerEdges.filter(function(e){return e.to.id!==t.to.id})},t.prototype.addOuterEdge=function(t){this.outerEdges.push(t),this.outerEdgesSorted=!1},t.prototype.sortOuterEdges=function(){var t=this;this.outerEdgesSorted||(this.outerEdges.sort(function(e,r){var o=e.to,i=r.to;if(o.coordinates[0]-t.coordinates[0]>=0&&i.coordinates[0]-t.coordinates[0]<0)return 1;if(o.coordinates[0]-t.coordinates[0]<0&&i.coordinates[0]-t.coordinates[0]>=0)return -1;if(o.coordinates[0]-t.coordinates[0]==0&&i.coordinates[0]-t.coordinates[0]==0)return o.coordinates[1]-t.coordinates[1]>=0||i.coordinates[1]-t.coordinates[1]>=0?o.coordinates[1]-i.coordinates[1]:i.coordinates[1]-o.coordinates[1];var a=n.orientationIndex(t.coordinates,o.coordinates,i.coordinates);return a<0?1:a>0?-1:Math.pow(o.coordinates[0]-t.coordinates[0],2)+Math.pow(o.coordinates[1]-t.coordinates[1],2)-(Math.pow(i.coordinates[0]-t.coordinates[0],2)+Math.pow(i.coordinates[1]-t.coordinates[1],2))}),this.outerEdgesSorted=!0)},t.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},t.prototype.getOuterEdge=function(t){return this.sortOuterEdges(),this.outerEdges[t]},t.prototype.addInnerEdge=function(t){this.innerEdges.push(t)},t}();e.default=o},1822:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(5991)),i=r(1719);e.orientationIndex=function(t,e,r){var n,o=e[0]-t[0],i=e[1]-t[1],a=r[0]-e[0];return((n=o*(r[1]-e[1])-a*i)>0)-(n<0)||+n},e.envelopeIsEqual=function(t,e){var r=t.geometry.coordinates[0].map(function(t){return t[0]}),n=t.geometry.coordinates[0].map(function(t){return t[1]}),o=e.geometry.coordinates[0].map(function(t){return t[0]}),i=e.geometry.coordinates[0].map(function(t){return t[1]});return Math.max.apply(null,r)===Math.max.apply(null,o)&&Math.max.apply(null,n)===Math.max.apply(null,i)&&Math.min.apply(null,r)===Math.min.apply(null,o)&&Math.min.apply(null,n)===Math.min.apply(null,i)},e.envelopeContains=function(t,e){return e.geometry.coordinates[0].every(function(e){return o.default(i.point(e),t)})},e.coordinatesEqual=function(t,e){return t[0]===e[0]&&t[1]===e[1]}},5888:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(9163),i=r(1719),a=n(r(8268));function s(t,e,r){void 0===r&&(r={});var n=(r=r||{}).mutate;if(!t)throw Error("geojson is required");return Array.isArray(t)&&i.isNumber(t[0])?t="mercator"===e?u(t):l(t):(!0!==n&&(t=a.default(t)),o.coordEach(t,function(t){var r="mercator"===e?u(t):l(t);t[0]=r[0],t[1]=r[1]})),t}function u(t){var e,r=Math.PI/180,n=[6378137*(180>=Math.abs(t[0])?t[0]:t[0]-360*((e=t[0])<0?-1:e>0?1:0))*r,6378137*Math.log(Math.tan(.25*Math.PI+.5*t[1]*r))];return n[0]>20037508.342789244&&(n[0]=20037508.342789244),n[0]<-20037508.342789244&&(n[0]=-20037508.342789244),n[1]>20037508.342789244&&(n[1]=20037508.342789244),n[1]<-20037508.342789244&&(n[1]=-20037508.342789244),n}function l(t){var e=180/Math.PI;return[t[0]*e/6378137,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/6378137)))*e]}e.toMercator=function(t,e){return void 0===e&&(e={}),s(t,"mercator",e)},e.toWgs84=function(t,e){return void 0===e&&(e={}),s(t,"wgs84",e)}},4621:function(t,e,r){"use strict";var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),o=0,e=0;e<r;e++)for(var i=arguments[e],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n};Object.defineProperty(e,"__esModule",{value:!0});var o=r(1719);function i(t){return Array.isArray(t)?s(t):t&&t.bbox?s(t.bbox):[360*a(),180*a()]}function a(){return Math.random()-.5}function s(t){return[Math.random()*(t[2]-t[0])+t[0],Math.random()*(t[3]-t[1])+t[1]]}e.randomPosition=i,e.randomPoint=function(t,e){void 0===e&&(e={}),null==t&&(t=1);for(var r=[],n=0;n<t;n++)r.push(o.point(i(e.bbox)));return o.featureCollection(r)},e.randomPolygon=function(t,e){void 0===e&&(e={}),null==t&&(t=1),o.isNumber(e.num_vertices)&&void 0!==e.num_vertices||(e.num_vertices=10),o.isNumber(e.max_radial_length)&&void 0!==e.max_radial_length||(e.max_radial_length=10);for(var r=[],a=0;a<t;a++)!function(t){var a=[],s=n(Array(e.num_vertices+1)).map(Math.random);s.forEach(function(t,e,r){r[e]=e>0?t+r[e-1]:t}),s.forEach(function(t){t=2*t*Math.PI/s[s.length-1];var r=Math.random();a.push([r*(e.max_radial_length||10)*Math.sin(t),r*(e.max_radial_length||10)*Math.cos(t)])}),a[a.length-1]=a[0],a=a.map(function(t){return function(e){return[e[0]+t[0],e[1]+t[1]]}}(i(e.bbox))),r.push(o.polygon([a]))}(0);return o.featureCollection(r)},e.randomLineString=function(t,e){if(void 0===e&&(e={}),e=e||{},!o.isObject(e))throw Error("options is invalid");var r=e.bbox,n=e.num_vertices,a=e.max_length,s=e.max_rotation;null==t&&(t=1),(!o.isNumber(n)||void 0===n||n<2)&&(n=10),o.isNumber(a)&&void 0!==a||(a=1e-4),o.isNumber(s)&&void 0!==s||(s=Math.PI/8);for(var u=[],l=0;l<t;l++){for(var c=[i(r)],f=0;f<n-1;f++){var h=(0===f?2*Math.random()*Math.PI:Math.tan((c[f][1]-c[f-1][1])/(c[f][0]-c[f-1][0])))+(Math.random()-.5)*s*2,p=Math.random()*a;c.push([c[f][0]+p*Math.cos(h),c[f][1]+p*Math.sin(h)])}u.push(o.lineString(c))}return o.featureCollection(u)}},5489:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(6470)),i=n(r(8633)),a=r(1719);e.default=function(t,e,r,n){void 0===n&&(n={});for(var s=[],u=t[0],l=t[1],c=t[2],f=t[3],h=e/i.default([u,l],[c,l],n)*(c-u),p=r/i.default([u,l],[u,f],n)*(f-l),d=c-u,g=f-l,v=Math.floor(d/h),y=Math.floor(g/p),m=(g-y*p)/2,b=u+(d-v*h)/2,x=0;x<v;x++){for(var E=l+m,P=0;P<y;P++){var M=a.polygon([[[b,E],[b,E+p],[b+h,E+p],[b+h,E],[b,E]]],n.properties);n.mask?o.default(n.mask,M)&&s.push(M):s.push(M),E+=p}b+=h}return a.featureCollection(s)}},3154:function(t,e,r){"use strict";var n=r(8268),o=r(5511),i=r(9163),a=r(2258),s=r(1719);function u(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var l=u(n),c=u(o);function f(t,e){if(e=e||{},!s.isObject(e))throw Error("options is invalid");var r=e.reverse||!1,n=e.mutate||!1;if(!t)throw Error("<geojson> is required");if("boolean"!=typeof r)throw Error("<reverse> must be a boolean");if("boolean"!=typeof n)throw Error("<mutate> must be a boolean");!1===n&&(t=l.default(t));var o=[];switch(t.type){case"GeometryCollection":return i.geomEach(t,function(t){h(t,r)}),t;case"FeatureCollection":return i.featureEach(t,function(t){i.featureEach(h(t,r),function(t){o.push(t)})}),s.featureCollection(o)}return h(t,r)}function h(t,e){switch("Feature"===t.type?t.geometry.type:t.type){case"GeometryCollection":return i.geomEach(t,function(t){h(t,e)}),t;case"LineString":return p(a.getCoords(t),e),t;case"Polygon":return d(a.getCoords(t),e),t;case"MultiLineString":return a.getCoords(t).forEach(function(t){p(t,e)}),t;case"MultiPolygon":return a.getCoords(t).forEach(function(t){d(t,e)}),t;case"Point":case"MultiPoint":return t}}function p(t,e){c.default(t)===e&&t.reverse()}function d(t,e){c.default(t[0])!==e&&t[0].reverse();for(var r=1;r<t.length;r++)c.default(t[r])===e&&t[r].reverse()}t.exports=f,t.exports.default=f},4353:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1719),o=r(2258);function i(t,e){var r=n.degreesToRadians(t[1]),o=n.degreesToRadians(e[1]),i=n.degreesToRadians(e[0]-t[0]);i>Math.PI&&(i-=2*Math.PI),i<-Math.PI&&(i+=2*Math.PI);var a=Math.atan2(i,Math.log(Math.tan(o/2+Math.PI/4)/Math.tan(r/2+Math.PI/4)));return(n.radiansToDegrees(a)+360)%360}e.default=function(t,e,r){var n;return void 0===r&&(r={}),(n=r.final?i(o.getCoord(e),o.getCoord(t)):i(o.getCoord(t),o.getCoord(e)))>180?-(360-n):n}},703:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1719),o=r(2258);e.default=function(t,e,r,i){void 0===i&&(i={});var a,s,u,l,c,f,h,p,d=n.convertLength(Math.abs(e),i.units,"meters");e<0&&(d=-Math.abs(d));var g=o.getCoord(t),v=(s=d/(a=void 0===a?n.earthRadius:Number(a)),u=g[0]*Math.PI/180,Math.abs(h=(l=n.degreesToRadians(g[1]))+(f=s*Math.cos(c=n.degreesToRadians(r))))>Math.PI/2&&(h=h>0?Math.PI-h:-Math.PI-h),[(180*(u+s*Math.sin(c)/(Math.abs(p=Math.log(Math.tan(h/2+Math.PI/4)/Math.tan(l/2+Math.PI/4)))>1e-11?f/p:Math.cos(l)))/Math.PI+540)%360-180,180*h/Math.PI]);return v[0]+=v[0]-g[0]>180?-360:g[0]-v[0]>180?360:0,n.point(v,i.properties)}},5695:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1719),o=r(2258);e.default=function(t,e,r){void 0===r&&(r={});var i,a,s,u,l,c,f,h,p=o.getCoord(t),d=o.getCoord(e);d[0]+=d[0]-p[0]>180?-360:p[0]-d[0]>180?360:0;var g=(a=i=void 0===i?n.earthRadius:Number(i),s=p[1]*Math.PI/180,l=(u=d[1]*Math.PI/180)-s,(c=Math.abs(d[0]-p[0])*Math.PI/180)>Math.PI&&(c-=2*Math.PI),h=Math.abs(f=Math.log(Math.tan(u/2+Math.PI/4)/Math.tan(s/2+Math.PI/4)))>1e-11?l/f:Math.cos(s),Math.sqrt(l*l+h*h*c*c)*a);return n.convertLength(g,"meters",r.units)}},3922:function(t,e,r){"use strict";var n=r(1719);function o(t,e){if(!t)throw Error("featurecollection is required");if(null==e)throw Error("num is required");if("number"!=typeof e)throw Error("num must be a number");return n.featureCollection(function(t,e){for(var r,n,o=t.slice(0),i=t.length,a=i-e;i-- >a;)r=o[n=Math.floor((i+1)*Math.random())],o[n]=o[i],o[i]=r;return o.slice(a)}(t.features,e))}t.exports=o,t.exports.default=o},462:function(t,e,r){"use strict";var n=r(2996),o=r(9623),i=r(9163),a=r(1719),s=r(2258);function u(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var l=u(n),c=u(o);function f(t,e,r,n,o){if(o=o||{},!a.isObject(o))throw Error("options is invalid");var u=o.properties;if(!t)throw Error("center is required");if(null==r)throw Error("bearing1 is required");if(null==n)throw Error("bearing2 is required");if(!e)throw Error("radius is required");if("object"!=typeof o)throw Error("options must be an object");if(h(r)===h(n))return l.default(t,e,o);var f=s.getCoords(t),p=c.default(t,e,r,n,o),d=[[f]];return i.coordEach(p,function(t){d[0].push(t)}),d[0].push(f),a.polygon(d,u)}function h(t){var e=t%360;return e<0&&(e+=360),e}t.exports=f,t.exports.default=f},1585:function(t,e,r){"use strict";var n=r(4635),o=r(5991),i=r(8633),a=r(4685),s=r(2517),u=r(2216),l=r(2258),c=r(1719);function f(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var h=f(n),p=f(o),d=f(i),g=f(a),v=f(s),y=f(u);function m(t){for(var e=t,r=[];e.parent;)r.unshift(e),e=e.parent;return r}var b={search:function(t,e,r,n){t.cleanDirty();var o=(n=n||{}).heuristic||b.heuristics.manhattan,i=n.closest||!1,a=new P(function(t){return t.f}),s=e;for(e.h=o(e,r),a.push(e);a.size()>0;){var u=a.pop();if(u===r)return m(u);u.closed=!0;for(var l=t.neighbors(u),c=0,f=l.length;c<f;++c){var h=l[c];if(!(h.closed||h.isWall())){var p=u.g+h.getCost(u),d=h.visited;(!d||p<h.g)&&(h.visited=!0,h.parent=u,h.h=h.h||o(h,r),h.g=p,h.f=h.g+h.h,t.markDirty(h),i&&(h.h<s.h||h.h===s.h&&h.g<s.g)&&(s=h),d?a.rescoreElement(h):a.push(h))}}}return i?m(s):[]},heuristics:{manhattan:function(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},diagonal:function(t,e){var r=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y);return 1*(r+n)+(Math.sqrt(2)-2)*Math.min(r,n)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=null}};function x(t,e){e=e||{},this.nodes=[],this.diagonal=!!e.diagonal,this.grid=[];for(var r=0;r<t.length;r++){this.grid[r]=[];for(var n=0,o=t[r];n<o.length;n++){var i=new E(r,n,o[n]);this.grid[r][n]=i,this.nodes.push(i)}}this.init()}function E(t,e,r){this.x=t,this.y=e,this.weight=r}function P(t){this.content=[],this.scoreFunction=t}function M(t,e,r){if(r=r||{},!c.isObject(r))throw Error("options is invalid");var n=r.resolution,o=r.minDistance,i=r.obstacles||c.featureCollection([]);if(!t)throw Error("start is required");if(!e)throw Error("end is required");if(n&&!c.isNumber(n)||n<=0)throw Error("options.resolution must be a number, greater than 0");if(o)throw Error("options.minDistance is not yet implemented");var a=l.getCoord(t),s=l.getCoord(e);switch(t=c.point(a),e=c.point(s),l.getType(i)){case"FeatureCollection":if(0===i.features.length)return c.lineString([a,s]);break;case"Polygon":i=c.featureCollection([c.feature(l.getGeom(i))]);break;default:throw Error("invalid obstacles")}var u=i;u.features.push(t),u.features.push(e);var f=h.default(g.default(y.default(h.default(u)),1.15));n||(n=d.default([f[0],f[1]],[f[2],f[1]],r)/100),u.features.pop(),u.features.pop();for(var m=f[0],E=f[1],P=f[2],M=f[3],w=n/d.default([m,E],[P,E],r)*(P-m),S=n/d.default([m,E],[m,M],r)*(M-E),_=P-m,O=M-E,j=(_-Math.floor(_/w)*w)/2,A=[],C=[],k=[],L=[],I=1/0,R=1/0,T=M-(O-Math.floor(O/S)*S)/2,D=0;T>=E;){for(var N=[],F=[],B=m+j,V=0;B<=P;){var q=c.point([B,T]),z=function(t,e){for(var r=0;r<e.features.length;r++)if(p.default(t,e.features[r]))return!0;return!1}(q,i);N.push(z?0:1),F.push(B+"|"+T);var U=d.default(q,t);!z&&U<I&&(I=U,k={x:V,y:D});var G=d.default(q,e);!z&&G<R&&(R=G,L={x:V,y:D}),B+=w,V++}C.push(N),A.push(F),T-=S,D++}var Y=new x(C,{diagonal:!0}),X=Y.grid[k.y][k.x],$=Y.grid[L.y][L.x],W=b.search(Y,X,$),H=[a];return W.forEach(function(t){var e=A[t.x][t.y].split("|");H.push([+e[0],+e[1]])}),H.push(s),v.default(c.lineString(H))}x.prototype.init=function(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)b.cleanNode(this.nodes[t])},x.prototype.cleanDirty=function(){for(var t=0;t<this.dirtyNodes.length;t++)b.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]},x.prototype.markDirty=function(t){this.dirtyNodes.push(t)},x.prototype.neighbors=function(t){var e=[],r=t.x,n=t.y,o=this.grid;return o[r-1]&&o[r-1][n]&&e.push(o[r-1][n]),o[r+1]&&o[r+1][n]&&e.push(o[r+1][n]),o[r]&&o[r][n-1]&&e.push(o[r][n-1]),o[r]&&o[r][n+1]&&e.push(o[r][n+1]),this.diagonal&&(o[r-1]&&o[r-1][n-1]&&e.push(o[r-1][n-1]),o[r+1]&&o[r+1][n-1]&&e.push(o[r+1][n-1]),o[r-1]&&o[r-1][n+1]&&e.push(o[r-1][n+1]),o[r+1]&&o[r+1][n+1]&&e.push(o[r+1][n+1])),e},x.prototype.toString=function(){for(var t,e,r,n,o=[],i=this.grid,a=0,s=i.length;a<s;a++){for(r=0,t=[],n=(e=i[a]).length;r<n;r++)t.push(e[r].weight);o.push(t.join(" "))}return o.join("\n")},E.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},E.prototype.getCost=function(t){return t&&t.x!==this.x&&t.y!==this.y?1.41421*this.weight:this.weight},E.prototype.isWall=function(){return 0===this.weight},P.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t},remove:function(t){var e=this.content.indexOf(t),r=this.content.pop();e!==this.content.length-1&&(this.content[e]=r,this.scoreFunction(r)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){for(var e=this.content[t];t>0;){var r=(t+1>>1)-1,n=this.content[r];if(this.scoreFunction(e)<this.scoreFunction(n))this.content[r]=e,this.content[t]=n,t=r;else break}},bubbleUp:function(t){for(var e=this.content.length,r=this.content[t],n=this.scoreFunction(r);;){var o,i=t+1<<1,a=i-1,s=null;if(a<e){var u=this.content[a];(o=this.scoreFunction(u))<n&&(s=a)}if(i<e){var l=this.content[i];this.scoreFunction(l)<(null===s?n:o)&&(s=i)}if(null!==s)this.content[t]=this.content[s],this.content[s]=r,t=s;else break}}},t.exports=M,t.exports.default=M},4964:function(t,e,r){"use strict";var n=r(2517),o=r(8268),i=r(9163),a=r(1719);function s(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var u=s(n),l=s(o);function c(t,e,r){if(t.length<=2)return t;var n,o,i,a=void 0!==e?e*e:1;return o=(n=t=r?t:function(t,e){for(var r,n=t[0],o=[n],i=1,a=t.length;i<a;i++)(function(t,e){var r=t.x-e.x,n=t.y-e.y;return r*r+n*n})(r=t[i],n)>e&&(o.push(r),n=r);return n!==r&&o.push(r),o}(t,a)).length-1,i=[n[0]],function t(e,r,n,o,i){for(var a,s=o,u=r+1;u<n;u++){var l=function(t,e,r){var n=e.x,o=e.y,i=r.x-n,a=r.y-o;if(0!==i||0!==a){var s=((t.x-n)*i+(t.y-o)*a)/(i*i+a*a);s>1?(n=r.x,o=r.y):s>0&&(n+=i*s,o+=a*s)}return(i=t.x-n)*i+(a=t.y-o)*a}(e[u],e[r],e[n]);l>s&&(a=u,s=l)}s>o&&(a-r>1&&t(e,r,a,o,i),i.push(e[a]),n-a>1&&t(e,a,n,o,i))}(n,0,o,a,i),i.push(n[o]),t=i}function f(t,e){if(e=e||{},!a.isObject(e))throw Error("options is invalid");var r=void 0!==e.tolerance?e.tolerance:1,n=e.highQuality||!1,o=e.mutate||!1;if(!t)throw Error("geojson is required");if(r&&r<0)throw Error("invalid tolerance");return!0!==o&&(t=l.default(t)),i.geomEach(t,function(t){(function(t,e,r){var n=t.type;if("Point"!==n&&"MultiPoint"!==n){u.default(t,!0);var o=t.coordinates;switch(n){case"LineString":t.coordinates=h(o,e,r);break;case"MultiLineString":t.coordinates=o.map(function(t){return h(t,e,r)});break;case"Polygon":t.coordinates=p(o,e,r);break;case"MultiPolygon":t.coordinates=o.map(function(t){return p(t,e,r)})}}})(t,r,n)}),t}function h(t,e,r){return c(t.map(function(t){return{x:t[0],y:t[1],z:t[2]}}),e,r).map(function(t){return t.z?[t.x,t.y,t.z]:[t.x,t.y]})}function p(t,e,r){return t.map(function(t){var n,o=t.map(function(t){return{x:t[0],y:t[1]}});if(o.length<4)throw Error("invalid polygon");for(var i=c(o,e,r).map(function(t){return[t.x,t.y]});!(!((n=i).length<3)&&!(3===n.length&&n[2][0]===n[0][0]&&n[2][1]===n[0][1]));)e-=.01*e,i=c(o,e,r).map(function(t){return[t.x,t.y]});return(i[i.length-1][0]!==i[0][0]||i[i.length-1][1]!==i[0][1])&&i.push(i[0]),i})}t.exports=f,t.exports.default=f},2565:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(5489));e.default=function(t,e,r){return void 0===r&&(r={}),o.default(t,e,e,r)}},3833:function(t,e,r){"use strict";var n=r(8633),o=n&&"object"==typeof n&&"default"in n?n:{default:n};function i(t){var e=t[0],r=t[1],n=t[2],i=t[3];if(o.default(t.slice(0,2),[n,r])>=o.default(t.slice(0,2),[e,i])){var a=(r+i)/2;return[e,a-(n-e)/2,n,a+(n-e)/2]}var s=(e+n)/2;return[s-(i-r)/2,r,s+(i-r)/2,i]}t.exports=i,t.exports.default=i},5593:function(t,e,r){"use strict";var n=r(9163),o=r(2258),i=r(1719),a=r(4584),s=r(658),u=r(8431);function l(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var c=l(a),f=l(s),h=l(u);function p(t,e){if(e=e||{},!i.isObject(e))throw Error("options is invalid");var r=e.steps||64,a=e.weight,s=e.properties||{};if(!i.isNumber(r))throw Error("steps must be a number");if(!i.isObject(s))throw Error("properties must be a number");var u=n.coordAll(t).length,l=c.default(t,{weight:a}),p=0,g=0,v=0;n.featureEach(t,function(t){var e=t.properties[a]||1,r=d(o.getCoords(t),o.getCoords(l));p+=Math.pow(r.x,2)*e,g+=Math.pow(r.y,2)*e,v+=r.x*r.y*e});var y=p-g,m=Math.sqrt(Math.pow(y,2)+4*Math.pow(v,2)),b=Math.atan((y+m)/(2*v)),x=180*b/Math.PI,E=0,P=0,M=0;n.featureEach(t,function(t){var e=t.properties[a]||1,r=d(o.getCoords(t),o.getCoords(l));E+=Math.pow(r.x*Math.cos(b)-r.y*Math.sin(b),2)*e,P+=Math.pow(r.x*Math.sin(b)+r.y*Math.cos(b),2)*e,M+=e});var w=Math.sqrt(2*E/M),S=Math.sqrt(2*P/M),_=h.default(l,w,S,{units:"degrees",angle:x,steps:r,properties:s}),O=f.default(t,i.featureCollection([_])),j={meanCenterCoordinates:o.getCoords(l),semiMajorAxis:w,semiMinorAxis:S,numberOfFeatures:u,angle:x,percentageWithinEllipse:100*n.coordAll(O).length/u};return _.properties.standardDeviationalEllipse=j,_}function d(t,e){return{x:t[0]-e[0],y:t[1]-e[1]}}t.exports=p,t.exports.default=p},7003:function(t,e,r){"use strict";var n=r(5991),o=r(8268),i=r(9163);function a(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var s=a(n),u=a(o);function l(t,e,r,n){return t=u.default(t),e=u.default(e),i.featureEach(t,function(t){t.properties||(t.properties={}),i.featureEach(e,function(e){void 0===t.properties[n]&&s.default(t,e)&&(t.properties[n]=e.properties[r])})}),t}t.exports=l,t.exports.default=l},8987:function(t,e,r){"use strict";var n=r(8558),o=r(1719),i=n&&"object"==typeof n&&"default"in n?n:{default:n};function a(t){if(!t.geometry||"Polygon"!==t.geometry.type&&"MultiPolygon"!==t.geometry.type)throw Error("input must be a Polygon or MultiPolygon");var e={type:"FeatureCollection",features:[]};return"Polygon"===t.geometry.type?e.features=s(t.geometry.coordinates):t.geometry.coordinates.forEach(function(t){e.features=e.features.concat(s(t))}),e}function s(t){var e=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,o=0;o<t.length;o++){for(var i=0;i<t[o].length;i++)for(var a=0;a<e;a++)r.vertices.push(t[o][i][a]);o>0&&(n+=t[o-1].length,r.holes.push(n))}return r}(t),r=i.default(e.vertices,e.holes,2),n=[],a=[];r.forEach(function(t,n){var o=r[n];a.push([e.vertices[2*o],e.vertices[2*o+1]])});for(var s=0;s<a.length;s+=3){var u=a.slice(s,s+3);u.push(a[s]),n.push(o.polygon([u]))}return n}t.exports=a,t.exports.default=a},2705:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1719);e.default=function(t,e){var r=!1;return n.featureCollection((function(t){if(t.length<3)return[];t.sort(i);for(var e,r,n,a,s,u,l=t.length-1,c=t[l].x,f=t[0].x,h=t[l].y,p=h;l--;)t[l].y<h&&(h=t[l].y),t[l].y>p&&(p=t[l].y);var d=f-c,g=p-h,v=d>g?d:g,y=(f+c)*.5,m=(p+h)*.5,b=[new o({__sentinel:!0,x:y-20*v,y:m-v},{__sentinel:!0,x:y,y:m+20*v},{__sentinel:!0,x:y+20*v,y:m-v})],x=[],E=[];for(l=t.length;l--;){for(E.length=0,u=b.length;u--;){if((d=t[l].x-b[u].x)>0&&d*d>b[u].r){x.push(b[u]),b.splice(u,1);continue}d*d+(g=t[l].y-b[u].y)*g>b[u].r||(E.push(b[u].a,b[u].b,b[u].b,b[u].c,b[u].c,b[u].a),b.splice(u,1))}for(!function(t){var e,r,n,o,i,a=t.length;t:for(;a;)for(r=t[--a],e=t[--a],n=a;n;)if(i=t[--n],e===(o=t[--n])&&r===i||e===i&&r===o){t.splice(a,2),t.splice(n,2),a-=2;continue t}}(E),u=E.length;u;)r=E[--u],e=E[--u],n=t[l],a=r.x-e.x,s=r.y-e.y,Math.abs(2*(a*(n.y-r.y)-s*(n.x-r.x)))>1e-12&&b.push(new o(e,r,n))}for(Array.prototype.push.apply(x,b),l=x.length;l--;)(x[l].a.__sentinel||x[l].b.__sentinel||x[l].c.__sentinel)&&x.splice(l,1);return x})(t.features.map(function(t){var n={x:t.geometry.coordinates[0],y:t.geometry.coordinates[1]};return e?n.z=t.properties[e]:3===t.geometry.coordinates.length&&(r=!0,n.z=t.geometry.coordinates[2]),n})).map(function(t){var e=[t.a.x,t.a.y],o=[t.b.x,t.b.y],i=[t.c.x,t.c.y],a={};return r?(e.push(t.a.z),o.push(t.b.z),i.push(t.c.z)):a={a:t.a.z,b:t.b.z,c:t.c.z},n.polygon([[e,o,i,e]],a)}))};var o=function(t,e,r){this.a=t,this.b=e,this.c=r;var n,o,i=e.x-t.x,a=e.y-t.y,s=r.x-t.x,u=r.y-t.y,l=i*(t.x+e.x)+a*(t.y+e.y),c=s*(t.x+r.x)+u*(t.y+r.y),f=2*(i*(r.y-e.y)-a*(r.x-e.x));this.x=(u*l-a*c)/f,this.y=(i*c-s*l)/f,n=this.x-t.x,o=this.y-t.y,this.r=n*n+o*o};function i(t,e){return e.x-t.x}},9986:function(t,e,r){"use strict";var n=r(613),o=r(4353),i=r(5695),a=r(703),s=r(8268),u=r(9163),l=r(2258),c=r(1719);function f(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var h=f(n),p=f(o),d=f(i),g=f(a),v=f(s);function y(t,e,r){if(r=r||{},!c.isObject(r))throw Error("options is invalid");var n=r.pivot,o=r.mutate;if(!t)throw Error("geojson is required");if(null==e||isNaN(e))throw Error("angle is required");return 0===e||(n||(n=h.default(t)),(!1===o||void 0===o)&&(t=v.default(t)),u.coordEach(t,function(t){var r=p.default(n,t),o=d.default(n,t),i=l.getCoords(g.default(n,o,r+e));t[0]=i[0],t[1]=i[1]})),t}t.exports=y,t.exports.default=y},4685:function(t,e,r){"use strict";var n=r(8268),o=r(3570),i=r(613),a=r(4635),s=r(4353),u=r(5695),l=r(703),c=r(9163),f=r(1719),h=r(2258);function p(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var d=p(n),g=p(o),v=p(i),y=p(a),m=p(s),b=p(u),x=p(l);function E(t,e,r){if(r=r||{},!f.isObject(r))throw Error("options is invalid");var n=r.origin,o=r.mutate;if(!t)throw Error("geojson required");if("number"!=typeof e||0===e)throw Error("invalid factor");var i=Array.isArray(n)||"object"==typeof n;return(!0!==o&&(t=d.default(t)),"FeatureCollection"!==t.type||i)?P(t,e,n):(c.featureEach(t,function(r,o){t.features[o]=P(r,e,n)}),t)}function P(t,e,r){var n="Point"===h.getType(t);return r=function(t,e){if(null==e&&(e="centroid"),Array.isArray(e)||"object"==typeof e)return h.getCoord(e);var r=t.bbox?t.bbox:y.default(t),n=r[0],o=r[1],i=r[2],a=r[3];switch(e){case"sw":case"southwest":case"westsouth":case"bottomleft":return f.point([n,o]);case"se":case"southeast":case"eastsouth":case"bottomright":return f.point([i,o]);case"nw":case"northwest":case"westnorth":case"topleft":return f.point([n,a]);case"ne":case"northeast":case"eastnorth":case"topright":return f.point([i,a]);case"center":return g.default(t);case void 0:case null:case"centroid":return v.default(t);default:throw Error("invalid origin")}}(t,r),1===e||n||c.coordEach(t,function(t){var n=b.default(r,t),o=m.default(r,t),i=h.getCoords(x.default(r,n*e,o));t[0]=i[0],t[1]=i[1],3===t.length&&(t[2]*=e)}),t}t.exports=E,t.exports.default=E},7482:function(t,e,r){"use strict";var n=r(9163),o=r(1719),i=r(2258),a=r(8268),s=r(703);function u(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var l=u(a),c=u(s);function f(t,e,r,a){if(a=a||{},!o.isObject(a))throw Error("options is invalid");var s=a.units,u=a.zTranslation,f=a.mutate;if(!t)throw Error("geojson is required");if(null==e||isNaN(e))throw Error("distance is required");if(u&&"number"!=typeof u&&isNaN(u))throw Error("zTranslation is not a number");if(u=void 0!==u?u:0,0===e&&0===u)return t;if(null==r||isNaN(r))throw Error("direction is required");return e<0&&(e=-e,r+=180),(!1===f||void 0===f)&&(t=l.default(t)),n.coordEach(t,function(t){var n=i.getCoords(c.default(t,e,r,{units:s}));t[0]=n[0],t[1]=n[1],u&&3===t.length&&(t[2]+=u)}),t}t.exports=f,t.exports.default=f},7964:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(8633)),i=n(r(1)),a=r(1719);e.default=function(t,e,r){void 0===r&&(r={});for(var n=[],s=e/o.default([t[0],t[1]],[t[2],t[1]],r)*(t[2]-t[0]),u=e/o.default([t[0],t[1]],[t[0],t[3]],r)*(t[3]-t[1]),l=0,c=t[0];c<=t[2];){for(var f=0,h=t[1];h<=t[3];){var p=null,d=null;l%2==0&&f%2==0?(p=a.polygon([[[c,h],[c,h+u],[c+s,h],[c,h]]],r.properties),d=a.polygon([[[c,h+u],[c+s,h+u],[c+s,h],[c,h+u]]],r.properties)):l%2==0&&f%2==1?(p=a.polygon([[[c,h],[c+s,h+u],[c+s,h],[c,h]]],r.properties),d=a.polygon([[[c,h],[c,h+u],[c+s,h+u],[c,h]]],r.properties)):f%2==0&&l%2==1?(p=a.polygon([[[c,h],[c,h+u],[c+s,h+u],[c,h]]],r.properties),d=a.polygon([[[c,h],[c+s,h+u],[c+s,h],[c,h]]],r.properties)):f%2==1&&l%2==1&&(p=a.polygon([[[c,h],[c,h+u],[c+s,h],[c,h]]],r.properties),d=a.polygon([[[c,h+u],[c+s,h+u],[c+s,h],[c,h+u]]],r.properties)),r.mask?(i.default(r.mask,p)&&n.push(p),i.default(r.mask,d)&&n.push(d)):(n.push(p),n.push(d)),h+=u,f++}l++,c+=s}return a.featureCollection(n)}},8714:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(9163);e.default=function(t,e){void 0===e&&(e={});var r=e.precision,o=e.coordinates,i=e.mutate;if(r=null==r||isNaN(r)?6:r,o=null==o||isNaN(o)?3:o,!t)throw Error("<geojson> is required");if("number"!=typeof r)throw Error("<precision> must be a number");if("number"!=typeof o)throw Error("<coordinates> must be a number");(!1===i||void 0===i)&&(t=JSON.parse(JSON.stringify(t)));var a=Math.pow(10,r);return n.coordEach(t,function(t){(function(t,e,r){t.length>r&&t.splice(r,t.length);for(var n=0;n<t.length;n++)t[n]=Math.round(t[n]*e)/e})(t,a,o)}),t}},7083:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(5072),o=r(4203),i=r(658),a=r(7715),s=r(9489),u=r(3324),l=r(4964),c=r(4793),f=r(7003),h=r(3922),p=r(7284),d=r(3833),g=r(2996),v=r(6195),y=r(3570),m=r(5681),b=r(613),x=r(9721),E=r(8633),P=r(4334),M=r(4635),w=r(8987),S=r(2216),_=r(5991),O=r(4403),j=r(9011),A=r(8372),C=r(2353),k=r(2705),L=r(8732),I=r(4091),R=r(4495),T=r(7328),D=r(1377),N=r(7897),F=r(3398),B=r(9970),V=r(8213),q=r(7065),z=r(8714),U=r(1111),G=r(6509),Y=r(8248),X=r(5070),$=r(1001),W=r(5347),H=r(5998),J=r(9623),Z=r(6831),K=r(1146),Q=r(7027),tt=r(5126),te=r(462),tr=r(4353),tn=r(5695),to=r(703),ti=r(2381),ta=r(3154),ts=r(5656),tu=r(9986),tl=r(4685),tc=r(7482),tf=r(5338),th=r(889),tp=r(9854),td=r(8693),tg=r(9334),tv=r(5511),ty=r(1729),tm=r(5353),tb=r(1437),tx=r(3134),tE=r(6470),tP=r(8268),tM=r(2517),tw=r(4816),tS=r(1636),t_=r(4822),tO=r(7381),tj=r(1585),tA=r(2280),tC=r(8431),tk=r(4584),tL=r(6626),tI=r(5593),tR=r(9345),tT=r(7118),tD=r(5390),tN=r(4633),tF=r(5888),tB=r(4621),tV=r(961),tq=r(1719),tz=r(2258),tU=r(9163),tG=r(872),tY=r(3852),tX=r(9222),t$=r(1),tW=r(633),tH=r(5530),tJ=r(1778),tZ=r(2565),tK=r(7964),tQ=r(1647);function t0(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}function t1(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var t2=t0(n),t3=t0(o),t6=t0(i),t5=t0(a),t4=t0(s),t9=t0(u),t8=t0(l),t7=t0(c),et=t0(f),ee=t0(h),er=t0(p),en=t0(d),eo=t0(g),ei=t0(v),ea=t0(y),es=t0(m),eu=t0(b),el=t0(x),ec=t0(E),ef=t0(P),eh=t0(M),ep=t0(w),ed=t0(S),eg=t0(_),ev=t0(O),ey=t0(j),em=t0(A),eb=t0(C),ex=t0(k),eE=t0(L),eP=t0(I),eM=t0(R),ew=t0(T),eS=t0(D),e_=t0(N),eO=t0(F),ej=t0(B),eA=t0(V),eC=t0(q),ek=t0(z),eL=t0(U),eI=t0(G),eR=t0(Y),eT=t0(X),eD=t0($),eN=t0(W),eF=t0(H),eB=t0(J),eV=t0(Z),eq=t0(K),ez=t0(Q),eU=t0(tt),eG=t0(te),eY=t0(tr),eX=t0(tn),e$=t0(to),eW=t0(ti),eH=t0(ta),eJ=t0(ts),eZ=t0(tu),eK=t0(tl),eQ=t0(tc),e0=t0(tf),e1=t0(th),e2=t0(tp),e3=t0(td),e6=t0(tg),e5=t0(tv),e4=t0(ty),e9=t0(tm),e8=t0(tb),e7=t0(tx),rt=t0(tE),re=t0(tP),rr=t0(tM),rn=t0(tw),ro=t0(tS),ri=t0(t_),ra=t0(tO),rs=t0(tj),ru=t0(tA),rl=t0(tC),rc=t0(tk),rf=t0(tL),rh=t0(tI),rp=t0(tR),rd=t0(tT),rg=t0(tD),rv=t0(tN),ry=t1(tF),rm=t1(tB),rb=t1(tV),rx=t1(tq),rE=t1(tz),rP=t1(tU),rM=t0(tG),rw=t0(tY),rS=t0(tX),r_=t0(t$),rO=t0(tW),rj=t0(tH),rA=t0(tJ),rC=t0(tZ),rk=t0(tK),rL=t0(tQ);Object.keys(tF).forEach(function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return tF[t]}})}),Object.keys(tB).forEach(function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return tB[t]}})}),Object.keys(tV).forEach(function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return tV[t]}})}),Object.keys(tq).forEach(function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return tq[t]}})}),Object.keys(tz).forEach(function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return tz[t]}})}),Object.keys(tU).forEach(function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return tU[t]}})}),Object.defineProperty(e,"isolines",{enumerable:!0,get:function(){return t2.default}}),Object.defineProperty(e,"convex",{enumerable:!0,get:function(){return t3.default}}),Object.defineProperty(e,"pointsWithinPolygon",{enumerable:!0,get:function(){return t6.default}}),Object.defineProperty(e,"within",{enumerable:!0,get:function(){return t6.default}}),Object.defineProperty(e,"concave",{enumerable:!0,get:function(){return t5.default}}),Object.defineProperty(e,"collect",{enumerable:!0,get:function(){return t4.default}}),Object.defineProperty(e,"flip",{enumerable:!0,get:function(){return t9.default}}),Object.defineProperty(e,"simplify",{enumerable:!0,get:function(){return t8.default}}),Object.defineProperty(e,"bezier",{enumerable:!0,get:function(){return t7.default}}),Object.defineProperty(e,"bezierSpline",{enumerable:!0,get:function(){return t7.default}}),Object.defineProperty(e,"tag",{enumerable:!0,get:function(){return et.default}}),Object.defineProperty(e,"sample",{enumerable:!0,get:function(){return ee.default}}),Object.defineProperty(e,"envelope",{enumerable:!0,get:function(){return er.default}}),Object.defineProperty(e,"square",{enumerable:!0,get:function(){return en.default}}),Object.defineProperty(e,"circle",{enumerable:!0,get:function(){return eo.default}}),Object.defineProperty(e,"midpoint",{enumerable:!0,get:function(){return ei.default}}),Object.defineProperty(e,"center",{enumerable:!0,get:function(){return ea.default}}),Object.defineProperty(e,"centerOfMass",{enumerable:!0,get:function(){return es.default}}),Object.defineProperty(e,"centroid",{enumerable:!0,get:function(){return eu.default}}),Object.defineProperty(e,"combine",{enumerable:!0,get:function(){return el.default}}),Object.defineProperty(e,"distance",{enumerable:!0,get:function(){return ec.default}}),Object.defineProperty(e,"explode",{enumerable:!0,get:function(){return ef.default}}),Object.defineProperty(e,"bbox",{enumerable:!0,get:function(){return eh.default}}),Object.defineProperty(e,"tesselate",{enumerable:!0,get:function(){return ep.default}}),Object.defineProperty(e,"bboxPolygon",{enumerable:!0,get:function(){return ed.default}}),Object.defineProperty(e,"booleanPointInPolygon",{enumerable:!0,get:function(){return eg.default}}),Object.defineProperty(e,"inside",{enumerable:!0,get:function(){return eg.default}}),Object.defineProperty(e,"nearest",{enumerable:!0,get:function(){return ev.default}}),Object.defineProperty(e,"nearestPoint",{enumerable:!0,get:function(){return ev.default}}),Object.defineProperty(e,"nearestPointOnLine",{enumerable:!0,get:function(){return ey.default}}),Object.defineProperty(e,"pointOnLine",{enumerable:!0,get:function(){return ey.default}}),Object.defineProperty(e,"nearestPointToLine",{enumerable:!0,get:function(){return em.default}}),Object.defineProperty(e,"planepoint",{enumerable:!0,get:function(){return eb.default}}),Object.defineProperty(e,"tin",{enumerable:!0,get:function(){return ex.default}}),Object.defineProperty(e,"bearing",{enumerable:!0,get:function(){return eE.default}}),Object.defineProperty(e,"destination",{enumerable:!0,get:function(){return eP.default}}),Object.defineProperty(e,"kinks",{enumerable:!0,get:function(){return eM.default}}),Object.defineProperty(e,"pointOnFeature",{enumerable:!0,get:function(){return ew.default}}),Object.defineProperty(e,"pointOnSurface",{enumerable:!0,get:function(){return ew.default}}),Object.defineProperty(e,"area",{enumerable:!0,get:function(){return eS.default}}),Object.defineProperty(e,"along",{enumerable:!0,get:function(){return e_.default}}),Object.defineProperty(e,"length",{enumerable:!0,get:function(){return eO.default}}),Object.defineProperty(e,"lineDistance",{enumerable:!0,get:function(){return eO.default}}),Object.defineProperty(e,"lineSlice",{enumerable:!0,get:function(){return ej.default}}),Object.defineProperty(e,"lineSliceAlong",{enumerable:!0,get:function(){return eA.default}}),Object.defineProperty(e,"pointGrid",{enumerable:!0,get:function(){return eC.default}}),Object.defineProperty(e,"truncate",{enumerable:!0,get:function(){return ek.default}}),Object.defineProperty(e,"flatten",{enumerable:!0,get:function(){return eL.default}}),Object.defineProperty(e,"lineIntersect",{enumerable:!0,get:function(){return eI.default}}),Object.defineProperty(e,"lineChunk",{enumerable:!0,get:function(){return eR.default}}),Object.defineProperty(e,"unkinkPolygon",{enumerable:!0,get:function(){return eT.default}}),Object.defineProperty(e,"greatCircle",{enumerable:!0,get:function(){return eD.default}}),Object.defineProperty(e,"lineSegment",{enumerable:!0,get:function(){return eN.default}}),Object.defineProperty(e,"lineSplit",{enumerable:!0,get:function(){return eF.default}}),Object.defineProperty(e,"lineArc",{enumerable:!0,get:function(){return eB.default}}),Object.defineProperty(e,"polygonToLine",{enumerable:!0,get:function(){return eV.default}}),Object.defineProperty(e,"polygonToLineString",{enumerable:!0,get:function(){return eV.default}}),Object.defineProperty(e,"lineStringToPolygon",{enumerable:!0,get:function(){return eq.default}}),Object.defineProperty(e,"lineToPolygon",{enumerable:!0,get:function(){return eq.default}}),Object.defineProperty(e,"bboxClip",{enumerable:!0,get:function(){return ez.default}}),Object.defineProperty(e,"lineOverlap",{enumerable:!0,get:function(){return eU.default}}),Object.defineProperty(e,"sector",{enumerable:!0,get:function(){return eG.default}}),Object.defineProperty(e,"rhumbBearing",{enumerable:!0,get:function(){return eY.default}}),Object.defineProperty(e,"rhumbDistance",{enumerable:!0,get:function(){return eX.default}}),Object.defineProperty(e,"rhumbDestination",{enumerable:!0,get:function(){return e$.default}}),Object.defineProperty(e,"polygonTangents",{enumerable:!0,get:function(){return eW.default}}),Object.defineProperty(e,"rewind",{enumerable:!0,get:function(){return eH.default}}),Object.defineProperty(e,"isobands",{enumerable:!0,get:function(){return eJ.default}}),Object.defineProperty(e,"transformRotate",{enumerable:!0,get:function(){return eZ.default}}),Object.defineProperty(e,"transformScale",{enumerable:!0,get:function(){return eK.default}}),Object.defineProperty(e,"transformTranslate",{enumerable:!0,get:function(){return eQ.default}}),Object.defineProperty(e,"lineOffset",{enumerable:!0,get:function(){return e0.default}}),Object.defineProperty(e,"polygonize",{enumerable:!0,get:function(){return e1.default}}),Object.defineProperty(e,"booleanDisjoint",{enumerable:!0,get:function(){return e2.default}}),Object.defineProperty(e,"booleanContains",{enumerable:!0,get:function(){return e3.default}}),Object.defineProperty(e,"booleanCrosses",{enumerable:!0,get:function(){return e6.default}}),Object.defineProperty(e,"booleanClockwise",{enumerable:!0,get:function(){return e5.default}}),Object.defineProperty(e,"booleanOverlap",{enumerable:!0,get:function(){return e4.default}}),Object.defineProperty(e,"booleanPointOnLine",{enumerable:!0,get:function(){return e9.default}}),Object.defineProperty(e,"booleanEqual",{enumerable:!0,get:function(){return e8.default}}),Object.defineProperty(e,"booleanWithin",{enumerable:!0,get:function(){return e7.default}}),Object.defineProperty(e,"booleanIntersects",{enumerable:!0,get:function(){return rt.default}}),Object.defineProperty(e,"clone",{enumerable:!0,get:function(){return re.default}}),Object.defineProperty(e,"cleanCoords",{enumerable:!0,get:function(){return rr.default}}),Object.defineProperty(e,"clustersDbscan",{enumerable:!0,get:function(){return rn.default}}),Object.defineProperty(e,"clustersKmeans",{enumerable:!0,get:function(){return ro.default}}),Object.defineProperty(e,"pointToLineDistance",{enumerable:!0,get:function(){return ri.default}}),Object.defineProperty(e,"booleanParallel",{enumerable:!0,get:function(){return ra.default}}),Object.defineProperty(e,"shortestPath",{enumerable:!0,get:function(){return rs.default}}),Object.defineProperty(e,"voronoi",{enumerable:!0,get:function(){return ru.default}}),Object.defineProperty(e,"ellipse",{enumerable:!0,get:function(){return rl.default}}),Object.defineProperty(e,"centerMean",{enumerable:!0,get:function(){return rc.default}}),Object.defineProperty(e,"centerMedian",{enumerable:!0,get:function(){return rf.default}}),Object.defineProperty(e,"standardDeviationalEllipse",{enumerable:!0,get:function(){return rh.default}}),Object.defineProperty(e,"angle",{enumerable:!0,get:function(){return rp.default}}),Object.defineProperty(e,"polygonSmooth",{enumerable:!0,get:function(){return rd.default}}),Object.defineProperty(e,"moranIndex",{enumerable:!0,get:function(){return rg.default}}),Object.defineProperty(e,"distanceWeight",{enumerable:!0,get:function(){return rv.default}}),e.projection=ry,e.random=rm,e.clusters=rb,Object.defineProperty(e,"bearingToAngle",{enumerable:!0,get:function(){return tq.bearingToAzimuth}}),Object.defineProperty(e,"convertDistance",{enumerable:!0,get:function(){return tq.convertLength}}),Object.defineProperty(e,"degrees2radians",{enumerable:!0,get:function(){return tq.degreesToRadians}}),Object.defineProperty(e,"distanceToDegrees",{enumerable:!0,get:function(){return tq.lengthToDegrees}}),Object.defineProperty(e,"distanceToRadians",{enumerable:!0,get:function(){return tq.lengthToRadians}}),e.helpers=rx,Object.defineProperty(e,"radians2degrees",{enumerable:!0,get:function(){return tq.radiansToDegrees}}),Object.defineProperty(e,"radiansToDistance",{enumerable:!0,get:function(){return tq.radiansToLength}}),e.invariant=rE,e.meta=rP,Object.defineProperty(e,"difference",{enumerable:!0,get:function(){return rM.default}}),Object.defineProperty(e,"buffer",{enumerable:!0,get:function(){return rw.default}}),Object.defineProperty(e,"union",{enumerable:!0,get:function(){return rS.default}}),Object.defineProperty(e,"intersect",{enumerable:!0,get:function(){return r_.default}}),Object.defineProperty(e,"dissolve",{enumerable:!0,get:function(){return rO.default}}),Object.defineProperty(e,"hexGrid",{enumerable:!0,get:function(){return rj.default}}),Object.defineProperty(e,"mask",{enumerable:!0,get:function(){return rA.default}}),Object.defineProperty(e,"squareGrid",{enumerable:!0,get:function(){return rC.default}}),Object.defineProperty(e,"triangleGrid",{enumerable:!0,get:function(){return rk.default}}),Object.defineProperty(e,"interpolate",{enumerable:!0,get:function(){return rL.default}})},9222:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(r(5228)),i=r(2258),a=r(1719);e.default=function(t,e,r){void 0===r&&(r={});var n=i.getGeom(t),s=i.getGeom(e),u=o.default.union(n.coordinates,s.coordinates);return 0===u.length?null:1===u.length?a.polygon(u[0],r.properties):a.multiPolygon(u,r.properties)}},5070:function(t,e,r){"use strict";var n=r(9163),o=r(1719),i=r(1461),a=r(1377),s=r(5991);function u(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var l=u(i),c=u(a),f=u(s);function h(t,e){if(!t||!e||t.length!==e.length)return!1;for(var r=0,n=t.length;r<n;r++)if(t[r]instanceof Array&&e[r]instanceof Array){if(!h(t[r],e[r]))return!1}else if(t[r]!==e[r])return!1;return!0}var p=function(t,e,r,n,o){this.coord=t,this.param=e,this.ringAndEdgeIn=r,this.ringAndEdgeOut=n,this.nxtIsectAlongEdgeIn=o},d=function(t,e,r,n,o,i,a){this.coord=t,this.ringAndEdge1=e,this.ringAndEdge2=r,this.nxtIsectAlongRingAndEdge1=n,this.nxtIsectAlongRingAndEdge2=o,this.ringAndEdge1Walkable=i,this.ringAndEdge2Walkable=a};function g(t,e){if(void 0===e&&(e=!0),3!=t.length)throw Error("This function requires an array of three points [x,y]");return(t[1][0]-t[0][0])*(t[2][1]-t[0][1])-(t[1][1]-t[0][1])*(t[2][0]-t[0][0])>=0==e}function v(t,e){if(!t||!e||t.length!=e.length)return!1;for(var r=0,n=t.length;r<n;r++)if(t[r]instanceof Array&&e[r]instanceof Array){if(!v(t[r],e[r]))return!1}else if(t[r]!=e[r])return!1;return!0}function y(t){var e=[];return n.flattenEach(t,function(t){"Polygon"===t.geometry.type&&n.featureEach(function(t){if("Feature"!=t.type)throw Error("The input must a geojson object of type Feature");if(void 0===t.geometry||null==t.geometry)throw Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=t.geometry.type)throw Error("The input must be a geojson Polygon");for(var e=t.geometry.coordinates.length,r=[],n=0;n<e;n++){var i=t.geometry.coordinates[n];v(i[0],i[i.length-1])||i.push(i[0]),r.push.apply(r,i.slice(0,i.length-1))}if(!function(t){for(var e={},r=1,n=0,o=t.length;n<o;++n){if(Object.prototype.hasOwnProperty.call(e,t[n])){r=0;break}e[t[n]]=1}return r}(r))throw Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var a=r.length,s=function(t,e,r){if("Polygon"!==t.geometry.type)throw Error("The input feature must be a Polygon");void 0===r&&(r=1);var n=t.geometry.coordinates,o=[],i={};if(r){for(var a=[],s=0;s<n.length;s++)for(var u=0;u<n[s].length-1;u++)a.push(y(s,u));var c=l.default();c.load(a)}for(var f=0;f<n.length;f++)for(var p=0;p<n[f].length-1;p++)if(r)c.search(y(f,p)).forEach(function(t){v(f,p,t.ring,t.edge)});else for(var d=0;d<n.length;d++)for(var g=0;g<n[d].length-1;g++)v(f,p,d,g);return e||(o={type:"Feature",geometry:{type:"MultiPoint",coordinates:o}}),o;function v(t,r,a,s){var u,l,c=n[t][r],f=n[t][r+1],p=n[a][s],d=n[a][s+1],g=function(t,e,r,n){if(h(t,r)||h(t,n)||h(e,r)||h(n,r))return null;var o=t[0],i=t[1],a=e[0],s=e[1],u=r[0],l=r[1],c=n[0],f=n[1],p=(o-a)*(l-f)-(i-s)*(u-c);return 0===p?null:[((o*s-i*a)*(u-c)-(o-a)*(u*f-l*c))/p,((o*s-i*a)*(l-f)-(i-s)*(u*f-l*c))/p]}(c,f,p,d);if(null!==g&&(u=f[0]!==c[0]?(g[0]-c[0])/(f[0]-c[0]):(g[1]-c[1])/(f[1]-c[1]),l=d[0]!==p[0]?(g[0]-p[0])/(d[0]-p[0]):(g[1]-p[1])/(d[1]-p[1]),!(u>=1)&&!(u<=0)&&!(l>=1)&&!(l<=0))){var v=!i[g];v&&(i[g]=!0),e?o.push(e(g,t,r,c,f,u,a,s,p,d,l,v)):o.push(g)}}function y(t,e){var r,o,i,a,s=n[t][e],u=n[t][e+1];return s[0]<u[0]?(r=s[0],o=u[0]):(r=u[0],o=s[0]),s[1]<u[1]?(i=s[1],a=u[1]):(i=u[1],a=s[1]),{minX:r,minY:i,maxX:o,maxY:a,ring:t,edge:e}}}(t,function(t,e,r,n,o,i,a,s,u,l,c,f){return[t,e,r,n,o,i,a,s,u,l,c,f]}),u=s.length;if(0==u){for(var y=[],n=0;n<e;n++)y.push(o.polygon([t.geometry.coordinates[n]],{parent:-1,winding:function(t){for(var e,r,n,o,i=0,a=0;a<t.length-1;a++)t[a][0]<t[i][0]&&(i=a);if(g([t[((i-1)%(r=t.length-1)+r)%r],t[i],t[((i+1)%(o=t.length-1)+o)%o]],!0))var s=1;else var s=-1;return s}(t.geometry.coordinates[n])}));var m=o.featureCollection(y);return Q(),tt(),m}for(var b=[],x=[],n=0;n<e;n++){b.push([]);for(var E,P,M,w,S,_,O=0;O<t.geometry.coordinates[n].length-1;O++)b[n].push([new p(t.geometry.coordinates[n][((O+1)%(P=t.geometry.coordinates[n].length-1)+P)%P],1,[n,O],[n,((O+1)%(w=t.geometry.coordinates[n].length-1)+w)%w],void 0)]),x.push(new d(t.geometry.coordinates[n][O],[n,((O-1)%(_=t.geometry.coordinates[n].length-1)+_)%_],[n,O],void 0,void 0,!1,!0))}for(var n=0;n<u;n++)b[s[n][1]][s[n][2]].push(new p(s[n][0],s[n][5],[s[n][1],s[n][2]],[s[n][6],s[n][7]],void 0)),s[n][11]&&x.push(new d(s[n][0],[s[n][1],s[n][2]],[s[n][6],s[n][7]],void 0,void 0,!0,!0));for(var j=x.length,n=0;n<b.length;n++)for(var O=0;O<b[n].length;O++)b[n][O].sort(function(t,e){return t.param<e.param?-1:1});for(var A=[],n=0;n<j;n++)A.push({minX:x[n].coord[0],minY:x[n].coord[1],maxX:x[n].coord[0],maxY:x[n].coord[1],index:n});var C=l.default();C.load(A);for(var n=0;n<b.length;n++)for(var O=0;O<b[n].length;O++)for(var k=0;k<b[n][O].length;k++){R=k==b[n][O].length-1?b[n][((O+1)%(I=t.geometry.coordinates[n].length-1)+I)%I][0].coord:b[n][O][k+1].coord;var L,I,R,T=C.search({minX:R[0],minY:R[1],maxX:R[0],maxY:R[1]})[0];b[n][O][k].nxtIsectAlongEdgeIn=T.index}for(var n=0;n<b.length;n++)for(var O=0;O<b[n].length;O++)for(var k=0;k<b[n][O].length;k++){var R=b[n][O][k].coord,T=C.search({minX:R[0],minY:R[1],maxX:R[0],maxY:R[1]})[0],D=T.index;D<a?x[D].nxtIsectAlongRingAndEdge2=b[n][O][k].nxtIsectAlongEdgeIn:v(x[D].ringAndEdge1,b[n][O][k].ringAndEdgeIn)?x[D].nxtIsectAlongRingAndEdge1=b[n][O][k].nxtIsectAlongEdgeIn:x[D].nxtIsectAlongRingAndEdge2=b[n][O][k].nxtIsectAlongEdgeIn}for(var N=[],n=0,O=0;O<e;O++){for(var F=n,k=0;k<t.geometry.coordinates[O].length-1;k++)x[n].coord[0]<x[F].coord[0]&&(F=n),n++;for(var B=x[F].nxtIsectAlongRingAndEdge2,k=0;k<x.length;k++)if(x[k].nxtIsectAlongRingAndEdge1==F||x[k].nxtIsectAlongRingAndEdge2==F){var V=k;break}var q=g([x[V].coord,x[F].coord,x[B].coord],!0)?1:-1;N.push({isect:F,parent:-1,winding:q})}N.sort(function(t,e){return x[t.isect].coord>x[e.isect].coord?-1:1});for(var y=[];N.length>0;){var z=N.pop(),U=z.isect,G=z.parent,Y=z.winding,X=y.length,$=[x[U].coord],W=U;if(x[U].ringAndEdge1Walkable)var H=x[U].ringAndEdge1,J=x[U].nxtIsectAlongRingAndEdge1;else var H=x[U].ringAndEdge2,J=x[U].nxtIsectAlongRingAndEdge2;for(;!v(x[U].coord,x[J].coord);){$.push(x[J].coord);for(var Z=void 0,n=0;n<N.length;n++)if(N[n].isect==J){Z=n;break}if(void 0!=Z&&N.splice(Z,1),v(H,x[J].ringAndEdge1)){if(H=x[J].ringAndEdge2,x[J].ringAndEdge2Walkable=!1,x[J].ringAndEdge1Walkable){var K={isect:J};g([x[W].coord,x[J].coord,x[x[J].nxtIsectAlongRingAndEdge2].coord],1==Y)?(K.parent=G,K.winding=-Y):(K.parent=X,K.winding=Y),N.push(K)}W=J,J=x[J].nxtIsectAlongRingAndEdge2}else{if(H=x[J].ringAndEdge1,x[J].ringAndEdge1Walkable=!1,x[J].ringAndEdge2Walkable){var K={isect:J};g([x[W].coord,x[J].coord,x[x[J].nxtIsectAlongRingAndEdge1].coord],1==Y)?(K.parent=G,K.winding=-Y):(K.parent=X,K.winding=Y),N.push(K)}W=J,J=x[J].nxtIsectAlongRingAndEdge1}}$.push(x[J].coord),y.push(o.polygon([$],{index:X,parent:G,winding:Y,netWinding:void 0}))}var m=o.featureCollection(y);function Q(){for(var t=[],e=0;e<m.features.length;e++)-1==m.features[e].properties.parent&&t.push(e);if(t.length>1)for(var e=0;e<t.length;e++){for(var r=-1,n=1/0,o=0;o<m.features.length;o++)t[e]!=o&&f.default(m.features[t[e]].geometry.coordinates[0][0],m.features[o],{ignoreBoundary:!0})&&c.default(m.features[o])<n&&(r=o);m.features[t[e]].properties.parent=r}}function tt(){for(var t=0;t<m.features.length;t++)if(-1==m.features[t].properties.parent){var e=m.features[t].properties.winding;m.features[t].properties.netWinding=e,function t(e,r){for(var n=0;n<m.features.length;n++)if(m.features[n].properties.parent==e){var o=r+m.features[n].properties.winding;m.features[n].properties.netWinding=o,t(n,o)}}(t,e)}}return Q(),tt(),m}(t),function(r){e.push(o.polygon(r.geometry.coordinates,t.properties))})}),o.featureCollection(e)}t.exports=y,t.exports.default=y},2280:function(t,e,r){"use strict";var n=r(1719),o=r(2258),i=r(2940);function a(t){return(t=t.slice()).push(t[0]),n.polygon([t])}function s(t,e){if(e=e||{},!n.isObject(e))throw Error("options is invalid");var r=e.bbox||[-180,-85,180,85];if(!t)throw Error("points is required");if(!Array.isArray(r))throw Error("bbox is invalid");return o.collectionOf(t,"Point","points"),n.featureCollection(i.voronoi().x(function(t){return t.geometry.coordinates[0]}).y(function(t){return t.geometry.coordinates[1]}).extent([[r[0],r[1]],[r[2],r[3]]]).polygons(t.features).map(a))}t.exports=s,t.exports.default=s},2097:function(t,e,r){"use strict";var n=r(8045),o=r(8226),i=o(n("String.prototype.indexOf"));t.exports=function(t,e){var r=n(t,!!e);return"function"==typeof r&&i(t,".prototype.")>-1?o(r):r}},8226:function(t,e,r){"use strict";var n=r(7500),o=r(8045),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),s=o("%Reflect.apply%",!0)||n.call(a,i),u=o("%Object.getOwnPropertyDescriptor%",!0),l=o("%Object.defineProperty%",!0),c=o("%Math.max%");if(l)try{l({},"a",{value:1})}catch(t){l=null}t.exports=function(t){var e=s(n,a,arguments);return u&&l&&u(e,"length").configurable&&l(e,"length",{value:1+c(0,t.length-(arguments.length-1))}),e};var f=function(){return s(n,i,arguments)};l?l(t.exports,"apply",{value:f}):t.exports.apply=f},506:function(t,e,r){"use strict";var n=r(2491),o=r(1691),i=r(6522),a=r(5932).orient2d;function s(t,e,r){e=Math.max(0,void 0===e?2:e),r=r||0;var a=function(t){for(var e=t[0],r=t[0],n=t[0],o=t[0],a=0;a<t.length;a++){var s=t[a];s[0]<e[0]&&(e=s),s[0]>n[0]&&(n=s),s[1]<r[1]&&(r=s),s[1]>o[1]&&(o=s)}var u=[e,r,n,o],l=u.slice();for(a=0;a<t.length;a++)i(t[a],u)||l.push(t[a]);return function(t){t.sort(y);for(var e=[],r=0;r<t.length;r++){for(;e.length>=2&&0>=f(e[e.length-2],e[e.length-1],t[r]);)e.pop();e.push(t[r])}for(var n=[],o=t.length-1;o>=0;o--){for(;n.length>=2&&0>=f(n[n.length-2],n[n.length-1],t[o]);)n.pop();n.push(t[o])}return n.pop(),e.pop(),e.concat(n)}(l)}(t),s=new n(16);s.toBBox=function(t){return{minX:t[0],minY:t[1],maxX:t[0],maxY:t[1]}},s.compareMinX=function(t,e){return t[0]-e[0]},s.compareMinY=function(t,e){return t[1]-e[1]},s.load(t);for(var m,b=[],x=0;x<a.length;x++){var E=a[x];s.remove(E),m=p(E,m),b.push(m)}var P=new n(16);for(x=0;x<b.length;x++)P.insert(h(b[x]));for(var M=e*e,w=r*r;b.length;){var S=b.shift(),_=S.p,O=S.next.p,j=d(_,O);if(!(j<w)){var A=j/M;(E=function(t,e,r,n,i,a,s){for(var f=new o([],u),h=t.data;h;){for(var p=0;p<h.children.length;p++){var d=h.children[p],y=h.leaf?g(d,r,n):function(t,e,r){if(l(t,r)||l(e,r))return 0;var n=v(t[0],t[1],e[0],e[1],r.minX,r.minY,r.maxX,r.minY);if(0===n)return 0;var o=v(t[0],t[1],e[0],e[1],r.minX,r.minY,r.minX,r.maxY);if(0===o)return 0;var i=v(t[0],t[1],e[0],e[1],r.maxX,r.minY,r.maxX,r.maxY);if(0===i)return 0;var a=v(t[0],t[1],e[0],e[1],r.minX,r.maxY,r.maxX,r.maxY);return 0===a?0:Math.min(n,o,i,a)}(r,n,d);y>a||f.push({node:d,dist:y})}for(;f.length&&!f.peek().node.children;){var m=f.pop(),b=m.node,x=g(b,e,r),E=g(b,n,i);if(m.dist<x&&m.dist<E&&c(r,b,s)&&c(n,b,s))return b}(h=f.pop())&&(h=h.node)}return null}(s,S.prev.p,_,O,S.next.next.p,A,P))&&Math.min(d(E,_),d(E,O))<=A&&(b.push(S),b.push(p(E,S)),s.remove(E),P.remove(S),P.insert(h(S)),P.insert(h(S.next)))}}S=m;var C=[];do C.push(S.p),S=S.next;while(S!==m);return C.push(S.p),C}function u(t,e){return t.dist-e.dist}function l(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function c(t,e,r){for(var n,o,i=Math.min(t[0],e[0]),a=Math.min(t[1],e[1]),s=Math.max(t[0],e[0]),u=Math.max(t[1],e[1]),l=r.search({minX:i,minY:a,maxX:s,maxY:u}),c=0;c<l.length;c++)if(n=l[c].p,o=l[c].next.p,n!==e&&o!==t&&f(n,o,t)>0!=f(n,o,e)>0&&f(t,e,n)>0!=f(t,e,o)>0)return!1;return!0}function f(t,e,r){return a(t[0],t[1],e[0],e[1],r[0],r[1])}function h(t){var e=t.p,r=t.next.p;return t.minX=Math.min(e[0],r[0]),t.minY=Math.min(e[1],r[1]),t.maxX=Math.max(e[0],r[0]),t.maxY=Math.max(e[1],r[1]),t}function p(t,e){var r={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(r.next=e.next,r.prev=e,e.next.prev=r,e.next=r):(r.prev=r,r.next=r),r}function d(t,e){var r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n}function g(t,e,r){var n=e[0],o=e[1],i=r[0]-n,a=r[1]-o;if(0!==i||0!==a){var s=((t[0]-n)*i+(t[1]-o)*a)/(i*i+a*a);s>1?(n=r[0],o=r[1]):s>0&&(n+=i*s,o+=a*s)}return(i=t[0]-n)*i+(a=t[1]-o)*a}function v(t,e,r,n,o,i,a,s){var u,l,c,f,h=r-t,p=n-e,d=a-o,g=s-i,v=t-o,y=e-i,m=h*h+p*p,b=h*d+p*g,x=d*d+g*g,E=h*v+p*y,P=d*v+g*y,M=m*x-b*b,w=M,S=M;0===M?(l=0,w=1,f=P,S=x):(l=b*P-x*E,f=m*P-b*E,l<0?(l=0,f=P,S=x):l>w&&(l=w,f=P+b,S=x)),f<0?(f=0,0>-E?l=0:-E>m?l=w:(l=-E,w=m)):f>S&&(f=S,-E+b<0?l=0:-E+b>m?l=w:(l=-E+b,w=m)),u=0===l?0:l/w;var _=(1-(c=0===f?0:f/S))*o+c*a-((1-u)*t+u*r),O=(1-c)*i+c*s-((1-u)*e+u*n);return _*_+O*O}function y(t,e){return t[0]===e[0]?t[1]-e[1]:t[0]-e[0]}o.default&&(o=o.default),t.exports=s,t.exports.default=s},6510:function(t,e,r){"use strict";function n(){return new o}function o(){this.reset()}r.r(e),r.d(e,{geoAlbers:function(){return rY},geoAlbersUsa:function(){return rX},geoArea:function(){return X},geoAzimuthalEqualArea:function(){return rJ},geoAzimuthalEqualAreaRaw:function(){return rH},geoAzimuthalEquidistant:function(){return rK},geoAzimuthalEquidistantRaw:function(){return rZ},geoBounds:function(){return tP},geoCentroid:function(){return tR},geoCircle:function(){return tY},geoClipExtent:function(){return t3},geoConicConformal:function(){return r6},geoConicConformalRaw:function(){return r3},geoConicEqualArea:function(){return rG},geoConicEqualAreaRaw:function(){return rU},geoConicEquidistant:function(){return r8},geoConicEquidistantRaw:function(){return r9},geoContains:function(){return eI},geoDistance:function(){return eS},geoEquirectangular:function(){return r4},geoEquirectangularRaw:function(){return r5},geoGnomonic:function(){return nt},geoGnomonicRaw:function(){return r7},geoGraticule:function(){return eD},geoGraticule10:function(){return eN},geoIdentity:function(){return nr},geoInterpolate:function(){return eF},geoLength:function(){return eP},geoMercator:function(){return r0},geoMercatorRaw:function(){return rQ},geoNaturalEarth1:function(){return no},geoNaturalEarth1Raw:function(){return nn},geoOrthographic:function(){return na},geoOrthographicRaw:function(){return ni},geoPath:function(){return rO},geoProjection:function(){return rV},geoProjectionMutator:function(){return rq},geoRotation:function(){return tz},geoStereographic:function(){return nu},geoStereographicRaw:function(){return ns},geoStream:function(){return I},geoTransform:function(){return rL},geoTransverseMercator:function(){return nc},geoTransverseMercatorRaw:function(){return nl}}),o.prototype={constructor:o,reset:function(){this.s=this.t=0},add:function(t){a(i,t,this.t),a(this,i.s,this.s),this.s?this.t+=i.t:this.s=i.t},valueOf:function(){return this.s}};var i=new o;function a(t,e,r){var n=t.s=e+r,o=n-e;t.t=e-(n-o)+(r-o)}var s=Math.PI,u=s/2,l=s/4,c=2*s,f=180/s,h=s/180,p=Math.abs,d=Math.atan,g=Math.atan2,v=Math.cos,y=Math.ceil,m=Math.exp,b=Math.log,x=Math.pow,E=Math.sin,P=Math.sign||function(t){return t>0?1:t<0?-1:0},M=Math.sqrt,w=Math.tan;function S(t){return t>1?0:t<-1?s:Math.acos(t)}function _(t){return t>1?u:t<-1?-u:Math.asin(t)}function O(){}function j(t,e){t&&C.hasOwnProperty(t.type)&&C[t.type](t,e)}var A={Feature:function(t,e){j(t.geometry,e)},FeatureCollection:function(t,e){for(var r=t.features,n=-1,o=r.length;++n<o;)j(r[n].geometry,e)}},C={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var r=t.coordinates,n=-1,o=r.length;++n<o;)t=r[n],e.point(t[0],t[1],t[2])},LineString:function(t,e){k(t.coordinates,e,0)},MultiLineString:function(t,e){for(var r=t.coordinates,n=-1,o=r.length;++n<o;)k(r[n],e,0)},Polygon:function(t,e){L(t.coordinates,e)},MultiPolygon:function(t,e){for(var r=t.coordinates,n=-1,o=r.length;++n<o;)L(r[n],e)},GeometryCollection:function(t,e){for(var r=t.geometries,n=-1,o=r.length;++n<o;)j(r[n],e)}};function k(t,e,r){var n,o=-1,i=t.length-r;for(e.lineStart();++o<i;)n=t[o],e.point(n[0],n[1],n[2]);e.lineEnd()}function L(t,e){var r=-1,n=t.length;for(e.polygonStart();++r<n;)k(t[r],e,1);e.polygonEnd()}function I(t,e){t&&A.hasOwnProperty(t.type)?A[t.type](t,e):j(t,e)}var R,T,D,N,F,B=n(),V=n(),q={point:O,lineStart:O,lineEnd:O,polygonStart:function(){B.reset(),q.lineStart=z,q.lineEnd=U},polygonEnd:function(){var t=+B;V.add(t<0?c+t:t),this.lineStart=this.lineEnd=this.point=O},sphere:function(){V.add(c)}};function z(){q.point=G}function U(){Y(R,T)}function G(t,e){q.point=Y,R=t,T=e,t*=h,e*=h,D=t,N=v(e=e/2+l),F=E(e)}function Y(t,e){t*=h,e*=h;var r=t-D,n=r>=0?1:-1,o=n*r,i=v(e=e/2+l),a=E(e),s=F*a,u=N*i+s*v(o),c=s*n*E(o);B.add(g(c,u)),D=t,N=i,F=a}function X(t){return V.reset(),I(t,q),2*V}function $(t){return[g(t[1],t[0]),_(t[2])]}function W(t){var e=t[0],r=t[1],n=v(r);return[n*v(e),n*E(e),E(r)]}function H(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function J(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Z(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function K(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Q(t){var e=M(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var tt,te,tr,tn,to,ti,ta,ts,tu,tl,tc=n(),tf={point:th,lineStart:td,lineEnd:tg,polygonStart:function(){tf.point=tv,tf.lineStart=ty,tf.lineEnd=tm,tc.reset(),q.polygonStart()},polygonEnd:function(){q.polygonEnd(),tf.point=th,tf.lineStart=td,tf.lineEnd=tg,B<0?(tt=-(tr=180),te=-(tn=90)):tc>1e-6?tn=90:tc<-.000001&&(te=-90),tl[0]=tt,tl[1]=tr}};function th(t,e){tu.push(tl=[tt=t,tr=t]),e<te&&(te=e),e>tn&&(tn=e)}function tp(t,e){var r=W([t*h,e*h]);if(ts){var n=J(ts,r),o=J([n[1],-n[0],0],n);Q(o);var i,a=t-to,s=a>0?1:-1,u=(o=$(o))[0]*f*s,l=p(a)>180;l^(s*to<u&&u<s*t)?(i=o[1]*f)>tn&&(tn=i):l^(s*to<(u=(u+360)%360-180)&&u<s*t)?(i=-o[1]*f)<te&&(te=i):(e<te&&(te=e),e>tn&&(tn=e)),l?t<to?tb(tt,t)>tb(tt,tr)&&(tr=t):tb(t,tr)>tb(tt,tr)&&(tt=t):tr>=tt?(t<tt&&(tt=t),t>tr&&(tr=t)):t>to?tb(tt,t)>tb(tt,tr)&&(tr=t):tb(t,tr)>tb(tt,tr)&&(tt=t)}else tu.push(tl=[tt=t,tr=t]);e<te&&(te=e),e>tn&&(tn=e),ts=r,to=t}function td(){tf.point=tp}function tg(){tl[0]=tt,tl[1]=tr,tf.point=th,ts=null}function tv(t,e){if(ts){var r=t-to;tc.add(p(r)>180?r+(r>0?360:-360):r)}else ti=t,ta=e;q.point(t,e),tp(t,e)}function ty(){q.lineStart()}function tm(){tv(ti,ta),q.lineEnd(),p(tc)>1e-6&&(tt=-(tr=180)),tl[0]=tt,tl[1]=tr,ts=null}function tb(t,e){return(e-=t)<0?e+360:e}function tx(t,e){return t[0]-e[0]}function tE(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function tP(t){var e,r,n,o,i,a,s;if(tn=tr=-(tt=te=1/0),tu=[],I(t,tf),r=tu.length){for(tu.sort(tx),e=1,i=[n=tu[0]];e<r;++e)tE(n,(o=tu[e])[0])||tE(n,o[1])?(tb(n[0],o[1])>tb(n[0],n[1])&&(n[1]=o[1]),tb(o[0],n[1])>tb(n[0],n[1])&&(n[0]=o[0])):i.push(n=o);for(a=-1/0,r=i.length-1,e=0,n=i[r];e<=r;n=o,++e)o=i[e],(s=tb(n[1],o[0]))>a&&(a=s,tt=o[0],tr=n[1])}return tu=tl=null,tt===1/0||te===1/0?[[NaN,NaN],[NaN,NaN]]:[[tt,te],[tr,tn]]}var tM={sphere:O,point:tw,lineStart:t_,lineEnd:tA,polygonStart:function(){tM.lineStart=tC,tM.lineEnd=tk},polygonEnd:function(){tM.lineStart=t_,tM.lineEnd=tA}};function tw(t,e){t*=h;var r=v(e*=h);tS(r*v(t),r*E(t),E(e))}function tS(t,e,r){++t8,et+=(t-et)/t8,ee+=(e-ee)/t8,er+=(r-er)/t8}function t_(){tM.point=tO}function tO(t,e){t*=h;var r=v(e*=h);ef=r*v(t),eh=r*E(t),ep=E(e),tM.point=tj,tS(ef,eh,ep)}function tj(t,e){t*=h;var r=v(e*=h),n=r*v(t),o=r*E(t),i=E(e),a=g(M((a=eh*i-ep*o)*a+(a=ep*n-ef*i)*a+(a=ef*o-eh*n)*a),ef*n+eh*o+ep*i);t7+=a,en+=a*(ef+(ef=n)),eo+=a*(eh+(eh=o)),ei+=a*(ep+(ep=i)),tS(ef,eh,ep)}function tA(){tM.point=tw}function tC(){tM.point=tL}function tk(){tI(el,ec),tM.point=tw}function tL(t,e){el=t,ec=e,t*=h,e*=h,tM.point=tI;var r=v(e);tS(ef=r*v(t),eh=r*E(t),ep=E(e))}function tI(t,e){t*=h;var r=v(e*=h),n=r*v(t),o=r*E(t),i=E(e),a=eh*i-ep*o,s=ep*n-ef*i,u=ef*o-eh*n,l=M(a*a+s*s+u*u),c=_(l),f=l&&-c/l;ea+=f*a,es+=f*s,eu+=f*u,t7+=c,en+=c*(ef+(ef=n)),eo+=c*(eh+(eh=o)),ei+=c*(ep+(ep=i)),tS(ef,eh,ep)}function tR(t){t8=t7=et=ee=er=en=eo=ei=ea=es=eu=0,I(t,tM);var e=ea,r=es,n=eu,o=e*e+r*r+n*n;return o<1e-12&&(e=en,r=eo,n=ei,t7<1e-6&&(e=et,r=ee,n=er),(o=e*e+r*r+n*n)<1e-12)?[NaN,NaN]:[g(r,e)*f,_(n/M(o))*f]}function tT(t){return function(){return t}}function tD(t,e){function r(r,n){return e((r=t(r,n))[0],r[1])}return t.invert&&e.invert&&(r.invert=function(r,n){return(r=e.invert(r,n))&&t.invert(r[0],r[1])}),r}function tN(t,e){return[t>s?t-c:t<-s?t+c:t,e]}function tF(t,e,r){return(t%=c)?e||r?tD(tV(t),tq(e,r)):tV(t):e||r?tq(e,r):tN}function tB(t){return function(e,r){return[(e+=t)>s?e-c:e<-s?e+c:e,r]}}function tV(t){var e=tB(t);return e.invert=tB(-t),e}function tq(t,e){var r=v(t),n=E(t),o=v(e),i=E(e);function a(t,e){var a=v(e),s=v(t)*a,u=E(t)*a,l=E(e),c=l*r+s*n;return[g(u*o-c*i,s*r-l*n),_(c*o+u*i)]}return a.invert=function(t,e){var a=v(e),s=v(t)*a,u=E(t)*a,l=E(e),c=l*o-u*i;return[g(u*o+l*i,s*r+c*n),_(c*r-s*n)]},a}function tz(t){function e(e){return e=t(e[0]*h,e[1]*h),e[0]*=f,e[1]*=f,e}return t=tF(t[0]*h,t[1]*h,t.length>2?t[2]*h:0),e.invert=function(e){return e=t.invert(e[0]*h,e[1]*h),e[0]*=f,e[1]*=f,e},e}function tU(t,e,r,n,o,i){if(r){var a=v(e),s=E(e),u=n*r;null==o?(o=e+n*c,i=e-u/2):(o=tG(a,o),i=tG(a,i),(n>0?o<i:o>i)&&(o+=n*c));for(var l,f=o;n>0?f>i:f<i;f-=u)l=$([a,-s*v(f),-s*E(f)]),t.point(l[0],l[1])}}function tG(t,e){e=W(e),e[0]-=t,Q(e);var r=S(-e[1]);return((0>-e[2]?-r:r)+c-1e-6)%c}function tY(){var t,e,r=tT([0,0]),n=tT(90),o=tT(6),i={point:function(r,n){t.push(r=e(r,n)),r[0]*=f,r[1]*=f}};function a(){var a=r.apply(this,arguments),s=n.apply(this,arguments)*h,u=o.apply(this,arguments)*h;return t=[],e=tF(-a[0]*h,-a[1]*h,0).invert,tU(i,s,u,1),a={type:"Polygon",coordinates:[t]},t=e=null,a}return a.center=function(t){return arguments.length?(r="function"==typeof t?t:tT([+t[0],+t[1]]),a):r},a.radius=function(t){return arguments.length?(n="function"==typeof t?t:tT(+t),a):n},a.precision=function(t){return arguments.length?(o="function"==typeof t?t:tT(+t),a):o},a}function tX(){var t,e=[];return{point:function(e,r){t.push([e,r])},lineStart:function(){e.push(t=[])},lineEnd:O,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var r=e;return e=[],t=null,r}}}function t$(t,e){return 1e-6>p(t[0]-e[0])&&1e-6>p(t[1]-e[1])}function tW(t,e,r,n){this.x=t,this.z=e,this.o=r,this.e=n,this.v=!1,this.n=this.p=null}function tH(t,e,r,n,o){var i,a,s=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,r,n=t[0],a=t[e];if(t$(n,a)){for(o.lineStart(),i=0;i<e;++i)o.point((n=t[i])[0],n[1]);o.lineEnd();return}s.push(r=new tW(n,t,null,!0)),u.push(r.o=new tW(n,null,r,!1)),s.push(r=new tW(a,t,null,!1)),u.push(r.o=new tW(a,null,r,!0))}}),s.length){for(u.sort(e),tJ(s),tJ(u),i=0,a=u.length;i<a;++i)u[i].e=r=!r;for(var l,c,f=s[0];;){for(var h=f,p=!0;h.v;)if((h=h.n)===f)return;l=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(i=0,a=l.length;i<a;++i)o.point((c=l[i])[0],c[1]);else n(h.x,h.n.x,1,o);h=h.n}else{if(p)for(i=(l=h.p.z).length-1;i>=0;--i)o.point((c=l[i])[0],c[1]);else n(h.x,h.p.x,-1,o);h=h.p}l=(h=h.o).z,p=!p}while(!h.v);o.lineEnd()}}}function tJ(t){if(e=t.length){for(var e,r,n=0,o=t[0];++n<e;)o.n=r=t[n],r.p=o,o=r;o.n=r=t[0],r.p=o}}function tZ(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}tN.invert=tN;var tK=(1===(t9=tZ).length&&(t4=t9,t9=function(t,e){return tZ(t4(t),e)}),{left:function(t,e,r,n){for(null==r&&(r=0),null==n&&(n=t.length);r<n;){var o=r+n>>>1;0>t9(t[o],e)?r=o+1:n=o}return r},right:function(t,e,r,n){for(null==r&&(r=0),null==n&&(n=t.length);r<n;){var o=r+n>>>1;t9(t[o],e)>0?n=o:r=o+1}return r}});tK.right,tK.left;var tQ=Array.prototype;function t0(t){for(var e,r,n,o=t.length,i=-1,a=0;++i<o;)a+=t[i].length;for(r=Array(a);--o>=0;)for(e=(n=t[o]).length;--e>=0;)r[--a]=n[e];return r}function t1(t,e,r){t=+t,e=+e,r=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+r;for(var n=-1,o=0|Math.max(0,Math.ceil((e-t)/r)),i=Array(o);++n<o;)i[n]=t+n*r;return i}function t2(t,e,r,n){function o(o,i){return t<=o&&o<=r&&e<=i&&i<=n}function i(o,i,s,l){var c=0,f=0;if(null==o||(c=a(o,s))!==(f=a(i,s))||0>u(o,i)^s>0)do l.point(0===c||3===c?t:r,c>1?n:e);while((c=(c+s+4)%4)!==f);else l.point(i[0],i[1])}function a(n,o){return 1e-6>p(n[0]-t)?o>0?0:3:1e-6>p(n[0]-r)?o>0?2:1:1e-6>p(n[1]-e)?o>0?1:0:o>0?3:2}function s(t,e){return u(t.x,e.x)}function u(t,e){var r=a(t,1),n=a(e,1);return r!==n?r-n:0===r?e[1]-t[1]:1===r?t[0]-e[0]:2===r?t[1]-e[1]:e[0]-t[0]}return function(a){var u,l,c,f,h,p,d,g,v,y,m,b=a,x=tX(),E={point:P,lineStart:function(){E.point=M,l&&l.push(c=[]),y=!0,v=!1,d=g=NaN},lineEnd:function(){u&&(M(f,h),p&&v&&x.rejoin(),u.push(x.result())),E.point=P,v&&b.lineEnd()},polygonStart:function(){b=x,u=[],l=[],m=!0},polygonEnd:function(){var e=function(){for(var e=0,r=0,o=l.length;r<o;++r)for(var i,a,s=l[r],u=1,c=s.length,f=s[0],h=f[0],p=f[1];u<c;++u)i=h,a=p,h=(f=s[u])[0],p=f[1],a<=n?p>n&&(h-i)*(n-a)>(p-a)*(t-i)&&++e:p<=n&&(h-i)*(n-a)<(p-a)*(t-i)&&--e;return e}(),r=m&&e,o=(u=t0(u)).length;(r||o)&&(a.polygonStart(),r&&(a.lineStart(),i(null,null,1,a),a.lineEnd()),o&&tH(u,s,e,i,a),a.polygonEnd()),b=a,u=l=c=null}};function P(t,e){o(t,e)&&b.point(t,e)}function M(i,a){var s=o(i,a);if(l&&c.push([i,a]),y)f=i,h=a,p=s,y=!1,s&&(b.lineStart(),b.point(i,a));else if(s&&v)b.point(i,a);else{var u=[d=Math.max(-1e9,Math.min(1e9,d)),g=Math.max(-1e9,Math.min(1e9,g))],x=[i=Math.max(-1e9,Math.min(1e9,i)),a=Math.max(-1e9,Math.min(1e9,a))];!function(t,e,r,n,o,i){var a,s=t[0],u=t[1],l=e[0],c=e[1],f=0,h=1,p=l-s,d=c-u;if(a=r-s,p||!(a>0)){if(a/=p,p<0){if(a<f)return;a<h&&(h=a)}else if(p>0){if(a>h)return;a>f&&(f=a)}if(a=o-s,p||!(a<0)){if(a/=p,p<0){if(a>h)return;a>f&&(f=a)}else if(p>0){if(a<f)return;a<h&&(h=a)}if(a=n-u,d||!(a>0)){if(a/=d,d<0){if(a<f)return;a<h&&(h=a)}else if(d>0){if(a>h)return;a>f&&(f=a)}if(a=i-u,d||!(a<0)){if(a/=d,d<0){if(a>h)return;a>f&&(f=a)}else if(d>0){if(a<f)return;a<h&&(h=a)}return f>0&&(t[0]=s+f*p,t[1]=u+f*d),h<1&&(e[0]=s+h*p,e[1]=u+h*d),!0}}}}}(u,x,t,e,r,n)?s&&(b.lineStart(),b.point(i,a),m=!1):(v||(b.lineStart(),b.point(u[0],u[1])),b.point(x[0],x[1]),s||b.lineEnd(),m=!1)}d=i,g=a,v=s}return E}}function t3(){var t,e,r,n=0,o=0,i=960,a=500;return r={stream:function(r){return t&&e===r?t:t=t2(n,o,i,a)(e=r)},extent:function(s){return arguments.length?(n=+s[0][0],o=+s[0][1],i=+s[1][0],a=+s[1][1],t=e=null,r):[[n,o],[i,a]]}}}tQ.slice,tQ.map;var t6=n();function t5(t,e){var r=e[0],n=e[1],o=[E(r),-v(r),0],i=0,a=0;t6.reset();for(var u=0,f=t.length;u<f;++u)if(p=(h=t[u]).length)for(var h,p,d=h[p-1],y=d[0],m=d[1]/2+l,b=E(m),x=v(m),P=0;P<p;++P,y=w,b=O,x=j,d=M){var M=h[P],w=M[0],S=M[1]/2+l,O=E(S),j=v(S),A=w-y,C=A>=0?1:-1,k=C*A,L=k>s,I=b*O;if(t6.add(g(I*C*E(k),x*j+I*v(k))),i+=L?A+C*c:A,L^y>=r^w>=r){var R=J(W(d),W(M));Q(R);var T=J(o,R);Q(T);var D=(L^A>=0?-1:1)*_(T[2]);(n>D||n===D&&(R[0]||R[1]))&&(a+=L^A>=0?1:-1)}}return(i<-.000001||i<1e-6&&t6<-.000001)^1&a}var t4,t9,t8,t7,et,ee,er,en,eo,ei,ea,es,eu,el,ec,ef,eh,ep,ed,eg,ev,ey=n(),em={sphere:O,point:O,lineStart:function(){em.point=ex,em.lineEnd=eb},lineEnd:O,polygonStart:O,polygonEnd:O};function eb(){em.point=em.lineEnd=O}function ex(t,e){t*=h,e*=h,ed=t,eg=E(e),ev=v(e),em.point=eE}function eE(t,e){t*=h;var r=E(e*=h),n=v(e),o=p(t-ed),i=v(o),a=n*E(o),s=ev*r-eg*n*i,u=eg*r+ev*n*i;ey.add(g(M(a*a+s*s),u)),ed=t,eg=r,ev=n}function eP(t){return ey.reset(),I(t,em),+ey}var eM=[null,null],ew={type:"LineString",coordinates:eM};function eS(t,e){return eM[0]=t,eM[1]=e,eP(ew)}var e_={Feature:function(t,e){return ej(t.geometry,e)},FeatureCollection:function(t,e){for(var r=t.features,n=-1,o=r.length;++n<o;)if(ej(r[n].geometry,e))return!0;return!1}},eO={Sphere:function(){return!0},Point:function(t,e){return 0===eS(t.coordinates,e)},MultiPoint:function(t,e){for(var r=t.coordinates,n=-1,o=r.length;++n<o;)if(0===eS(r[n],e))return!0;return!1},LineString:function(t,e){return eA(t.coordinates,e)},MultiLineString:function(t,e){for(var r=t.coordinates,n=-1,o=r.length;++n<o;)if(eA(r[n],e))return!0;return!1},Polygon:function(t,e){return eC(t.coordinates,e)},MultiPolygon:function(t,e){for(var r=t.coordinates,n=-1,o=r.length;++n<o;)if(eC(r[n],e))return!0;return!1},GeometryCollection:function(t,e){for(var r=t.geometries,n=-1,o=r.length;++n<o;)if(ej(r[n],e))return!0;return!1}};function ej(t,e){return!!(t&&eO.hasOwnProperty(t.type))&&eO[t.type](t,e)}function eA(t,e){var r=eS(t[0],t[1]);return eS(t[0],e)+eS(e,t[1])<=r+1e-6}function eC(t,e){return!!t5(t.map(ek),eL(e))}function ek(t){return(t=t.map(eL)).pop(),t}function eL(t){return[t[0]*h,t[1]*h]}function eI(t,e){return(t&&e_.hasOwnProperty(t.type)?e_[t.type]:ej)(t,e)}function eR(t,e,r){var n=t1(t,e-1e-6,r).concat(e);return function(t){return n.map(function(e){return[t,e]})}}function eT(t,e,r){var n=t1(t,e-1e-6,r).concat(e);return function(t){return n.map(function(e){return[e,t]})}}function eD(){var t,e,r,n,o,i,a,s,u,l,c,f,h=10,d=10,g=90,v=360,m=2.5;function b(){return{type:"MultiLineString",coordinates:x()}}function x(){return t1(y(n/g)*g,r,g).map(c).concat(t1(y(s/v)*v,a,v).map(f)).concat(t1(y(e/h)*h,t,h).filter(function(t){return p(t%g)>1e-6}).map(u)).concat(t1(y(i/d)*d,o,d).filter(function(t){return p(t%v)>1e-6}).map(l))}return b.lines=function(){return x().map(function(t){return{type:"LineString",coordinates:t}})},b.outline=function(){return{type:"Polygon",coordinates:[c(n).concat(f(a).slice(1),c(r).reverse().slice(1),f(s).reverse().slice(1))]}},b.extent=function(t){return arguments.length?b.extentMajor(t).extentMinor(t):b.extentMinor()},b.extentMajor=function(t){return arguments.length?(n=+t[0][0],r=+t[1][0],s=+t[0][1],a=+t[1][1],n>r&&(t=n,n=r,r=t),s>a&&(t=s,s=a,a=t),b.precision(m)):[[n,s],[r,a]]},b.extentMinor=function(r){return arguments.length?(e=+r[0][0],t=+r[1][0],i=+r[0][1],o=+r[1][1],e>t&&(r=e,e=t,t=r),i>o&&(r=i,i=o,o=r),b.precision(m)):[[e,i],[t,o]]},b.step=function(t){return arguments.length?b.stepMajor(t).stepMinor(t):b.stepMinor()},b.stepMajor=function(t){return arguments.length?(g=+t[0],v=+t[1],b):[g,v]},b.stepMinor=function(t){return arguments.length?(h=+t[0],d=+t[1],b):[h,d]},b.precision=function(h){return arguments.length?(m=+h,u=eR(i,o,90),l=eT(e,t,m),c=eR(s,a,90),f=eT(n,r,m),b):m},b.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function eN(){return eD()()}function eF(t,e){var r,n,o=t[0]*h,i=t[1]*h,a=e[0]*h,s=e[1]*h,u=v(i),l=E(i),c=v(s),p=E(s),d=u*v(o),y=u*E(o),m=c*v(a),b=c*E(a),x=2*_(M((r=E((r=s-i)/2))*r+u*c*((n=E((n=a-o)/2))*n))),P=E(x),w=x?function(t){var e=E(t*=x)/P,r=E(x-t)/P,n=r*d+e*m,o=r*y+e*b;return[g(o,n)*f,g(r*l+e*p,M(n*n+o*o))*f]}:function(){return[o*f,i*f]};return w.distance=x,w}function eB(t){return t}var eV,eq,ez,eU,eG=n(),eY=n(),eX={point:O,lineStart:O,lineEnd:O,polygonStart:function(){eX.lineStart=e$,eX.lineEnd=eJ},polygonEnd:function(){eX.lineStart=eX.lineEnd=eX.point=O,eG.add(p(eY)),eY.reset()},result:function(){return eG.reset(),eG/2}};function e$(){eX.point=eW}function eW(t,e){eX.point=eH,eV=ez=t,eq=eU=e}function eH(t,e){eY.add(eU*t-ez*e),ez=t,eU=e}function eJ(){eH(eV,eq)}var eZ,eK,eQ,e0,e1=1/0,e2=1/0,e3=-1/0,e6=e3,e5={point:function(t,e){t<e1&&(e1=t),t>e3&&(e3=t),e<e2&&(e2=e),e>e6&&(e6=e)},lineStart:O,lineEnd:O,polygonStart:O,polygonEnd:O,result:function(){var t=[[e1,e2],[e3,e6]];return e3=e6=-(e2=e1=1/0),t}},e4=0,e9=0,e8=0,e7=0,rt=0,re=0,rr=0,rn=0,ro=0,ri={point:ra,lineStart:rs,lineEnd:rc,polygonStart:function(){ri.lineStart=rf,ri.lineEnd=rh},polygonEnd:function(){ri.point=ra,ri.lineStart=rs,ri.lineEnd=rc},result:function(){var t=ro?[rr/ro,rn/ro]:re?[e7/re,rt/re]:e8?[e4/e8,e9/e8]:[NaN,NaN];return e4=e9=e8=e7=rt=re=rr=rn=ro=0,t}};function ra(t,e){e4+=t,e9+=e,++e8}function rs(){ri.point=ru}function ru(t,e){ri.point=rl,ra(eQ=t,e0=e)}function rl(t,e){var r=t-eQ,n=e-e0,o=M(r*r+n*n);e7+=o*(eQ+t)/2,rt+=o*(e0+e)/2,re+=o,ra(eQ=t,e0=e)}function rc(){ri.point=ra}function rf(){ri.point=rp}function rh(){rd(eZ,eK)}function rp(t,e){ri.point=rd,ra(eZ=eQ=t,eK=e0=e)}function rd(t,e){var r=t-eQ,n=e-e0,o=M(r*r+n*n);e7+=o*(eQ+t)/2,rt+=o*(e0+e)/2,re+=o,rr+=(o=e0*t-eQ*e)*(eQ+t),rn+=o*(e0+e),ro+=3*o,ra(eQ=t,e0=e)}function rg(t){this._context=t}rg.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,c)}},result:O};var rv,ry,rm,rb,rx,rE=n(),rP={point:O,lineStart:function(){rP.point=rM},lineEnd:function(){rv&&rw(ry,rm),rP.point=O},polygonStart:function(){rv=!0},polygonEnd:function(){rv=null},result:function(){return rE.reset(),+rE}};function rM(t,e){rP.point=rw,ry=rb=t,rm=rx=e}function rw(t,e){rb-=t,rx-=e,rE.add(M(rb*rb+rx*rx)),rb=t,rx=e}function rS(){this._string=[]}function r_(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function rO(t,e){var r,n,o=4.5;function i(t){return t&&("function"==typeof o&&n.pointRadius(+o.apply(this,arguments)),I(t,r(n))),n.result()}return i.area=function(t){return I(t,r(eX)),eX.result()},i.measure=function(t){return I(t,r(rP)),rP.result()},i.bounds=function(t){return I(t,r(e5)),e5.result()},i.centroid=function(t){return I(t,r(ri)),ri.result()},i.projection=function(e){return arguments.length?(r=null==e?(t=null,eB):(t=e).stream,i):t},i.context=function(t){return arguments.length?(n=null==t?(e=null,new rS):new rg(e=t),"function"!=typeof o&&n.pointRadius(o),i):e},i.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(n.pointRadius(+t),+t),i):o},i.projection(t).context(e)}function rj(t,e,r,n){return function(o,i){var a,s,u,l=e(i),c=o.invert(n[0],n[1]),f=tX(),h=e(f),p=!1,d={point:g,lineStart:y,lineEnd:m,polygonStart:function(){d.point=b,d.lineStart=x,d.lineEnd=E,s=[],a=[]},polygonEnd:function(){d.point=g,d.lineStart=y,d.lineEnd=m,s=t0(s);var t=t5(a,c);s.length?(p||(i.polygonStart(),p=!0),tH(s,rC,t,r,i)):t&&(p||(i.polygonStart(),p=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),p&&(i.polygonEnd(),p=!1),s=a=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function g(e,r){var n=o(e,r);t(e=n[0],r=n[1])&&i.point(e,r)}function v(t,e){var r=o(t,e);l.point(r[0],r[1])}function y(){d.point=v,l.lineStart()}function m(){d.point=g,l.lineEnd()}function b(t,e){u.push([t,e]);var r=o(t,e);h.point(r[0],r[1])}function x(){h.lineStart(),u=[]}function E(){b(u[0][0],u[0][1]),h.lineEnd();var t,e,r,n,o=h.clean(),l=f.result(),c=l.length;if(u.pop(),a.push(u),u=null,c){if(1&o){if((e=(r=l[0]).length-1)>0){for(p||(i.polygonStart(),p=!0),i.lineStart(),t=0;t<e;++t)i.point((n=r[t])[0],n[1]);i.lineEnd()}return}c>1&&2&o&&l.push(l.pop().concat(l.shift())),s.push(l.filter(rA))}}return d}}function rA(t){return t.length>1}function rC(t,e){return((t=t.x)[0]<0?t[1]-u-1e-6:u-t[1])-((e=e.x)[0]<0?e[1]-u-1e-6:u-e[1])}rS.prototype={_radius:4.5,_circle:r_(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=r_(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(!this._string.length)return null;var t=this._string.join("");return this._string=[],t}};var rk=rj(function(){return!0},function(t){var e,r=NaN,n=NaN,o=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(i,a){var l,c,f,h,g,y,m=i>0?s:-s,b=p(i-r);1e-6>p(b-s)?(t.point(r,n=(n+a)/2>0?u:-u),t.point(o,n),t.lineEnd(),t.lineStart(),t.point(m,n),t.point(i,n),e=0):o!==m&&b>=s&&(1e-6>p(r-o)&&(r-=1e-6*o),1e-6>p(i-m)&&(i-=1e-6*m),l=r,c=n,n=p(y=E(l-(f=i)))>1e-6?d((E(c)*(g=v(a))*E(f)-E(a)*(h=v(c))*E(l))/(h*g*y)):(c+a)/2,t.point(o,n),t.lineEnd(),t.lineStart(),t.point(m,n),e=0),t.point(r=i,n=a),o=m},lineEnd:function(){t.lineEnd(),r=n=NaN},clean:function(){return 2-e}}},function(t,e,r,n){var o;if(null==t)o=r*u,n.point(-s,o),n.point(0,o),n.point(s,o),n.point(s,0),n.point(s,-o),n.point(0,-o),n.point(-s,-o),n.point(-s,0),n.point(-s,o);else if(p(t[0]-e[0])>1e-6){var i=t[0]<e[0]?s:-s;o=r*i/2,n.point(-i,o),n.point(0,o),n.point(i,o)}else n.point(e[0],e[1])},[-s,-u]);function rL(t){return{stream:rI(t)}}function rI(t){return function(e){var r=new rR;for(var n in t)r[n]=t[n];return r.stream=e,r}}function rR(){}function rT(t,e,r){var n=e[1][0]-e[0][0],o=e[1][1]-e[0][1],i=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=i&&t.clipExtent(null),I(r,t.stream(e5));var a=e5.result(),s=Math.min(n/(a[1][0]-a[0][0]),o/(a[1][1]-a[0][1])),u=+e[0][0]+(n-s*(a[1][0]+a[0][0]))/2,l=+e[0][1]+(o-s*(a[1][1]+a[0][1]))/2;return null!=i&&t.clipExtent(i),t.scale(150*s).translate([u,l])}function rD(t,e,r){return rT(t,[[0,0],e],r)}rR.prototype={constructor:rR,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var rN=v(30*h);function rF(t,e){return+e?function(t,e){function r(n,o,i,a,s,u,l,c,f,h,d,v,y,m){var b=l-n,x=c-o,E=b*b+x*x;if(E>4*e&&y--){var P=a+h,w=s+d,S=u+v,O=M(P*P+w*w+S*S),j=_(S/=O),A=1e-6>p(p(S)-1)||1e-6>p(i-f)?(i+f)/2:g(w,P),C=t(A,j),k=C[0],L=C[1],I=k-n,R=L-o,T=x*I-b*R;(T*T/E>e||p((b*I+x*R)/E-.5)>.3||a*h+s*d+u*v<rN)&&(r(n,o,i,a,s,u,k,L,A,P/=O,w/=O,S,y,m),m.point(k,L),r(k,L,A,P,w,S,l,c,f,h,d,v,y,m))}}return function(e){var n,o,i,a,s,u,l,c,f,h,p,d,g={point:v,lineStart:y,lineEnd:b,polygonStart:function(){e.polygonStart(),g.lineStart=x},polygonEnd:function(){e.polygonEnd(),g.lineStart=y}};function v(r,n){r=t(r,n),e.point(r[0],r[1])}function y(){c=NaN,g.point=m,e.lineStart()}function m(n,o){var i=W([n,o]),a=t(n,o);r(c,f,l,h,p,d,c=a[0],f=a[1],l=n,h=i[0],p=i[1],d=i[2],16,e),e.point(c,f)}function b(){g.point=v,e.lineEnd()}function x(){y(),g.point=E,g.lineEnd=P}function E(t,e){m(n=t,e),o=c,i=f,a=h,s=p,u=d,g.point=m}function P(){r(c,f,l,h,p,d,o,i,n,a,s,u,16,e),g.lineEnd=b,b()}return g}}(t,e):rI({point:function(e,r){e=t(e,r),this.stream.point(e[0],e[1])}})}var rB=rI({point:function(t,e){this.stream.point(t*h,e*h)}});function rV(t){return rq(function(){return t})()}function rq(t){var e,r,n,o,i,a,u,l,c,d,g=150,y=480,m=250,b=0,x=0,E=0,P=0,w=0,S=null,_=rk,O=null,j=eB,A=.5,C=rF(I,.5);function k(t){return[(t=i(t[0]*h,t[1]*h))[0]*g+r,n-t[1]*g]}function L(t){return(t=i.invert((t[0]-r)/g,(n-t[1])/g))&&[t[0]*f,t[1]*f]}function I(t,o){return[(t=e(t,o))[0]*g+r,n-t[1]*g]}function R(){i=tD(o=tF(E,P,w),e);var t=e(b,x);return r=y-t[0]*g,n=m+t[1]*g,T()}function T(){return c=d=null,k}return k.stream=function(t){return c&&d===t?c:c=rB(_(o,C(j(d=t))))},k.clipAngle=function(t){return arguments.length?(_=+t?function(t,e){var r=v(t),n=r>0,o=p(r)>1e-6;function i(t,e){return v(t)*v(e)>r}function a(t,e,n){var o=W(t),i=W(e),a=[1,0,0],u=J(o,i),l=H(u,u),c=u[0],f=l-c*c;if(!f)return!n&&t;var h=r*l/f,d=-r*c/f,g=J(a,u),v=K(a,h);Z(v,K(u,d));var y=H(v,g),m=H(g,g),b=y*y-m*(H(v,v)-1);if(!(b<0)){var x=M(b),E=K(g,(-y-x)/m);if(Z(E,v),E=$(E),!n)return E;var P,w=t[0],S=e[0],_=t[1],O=e[1];S<w&&(P=w,w=S,S=P);var j=S-w,A=1e-6>p(j-s),C=A||j<1e-6;if(!A&&O<_&&(P=_,_=O,O=P),C?A?_+O>0^E[1]<(1e-6>p(E[0]-w)?_:O):_<=E[1]&&E[1]<=O:j>s^(w<=E[0]&&E[0]<=S)){var k=K(g,(-y+x)/m);return Z(k,v),[E,$(k)]}}}function u(e,r){var o=n?t:s-t,i=0;return e<-o?i|=1:e>o&&(i|=2),r<-o?i|=4:r>o&&(i|=8),i}return rj(i,function(t){var e,r,l,c,f;return{lineStart:function(){c=l=!1,f=1},point:function(h,p){var d,g,v=[h,p],y=i(h,p),m=n?y?0:u(h,p):y?u(h+(h<0?s:-s),p):0;!e&&(c=l=y)&&t.lineStart(),y!==l&&(!(g=a(e,v))||t$(e,g)||t$(v,g))&&(v[0]+=1e-6,v[1]+=1e-6,y=i(v[0],v[1])),y!==l?(f=0,y?(t.lineStart(),g=a(v,e),t.point(g[0],g[1])):(g=a(e,v),t.point(g[0],g[1]),t.lineEnd()),e=g):o&&e&&n^y&&!(m&r)&&(d=a(v,e,!0))&&(f=0,n?(t.lineStart(),t.point(d[0][0],d[0][1]),t.point(d[1][0],d[1][1]),t.lineEnd()):(t.point(d[1][0],d[1][1]),t.lineEnd(),t.lineStart(),t.point(d[0][0],d[0][1]))),!y||e&&t$(e,v)||t.point(v[0],v[1]),e=v,l=y,r=m},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return f|(c&&l)<<1}}},function(r,n,o,i){tU(i,t,e,o,r,n)},n?[0,-t]:[-s,t-s])}(S=t*h,6*h):(S=null,rk),T()):S*f},k.clipExtent=function(t){return arguments.length?(j=null==t?(O=a=u=l=null,eB):t2(O=+t[0][0],a=+t[0][1],u=+t[1][0],l=+t[1][1]),T()):null==O?null:[[O,a],[u,l]]},k.scale=function(t){return arguments.length?(g=+t,R()):g},k.translate=function(t){return arguments.length?(y=+t[0],m=+t[1],R()):[y,m]},k.center=function(t){return arguments.length?(b=t[0]%360*h,x=t[1]%360*h,R()):[b*f,x*f]},k.rotate=function(t){return arguments.length?(E=t[0]%360*h,P=t[1]%360*h,w=t.length>2?t[2]%360*h:0,R()):[E*f,P*f,w*f]},k.precision=function(t){return arguments.length?(C=rF(I,A=t*t),T()):M(A)},k.fitExtent=function(t,e){return rT(k,t,e)},k.fitSize=function(t,e){return rD(k,t,e)},function(){return e=t.apply(this,arguments),k.invert=e.invert&&L,R()}}function rz(t){var e=0,r=s/3,n=rq(t),o=n(e,r);return o.parallels=function(t){return arguments.length?n(e=t[0]*h,r=t[1]*h):[e*f,r*f]},o}function rU(t,e){var r=E(t),n=(r+E(e))/2;if(1e-6>p(n))return function(t){var e=v(t);function r(t,r){return[t*e,E(r)/e]}return r.invert=function(t,r){return[t/e,_(r*e)]},r}(t);var o=1+r*(2*n-r),i=M(o)/n;function a(t,e){var r=M(o-2*n*E(e))/n;return[r*E(t*=n),i-r*v(t)]}return a.invert=function(t,e){var r=i-e;return[g(t,p(r))/n*P(r),_((o-(t*t+r*r)*n*n)/(2*n))]},a}function rG(){return rz(rU).scale(155.424).center([0,33.6442])}function rY(){return rG().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function rX(){var t,e,r,n,o,i,a=rY(),s=rG().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=rG().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,e){i=[t,e]}};function c(t){var e=t[0],a=t[1];return i=null,r.point(e,a),i||(n.point(e,a),i)||(o.point(e,a),i)}function f(){return t=e=null,c}return c.invert=function(t){var e=a.scale(),r=a.translate(),n=(t[0]-r[0])/e,o=(t[1]-r[1])/e;return(o>=.12&&o<.234&&n>=-.425&&n<-.214?s:o>=.166&&o<.234&&n>=-.214&&n<-.115?u:a).invert(t)},c.stream=function(r){var n,o;return t&&e===r?t:(o=(n=[a.stream(e=r),s.stream(r),u.stream(r)]).length,t={point:function(t,e){for(var r=-1;++r<o;)n[r].point(t,e)},sphere:function(){for(var t=-1;++t<o;)n[t].sphere()},lineStart:function(){for(var t=-1;++t<o;)n[t].lineStart()},lineEnd:function(){for(var t=-1;++t<o;)n[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<o;)n[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<o;)n[t].polygonEnd()}})},c.precision=function(t){return arguments.length?(a.precision(t),s.precision(t),u.precision(t),f()):a.precision()},c.scale=function(t){return arguments.length?(a.scale(t),s.scale(.35*t),u.scale(t),c.translate(a.translate())):a.scale()},c.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),i=+t[0],c=+t[1];return r=a.translate(t).clipExtent([[i-.455*e,c-.238*e],[i+.455*e,c+.238*e]]).stream(l),n=s.translate([i-.307*e,c+.201*e]).clipExtent([[i-.425*e+1e-6,c+.12*e+1e-6],[i-.214*e-1e-6,c+.234*e-1e-6]]).stream(l),o=u.translate([i-.205*e,c+.212*e]).clipExtent([[i-.214*e+1e-6,c+.166*e+1e-6],[i-.115*e-1e-6,c+.234*e-1e-6]]).stream(l),f()},c.fitExtent=function(t,e){return rT(c,t,e)},c.fitSize=function(t,e){return rD(c,t,e)},c.scale(1070)}function r$(t){return function(e,r){var n=v(e),o=v(r),i=t(n*o);return[i*o*E(e),i*E(r)]}}function rW(t){return function(e,r){var n=M(e*e+r*r),o=t(n),i=E(o),a=v(o);return[g(e*i,n*a),_(n&&r*i/n)]}}var rH=r$(function(t){return M(2/(1+t))});function rJ(){return rV(rH).scale(124.75).clipAngle(179.999)}rH.invert=rW(function(t){return 2*_(t/2)});var rZ=r$(function(t){return(t=S(t))&&t/E(t)});function rK(){return rV(rZ).scale(79.4188).clipAngle(179.999)}function rQ(t,e){return[t,b(w((u+e)/2))]}function r0(){return r1(rQ).scale(961/c)}function r1(t){var e,r,n,o=rV(t),i=o.center,a=o.scale,u=o.translate,l=o.clipExtent,c=null;function f(){var i=s*a(),u=o(tz(o.rotate()).invert([0,0]));return l(null==c?[[u[0]-i,u[1]-i],[u[0]+i,u[1]+i]]:t===rQ?[[Math.max(u[0]-i,c),e],[Math.min(u[0]+i,r),n]]:[[c,Math.max(u[1]-i,e)],[r,Math.min(u[1]+i,n)]])}return o.scale=function(t){return arguments.length?(a(t),f()):a()},o.translate=function(t){return arguments.length?(u(t),f()):u()},o.center=function(t){return arguments.length?(i(t),f()):i()},o.clipExtent=function(t){return arguments.length?(null==t?c=e=r=n=null:(c=+t[0][0],e=+t[0][1],r=+t[1][0],n=+t[1][1]),f()):null==c?null:[[c,e],[r,n]]},f()}function r2(t){return w((u+t)/2)}function r3(t,e){var r=v(t),n=t===e?E(t):b(r/v(e))/b(r2(e)/r2(t)),o=r*x(r2(t),n)/n;if(!n)return rQ;function i(t,e){o>0?e<-u+1e-6&&(e=-u+1e-6):e>u-1e-6&&(e=u-1e-6);var r=o/x(r2(e),n);return[r*E(n*t),o-r*v(n*t)]}return i.invert=function(t,e){var r=o-e,i=P(n)*M(t*t+r*r);return[g(t,p(r))/n*P(r),2*d(x(o/i,1/n))-u]},i}function r6(){return rz(r3).scale(109.5).parallels([30,30])}function r5(t,e){return[t,e]}function r4(){return rV(r5).scale(152.63)}function r9(t,e){var r=v(t),n=t===e?E(t):(r-v(e))/(e-t),o=r/n+t;if(1e-6>p(n))return r5;function i(t,e){var r=o-e,i=n*t;return[r*E(i),o-r*v(i)]}return i.invert=function(t,e){var r=o-e;return[g(t,p(r))/n*P(r),o-P(n)*M(t*t+r*r)]},i}function r8(){return rz(r9).scale(131.154).center([0,13.9389])}function r7(t,e){var r=v(e),n=v(t)*r;return[r*E(t)/n,E(e)/n]}function nt(){return rV(r7).scale(144.049).clipAngle(60)}function ne(t,e,r,n){return 1===t&&1===e&&0===r&&0===n?eB:rI({point:function(o,i){this.stream.point(o*t+r,i*e+n)}})}function nr(){var t,e,r,n,o,i,a=1,s=0,u=0,l=1,c=1,f=eB,h=null,p=eB;function d(){return n=o=null,i}return i={stream:function(t){return n&&o===t?n:n=f(p(o=t))},clipExtent:function(n){return arguments.length?(p=null==n?(h=t=e=r=null,eB):t2(h=+n[0][0],t=+n[0][1],e=+n[1][0],r=+n[1][1]),d()):null==h?null:[[h,t],[e,r]]},scale:function(t){return arguments.length?(f=ne((a=+t)*l,a*c,s,u),d()):a},translate:function(t){return arguments.length?(f=ne(a*l,a*c,s=+t[0],u=+t[1]),d()):[s,u]},reflectX:function(t){return arguments.length?(f=ne(a*(l=t?-1:1),a*c,s,u),d()):l<0},reflectY:function(t){return arguments.length?(f=ne(a*l,a*(c=t?-1:1),s,u),d()):c<0},fitExtent:function(t,e){return rT(i,t,e)},fitSize:function(t,e){return rD(i,t,e)}}}function nn(t,e){var r=e*e,n=r*r;return[t*(.8707-.131979*r+n*(-.013791+n*(.003971*r-.001529*n))),e*(1.007226+r*(.015085+n*(-.044475+.028874*r-.005916*n)))]}function no(){return rV(nn).scale(175.295)}function ni(t,e){return[v(e)*E(t),E(e)]}function na(){return rV(ni).scale(249.5).clipAngle(90.000001)}function ns(t,e){var r=v(e),n=1+v(t)*r;return[r*E(t)/n,E(e)/n]}function nu(){return rV(ns).scale(250).clipAngle(142)}function nl(t,e){return[b(w((u+e)/2)),-t]}function nc(){var t=r1(nl),e=t.center,r=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?r([t[0],t[1],t.length>2?t[2]+90:90]):[(t=r())[0],t[1],t[2]-90]},r([0,0,90]).scale(159.155)}rZ.invert=rW(function(t){return t}),rQ.invert=function(t,e){return[t,2*d(m(e))-u]},r5.invert=r5,r7.invert=rW(d),nn.invert=function(t,e){var r,n=e,o=25;do{var i=n*n,a=i*i;n-=r=(n*(1.007226+i*(.015085+a*(-.044475+.028874*i-.005916*a)))-e)/(1.007226+i*(.045255+a*(-.311325+.259866*i-.005916*11*a)))}while(p(r)>1e-6&&--o>0);return[t/(.8707+(i=n*n)*(-.131979+i*(-.013791+i*i*i*(.003971-.001529*i)))),n]},ni.invert=rW(_),ns.invert=rW(function(t){return 2*d(t)}),nl.invert=function(t,e){return[-e,2*d(m(t))-u]}},2940:function(t,e,r){"use strict";function n(t){return function(){return t}}function o(t){return t[0]}function i(t){return t[1]}function a(){this._=null}function s(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function u(t,e){var r=e.R,n=e.U;n?n.L===e?n.L=r:n.R=r:t._=r,r.U=n,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function l(t,e){var r=e.L,n=e.U;n?n.L===e?n.L=r:n.R=r:t._=r,r.U=n,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function c(t){for(;t.L;)t=t.L;return t}function f(t,e,r,n){var o=[null,null],i=b.push(o)-1;return o.left=t,o.right=e,r&&p(o,t,e,r),n&&p(o,e,t,n),y[t.index].halfedges.push(i),y[e.index].halfedges.push(i),o}function h(t,e,r){var n=[e,r];return n.left=t,n}function p(t,e,r,n){t[0]||t[1]?t.left===r?t[1]=n:t[0]=n:(t[0]=n,t.left=e,t.right=r)}function d(t,e){return e[+(e.left!==t.site)]}r.r(e),r.d(e,{voronoi:function(){return L}}),a.prototype={constructor:a,insert:function(t,e){var r,n,o;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;r=t}else this._?(t=c(this._),e.P=null,e.N=t,t.P=t.L=e,r=t):(e.P=e.N=null,this._=e,r=null);for(e.L=e.R=null,e.U=r,e.C=!0,t=e;r&&r.C;)n=r.U,r===n.L?(o=n.R)&&o.C?(r.C=o.C=!1,n.C=!0,t=n):(t===r.R&&(u(this,r),r=(t=r).U),r.C=!1,n.C=!0,l(this,n)):(o=n.L)&&o.C?(r.C=o.C=!1,n.C=!0,t=n):(t===r.L&&(l(this,r),r=(t=r).U),r.C=!1,n.C=!0,u(this,n)),r=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,r,n,o=t.U,i=t.L,a=t.R;if(r=i?a?c(a):i:a,o?o.L===t?o.L=r:o.R=r:this._=r,i&&a?(n=r.C,r.C=t.C,r.L=i,i.U=r,r!==a?(o=r.U,r.U=t.U,t=r.R,o.L=t,r.R=a,a.U=r):(r.U=o,o=r,t=r.R)):(n=t.C,t=r),t&&(t.U=o),!n){if(t&&t.C){t.C=!1;return}do{if(t===this._)break;if(t===o.L){if((e=o.R).C&&(e.C=!1,o.C=!0,u(this,o),e=o.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,l(this,e),e=o.R),e.C=o.C,o.C=e.R.C=!1,u(this,o),t=this._;break}}else if((e=o.L).C&&(e.C=!1,o.C=!0,l(this,o),e=o.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,u(this,e),e=o.L),e.C=o.C,o.C=e.L.C=!1,l(this,o),t=this._;break}e.C=!0,t=o,o=o.U}while(!t.C);t&&(t.C=!1)}}};var g,v,y,m,b,x=[];function E(){s(this),this.x=this.y=this.arc=this.site=this.cy=null}function P(t){var e=t.P,r=t.N;if(e&&r){var n=e.site,o=t.site,i=r.site;if(n!==i){var a=o[0],s=o[1],u=n[0]-a,l=n[1]-s,c=i[0]-a,f=i[1]-s,h=2*(u*f-l*c);if(!(h>=-A)){var p=u*u+l*l,d=c*c+f*f,v=(f*p-l*d)/h,y=(u*d-c*p)/h,b=x.pop()||new E;b.arc=t,b.site=o,b.x=v+a,b.y=(b.cy=y+s)+Math.sqrt(v*v+y*y),t.circle=b;for(var P=null,M=m._;M;)if(b.y<M.y||b.y===M.y&&b.x<=M.x){if(M.L)M=M.L;else{P=M.P;break}}else if(M.R)M=M.R;else{P=M;break}m.insert(P,b),P||(g=b)}}}}function M(t){var e=t.circle;e&&(e.P||(g=e.N),m.remove(e),x.push(e),s(e),t.circle=null)}var w=[];function S(){s(this),this.edge=this.site=this.circle=null}function _(t){var e=w.pop()||new S;return e.site=t,e}function O(t){M(t),v.remove(t),w.push(t),s(t)}function j(t,e){var r=t.site,n=r[0],o=r[1],i=o-e;if(!i)return n;var a=t.P;if(!a)return-1/0;var s=(r=a.site)[0],u=r[1],l=u-e;if(!l)return s;var c=s-n,f=1/i-1/l,h=c/l;return f?(-h+Math.sqrt(h*h-2*f*(c*c/(-2*l)-u+l/2+o-i/2)))/f+n:(n+s)/2}var A=1e-12;function C(t,e){return e[1]-t[1]||e[0]-t[0]}function k(t,e){var r,n,o,i=t.sort(C).pop();for(b=[],y=Array(t.length),v=new a,m=new a;;)if(o=g,i&&(!o||i[1]<o.y||i[1]===o.y&&i[0]<o.x))(i[0]!==r||i[1]!==n)&&(function(t){for(var e,r,n,o,i=t[0],a=t[1],s=v._;s;)if((n=j(s,a)-i)>1e-6)s=s.L;else if((o=i-function(t,e){var r=t.N;if(r)return j(r,e);var n=t.site;return n[1]===e?n[0]:1/0}(s,a))>1e-6){if(!s.R){e=s;break}s=s.R}else{n>-.000001?(e=s.P,r=s):o>-.000001?(e=s,r=s.N):e=r=s;break}y[t.index]={site:t,halfedges:[]};var u=_(t);if(v.insert(e,u),e||r){if(e===r){M(e),r=_(e.site),v.insert(u,r),u.edge=r.edge=f(e.site,u.site),P(e),P(r);return}if(!r){u.edge=f(e.site,u.site);return}M(e),M(r);var l=e.site,c=l[0],h=l[1],d=t[0]-c,g=t[1]-h,m=r.site,b=m[0]-c,x=m[1]-h,E=2*(d*x-g*b),w=d*d+g*g,S=b*b+x*x,O=[(x*w-g*S)/E+c,(d*S-b*w)/E+h];p(r.edge,l,m,O),u.edge=f(l,t,null,O),r.edge=f(t,m,null,O),P(e),P(r)}}(i),r=i[0],n=i[1]),i=t.pop();else if(o)!function(t){var e=t.circle,r=e.x,n=e.cy,o=[r,n],i=t.P,a=t.N,s=[t];O(t);for(var u=i;u.circle&&1e-6>Math.abs(r-u.circle.x)&&1e-6>Math.abs(n-u.circle.cy);)i=u.P,s.unshift(u),O(u),u=i;s.unshift(u),M(u);for(var l=a;l.circle&&1e-6>Math.abs(r-l.circle.x)&&1e-6>Math.abs(n-l.circle.cy);)a=l.N,s.push(l),O(l),l=a;s.push(l),M(l);var c,h=s.length;for(c=1;c<h;++c)l=s[c],u=s[c-1],p(l.edge,u.site,l.site,o);u=s[0],(l=s[h-1]).edge=f(u.site,l.site,null,o),P(u),P(l)}(o.arc);else break;if(!function(){for(var t,e,r,n,o=0,i=y.length;o<i;++o)if((t=y[o])&&(n=(e=t.halfedges).length)){var a=Array(n),s=Array(n);for(r=0;r<n;++r)a[r]=r,s[r]=function(t,e){var r=t.site,n=e.left,o=e.right;return(r===o&&(o=n,n=r),o)?Math.atan2(o[1]-n[1],o[0]-n[0]):(r===n?(n=e[1],o=e[0]):(n=e[0],o=e[1]),Math.atan2(n[0]-o[0],o[1]-n[1]))}(t,b[e[r]]);for(a.sort(function(t,e){return s[e]-s[t]}),r=0;r<n;++r)s[r]=e[a[r]];for(r=0;r<n;++r)e[r]=s[r]}}(),e){var s=+e[0][0],u=+e[0][1],l=+e[1][0],c=+e[1][1];!function(t,e,r,n){for(var o,i=b.length;i--;)(function(t,e,r,n,o){var i=t[1];if(i)return!0;var a,s,u=t[0],l=t.left,c=t.right,f=l[0],h=l[1],p=c[0],d=c[1],g=(f+p)/2;if(d===h){if(g<e||g>=n)return;if(f>p){if(u){if(u[1]>=o)return}else u=[g,r];i=[g,o]}else{if(u){if(u[1]<r)return}else u=[g,o];i=[g,r]}}else if(a=(f-p)/(d-h),s=(h+d)/2-a*g,a<-1||a>1){if(f>p){if(u){if(u[1]>=o)return}else u=[(r-s)/a,r];i=[(o-s)/a,o]}else{if(u){if(u[1]<r)return}else u=[(o-s)/a,o];i=[(r-s)/a,r]}}else if(h<d){if(u){if(u[0]>=n)return}else u=[e,a*e+s];i=[n,a*n+s]}else{if(u){if(u[0]<e)return}else u=[n,a*n+s];i=[e,a*e+s]}return t[0]=u,t[1]=i,!0})(o=b[i],t,e,r,n)&&function(t,e,r,n,o){var i,a=t[0],s=t[1],u=a[0],l=a[1],c=s[0],f=s[1],h=0,p=1,d=c-u,g=f-l;if(i=e-u,d||!(i>0)){if(i/=d,d<0){if(i<h)return;i<p&&(p=i)}else if(d>0){if(i>p)return;i>h&&(h=i)}if(i=n-u,d||!(i<0)){if(i/=d,d<0){if(i>p)return;i>h&&(h=i)}else if(d>0){if(i<h)return;i<p&&(p=i)}if(i=r-l,g||!(i>0)){if(i/=g,g<0){if(i<h)return;i<p&&(p=i)}else if(g>0){if(i>p)return;i>h&&(h=i)}if(i=o-l,g||!(i<0)){if(i/=g,g<0){if(i>p)return;i>h&&(h=i)}else if(g>0){if(i<h)return;i<p&&(p=i)}return!(h>0)&&!(p<1)||(h>0&&(t[0]=[u+h*d,l+h*g]),p<1&&(t[1]=[u+p*d,l+p*g]),!0)}}}}}(o,t,e,r,n)&&(Math.abs(o[0][0]-o[1][0])>1e-6||Math.abs(o[0][1]-o[1][1])>1e-6)||delete b[i]}(s,u,l,c),function(t,e,r,n){var o,i,a,s,u,l,c,f,p,g,v,m,x=y.length,E=!0;for(o=0;o<x;++o)if(i=y[o]){for(a=i.site,s=(u=i.halfedges).length;s--;)b[u[s]]||u.splice(s,1);for(s=0,l=u.length;s<l;)P=i,v=(g=(M=b[u[s]])[+(M.left===P.site)])[0],m=g[1],f=(c=d(i,b[u[++s%l]]))[0],p=c[1],(Math.abs(v-f)>1e-6||Math.abs(m-p)>1e-6)&&(u.splice(s,0,b.push(h(a,g,1e-6>Math.abs(v-t)&&n-m>1e-6?[t,1e-6>Math.abs(f-t)?p:n]:1e-6>Math.abs(m-n)&&r-v>1e-6?[1e-6>Math.abs(p-n)?f:r,n]:1e-6>Math.abs(v-r)&&m-e>1e-6?[r,1e-6>Math.abs(f-r)?p:e]:1e-6>Math.abs(m-e)&&v-t>1e-6?[1e-6>Math.abs(p-e)?f:t,e]:null))-1),++l);l&&(E=!1)}if(E){var P,M,w,S,_,O=1/0;for(o=0,E=null;o<x;++o)(i=y[o])&&(_=(w=(a=i.site)[0]-t)*w+(S=a[1]-e)*S)<O&&(O=_,E=i);if(E){var j=[t,e],A=[t,n],C=[r,n],k=[r,e];E.halfedges.push(b.push(h(a=E.site,j,A))-1,b.push(h(a,A,C))-1,b.push(h(a,C,k))-1,b.push(h(a,k,j))-1)}}for(o=0;o<x;++o)(i=y[o])&&!i.halfedges.length&&delete y[o]}(s,u,l,c)}this.edges=b,this.cells=y,v=m=b=y=null}function L(){var t=o,e=i,r=null;function a(n){return new k(n.map(function(r,o){var i=[1e-6*Math.round(t(r,o,n)/1e-6),1e-6*Math.round(e(r,o,n)/1e-6)];return i.index=o,i.data=r,i}),r)}return a.polygons=function(t){return a(t).polygons()},a.links=function(t){return a(t).links()},a.triangles=function(t){return a(t).triangles()},a.x=function(e){return arguments.length?(t="function"==typeof e?e:n(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:n(+t),a):e},a.extent=function(t){return arguments.length?(r=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],a):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},a.size=function(t){return arguments.length?(r=null==t?null:[[0,0],[+t[0],+t[1]]],a):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},a}k.prototype={constructor:k,polygons:function(){var t=this.edges;return this.cells.map(function(e){var r=e.halfedges.map(function(r){return d(e,t[r])});return r.data=e.site.data,r})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(r,n){if(a=(i=r.halfedges).length)for(var o,i,a,s,u=r.site,l=-1,c=e[i[a-1]],f=c.left===u?c.right:c.left;++l<a;)s=f,f=(c=e[i[l]]).left===u?c.right:c.left,s&&f&&n<s.index&&n<f.index&&0>(o=f,(u[0]-o[0])*(s[1]-u[1])-(u[0]-s[0])*(o[1]-u[1]))&&t.push([u.data,s.data,f.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,r){for(var n,o,i=this,a=i._found||0,s=i.cells.length;!(o=i.cells[a]);)if(++a>=s)return null;var u=t-o.site[0],l=e-o.site[1],c=u*u+l*l;do o=i.cells[n=a],a=null,o.halfedges.forEach(function(r){var n=i.edges[r],s=n.left;if(s!==o.site&&s||(s=n.right)){var u=t-s[0],l=e-s[1],f=u*u+l*l;f<c&&(c=f,a=s.index)}});while(null!==a);return i._found=n,null==r||c<=r*r?o.site:null}}},400:function(t,e,r){var n=r(3294),o=r(7424),i=r(5724),a=r(5651),s=r(6593),u=r(3757),l=Date.prototype.getTime;function c(t){return!!t&&"object"==typeof t&&"number"==typeof t.length&&"function"==typeof t.copy&&"function"==typeof t.slice&&(!(t.length>0)||"number"==typeof t[0])}t.exports=function t(e,r,f){var h=f||{};return(h.strict?!!i(e,r):e===r)||(e&&r&&("object"==typeof e||"object"==typeof r)?function(e,r,i){if(typeof e!=typeof r||null==e||null==r||e.prototype!==r.prototype||o(e)!==o(r))return!1;var f,h,p=a(e),d=a(r);if(p!==d)return!1;if(p||d)return e.source===r.source&&s(e)===s(r);if(u(e)&&u(r))return l.call(e)===l.call(r);var g=c(e),v=c(r);if(g!==v)return!1;if(g||v){if(e.length!==r.length)return!1;for(f=0;f<e.length;f++)if(e[f]!==r[f])return!1;return!0}if(typeof e!=typeof r)return!1;try{var y=n(e),m=n(r)}catch(t){return!1}if(y.length!==m.length)return!1;for(y.sort(),m.sort(),f=y.length-1;f>=0;f--)if(y[f]!=m[f])return!1;for(f=y.length-1;f>=0;f--)if(!t(e[h=y[f]],r[h],i))return!1;return!0}(e,r,h):h.strict?i(e,r):e==r)}},639:function(t,e,r){"use strict";var n=r(3294),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,u=r(4979)(),l=s&&u,c=function(t,e,r,n){if(e in t){if(!0===n){if(t[e]===r)return}else if(!("function"==typeof n&&"[object Function]"===i.call(n))||!n())return}l?s(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r},f=function(t,e){var r=arguments.length>2?arguments[2]:{},i=n(e);o&&(i=a.call(i,Object.getOwnPropertySymbols(e)));for(var s=0;s<i.length;s+=1)c(t,i[s],e[i[s]],r[i[s]])};f.supportsDescriptors=!!l,t.exports=f},9553:function(t){/**
 * DBSCAN - Density based clustering
 *
 * @author Lukasz Krawczyk <contact@lukaszkrawczyk.eu>
 * @copyright MIT
 */function e(t,e,r,n){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(t,e,r,n)}e.prototype.run=function(t,e,r,n){this._init(t,e,r,n);for(var o=0;o<this._datasetLength;o++)if(1!==this._visited[o]){this._visited[o]=1;var i=this._regionQuery(o);if(i.length<this.minPts)this.noise.push(o);else{var a=this.clusters.length;this.clusters.push([]),this._addToCluster(o,a),this._expandCluster(a,i)}}return this.clusters},e.prototype._init=function(t,e,r,n){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this.noise=[],this._datasetLength=t.length,this._visited=Array(this._datasetLength),this._assigned=Array(this._datasetLength)}e&&(this.epsilon=e),r&&(this.minPts=r),n&&(this.distance=n)},e.prototype._expandCluster=function(t,e){for(var r=0;r<e.length;r++){var n=e[r];if(1!==this._visited[n]){this._visited[n]=1;var o=this._regionQuery(n);o.length>=this.minPts&&(e=this._mergeArrays(e,o))}1!==this._assigned[n]&&this._addToCluster(n,t)}},e.prototype._addToCluster=function(t,e){this.clusters[e].push(t),this._assigned[t]=1},e.prototype._regionQuery=function(t){for(var e=[],r=0;r<this._datasetLength;r++)this.distance(this.dataset[t],this.dataset[r])<this.epsilon&&e.push(r);return e},e.prototype._mergeArrays=function(t,e){for(var r=e.length,n=0;n<r;n++){var o=e[n];0>t.indexOf(o)&&t.push(o)}return t},e.prototype._euclideanDistance=function(t,e){for(var r=0,n=Math.min(t.length,e.length);n--;)r+=(t[n]-e[n])*(t[n]-e[n]);return Math.sqrt(r)},t.exports&&(t.exports=e)},5786:function(t){/**
 * KMEANS clustering
 *
 * @author Lukasz Krawczyk <contact@lukaszkrawczyk.eu>
 * @copyright MIT
 */function e(t,e,r){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(t,e,r)}e.prototype.init=function(t,e,r){this.assignments=[],this.centroids=[],void 0!==t&&(this.dataset=t),void 0!==e&&(this.k=e),void 0!==r&&(this.distance=r)},e.prototype.run=function(t,e){this.init(t,e);for(var r=this.dataset.length,n=0;n<this.k;n++)this.centroids[n]=this.randomCentroid();for(var o=!0;o;){o=this.assign();for(var i=0;i<this.k;i++){for(var a=Array(c),s=0,u=0;u<c;u++)a[u]=0;for(var l=0;l<r;l++){var c=this.dataset[l].length;if(i===this.assignments[l]){for(var u=0;u<c;u++)a[u]+=this.dataset[l][u];s++}}if(s>0){for(var u=0;u<c;u++)a[u]/=s;this.centroids[i]=a}else this.centroids[i]=this.randomCentroid(),o=!0}}return this.getClusters()},e.prototype.randomCentroid=function(){var t,e,r=this.dataset.length-1;do e=Math.round(Math.random()*r),t=this.dataset[e];while(this.centroids.indexOf(t)>=0);return t},e.prototype.assign=function(){for(var t,e=!1,r=this.dataset.length,n=0;n<r;n++)(t=this.argmin(this.dataset[n],this.centroids,this.distance))!=this.assignments[n]&&(this.assignments[n]=t,e=!0);return e},e.prototype.getClusters=function(){for(var t,e=Array(this.k),r=0;r<this.assignments.length;r++)void 0===e[t=this.assignments[r]]&&(e[t]=[]),e[t].push(r);return e},e.prototype.argmin=function(t,e,r){for(var n,o=Number.MAX_VALUE,i=0,a=e.length,s=0;s<a;s++)(n=r(t,e[s]))<o&&(o=n,i=s);return i},e.prototype.distance=function(t,e){for(var r=0,n=Math.min(t.length,e.length);n--;){var o=t[n]-e[n];r+=o*o}return Math.sqrt(r)},t.exports&&(t.exports=e)},1486:function(t,e,r){if(t.exports)var n=r(5668);/**
 * OPTICS - Ordering points to identify the clustering structure
 *
 * @author Lukasz Krawczyk <contact@lukaszkrawczyk.eu>
 * @copyright MIT
 */function o(t,e,r,n){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(t,e,r,n)}o.prototype.run=function(t,e,r,o){this._init(t,e,r,o);for(var i=0,a=this.dataset.length;i<a;i++)if(1!==this._processed[i]){this._processed[i]=1,this.clusters.push([i]);var s=this.clusters.length-1;this._orderedList.push(i);var u=new n(null,null,"asc"),l=this._regionQuery(i);void 0!==this._distanceToCore(i)&&(this._updateQueue(i,l,u),this._expandCluster(s,u))}return this.clusters},o.prototype.getReachabilityPlot=function(){for(var t=[],e=0,r=this._orderedList.length;e<r;e++){var n=this._orderedList[e],o=this._reachability[n];t.push([n,o])}return t},o.prototype._init=function(t,e,r,n){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this._reachability=Array(this.dataset.length),this._processed=Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}e&&(this.epsilon=e),r&&(this.minPts=r),n&&(this.distance=n)},o.prototype._updateQueue=function(t,e,r){var n=this;this._coreDistance=this._distanceToCore(t),e.forEach(function(e){if(void 0===n._processed[e]){var o=n.distance(n.dataset[t],n.dataset[e]),i=Math.max(n._coreDistance,o);void 0===n._reachability[e]?(n._reachability[e]=i,r.insert(e,i)):i<n._reachability[e]&&(n._reachability[e]=i,r.remove(e),r.insert(e,i))}})},o.prototype._expandCluster=function(t,e){for(var r=e.getElements(),n=0,o=r.length;n<o;n++){var i=r[n];if(void 0===this._processed[i]){var a=this._regionQuery(i);this._processed[i]=1,this.clusters[t].push(i),this._orderedList.push(i),void 0!==this._distanceToCore(i)&&(this._updateQueue(i,a,e),this._expandCluster(t,e))}}},o.prototype._distanceToCore=function(t){for(var e=this.epsilon,r=0;r<e;r++)if(this._regionQuery(t,r).length>=this.minPts)return r},o.prototype._regionQuery=function(t,e){e=e||this.epsilon;for(var r=[],n=0,o=this.dataset.length;n<o;n++)this.distance(this.dataset[t],this.dataset[n])<e&&r.push(n);return r},o.prototype._euclideanDistance=function(t,e){for(var r=0,n=Math.min(t.length,e.length);n--;)r+=(t[n]-e[n])*(t[n]-e[n]);return Math.sqrt(r)},t.exports&&(t.exports=o)},5668:function(t){/**
 * PriorityQueue
 * Elements in this queue are sorted according to their value
 *
 * @author Lukasz Krawczyk <contact@lukaszkrawczyk.eu>
 * @copyright MIT
 */function e(t,e,r){this._queue=[],this._priorities=[],this._sorting="desc",this._init(t,e,r)}e.prototype.insert=function(t,e){for(var r=this._queue.length,n=r;n--;){var o=this._priorities[n];"desc"===this._sorting?e>o&&(r=n):e<o&&(r=n)}this._insertAt(t,e,r)},e.prototype.remove=function(t){for(var e=this._queue.length;e--;)if(t===this._queue[e]){this._queue.splice(e,1),this._priorities.splice(e,1);break}},e.prototype.forEach=function(t){this._queue.forEach(t)},e.prototype.getElements=function(){return this._queue},e.prototype.getElementPriority=function(t){return this._priorities[t]},e.prototype.getPriorities=function(){return this._priorities},e.prototype.getElementsWithPriorities=function(){for(var t=[],e=0,r=this._queue.length;e<r;e++)t.push([this._queue[e],this._priorities[e]]);return t},e.prototype._init=function(t,e,r){if(t&&e){if(this._queue=[],this._priorities=[],t.length!==e.length)throw Error("Arrays must have the same length");for(var n=0;n<t.length;n++)this.insert(t[n],e[n])}r&&(this._sorting=r)},e.prototype._insertAt=function(t,e,r){this._queue.length===r?(this._queue.push(t),this._priorities.push(e)):(this._queue.splice(r,0,t),this._priorities.splice(r,0,e))},t.exports&&(t.exports=e)},7600:function(t,e,r){t.exports&&(t.exports={DBSCAN:r(9553),KMEANS:r(5786),OPTICS:r(1486),PriorityQueue:r(5668)})},8558:function(t){"use strict";function e(t,e,c){c=c||2;var f,d,v,y,m,b,x,E=e&&e.length,P=E?e[0]*c:t.length,M=r(t,0,P,c,!0),w=[];if(!M||M.next===M.prev)return w;if(E&&(M=function(t,e,i,u){var l,c,f,d,g,v=[];for(l=0,c=e.length;l<c;l++)f=e[l]*u,d=l<c-1?e[l+1]*u:t.length,(g=r(t,f,d,u,!1))===g.next&&(g.steiner=!0),v.push(function(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}(g));for(v.sort(o),l=0;l<v.length;l++)i=function(t,e){var r=function(t,e){var r,n,o,i=e,u=t.x,l=t.y,c=-1/0;do{if(l<=i.y&&l>=i.next.y&&i.next.y!==i.y){var f=i.x+(l-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(f<=u&&f>c&&(c=f,o=i.x<i.next.x?i:i.next,f===u))return o}i=i.next}while(i!==e);if(!o)return null;var p,d=o,g=o.x,v=o.y,y=1/0;i=o;do u>=i.x&&i.x>=g&&u!==i.x&&a(l<v?u:c,l,g,v,l<v?c:u,l,i.x,i.y)&&(p=Math.abs(l-i.y)/(u-i.x),h(i,t)&&(p<y||p===y&&(i.x>o.x||i.x===o.x&&(r=o,n=i,0>s(r.prev,r,n.prev)&&0>s(n.next,r,r.next))))&&(o=i,y=p)),i=i.next;while(i!==d);return o}(t,e);if(!r)return e;var o=p(r,t);return n(o,o.next),n(r,r.next)}(v[l],i);return i}(t,e,M,c)),t.length>80*c){f=v=t[0],d=y=t[1];for(var S=c;S<P;S+=c)m=t[S],b=t[S+1],m<f&&(f=m),b<d&&(d=b),m>v&&(v=m),b>y&&(y=b);x=0!==(x=Math.max(v-f,y-d))?32767/x:0}return function t(e,r,o,c,f,d,v){if(e){!v&&d&&function(t,e,r,n){var o=t;do 0===o.z&&(o.z=i(o.x,o.y,e,r,n)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next;while(o!==t);o.prevZ.nextZ=null,o.prevZ=null,function(t){var e,r,n,o,i,a,s,u,l=1;do{for(r=t,t=null,i=null,a=0;r;){for(a++,n=r,s=0,e=0;e<l&&(s++,n=n.nextZ);e++);for(u=l;s>0||u>0&&n;)0!==s&&(0===u||!n||r.z<=n.z)?(o=r,r=r.nextZ,s--):(o=n,n=n.nextZ,u--),i?i.nextZ=o:t=o,o.prevZ=i,i=o;r=n}i.nextZ=null,l*=2}while(a>1)}(o)}(e,c,f,d);for(var y,m,b=e;e.prev!==e.next;){if(y=e.prev,m=e.next,d?function(t,e,r,n){var o=t.prev,u=t.next;if(s(o,t,u)>=0)return!1;for(var l=o.x,c=t.x,f=u.x,h=o.y,p=t.y,d=u.y,g=l<c?l<f?l:f:c<f?c:f,v=h<p?h<d?h:d:p<d?p:d,y=l>c?l>f?l:f:c>f?c:f,m=h>p?h>d?h:d:p>d?p:d,b=i(g,v,e,r,n),x=i(y,m,e,r,n),E=t.prevZ,P=t.nextZ;E&&E.z>=b&&P&&P.z<=x;){if(E.x>=g&&E.x<=y&&E.y>=v&&E.y<=m&&E!==o&&E!==u&&a(l,h,c,p,f,d,E.x,E.y)&&s(E.prev,E,E.next)>=0||(E=E.prevZ,P.x>=g&&P.x<=y&&P.y>=v&&P.y<=m&&P!==o&&P!==u&&a(l,h,c,p,f,d,P.x,P.y)&&s(P.prev,P,P.next)>=0))return!1;P=P.nextZ}for(;E&&E.z>=b;){if(E.x>=g&&E.x<=y&&E.y>=v&&E.y<=m&&E!==o&&E!==u&&a(l,h,c,p,f,d,E.x,E.y)&&s(E.prev,E,E.next)>=0)return!1;E=E.prevZ}for(;P&&P.z<=x;){if(P.x>=g&&P.x<=y&&P.y>=v&&P.y<=m&&P!==o&&P!==u&&a(l,h,c,p,f,d,P.x,P.y)&&s(P.prev,P,P.next)>=0)return!1;P=P.nextZ}return!0}(e,c,f,d):function(t){var e=t.prev,r=t.next;if(s(e,t,r)>=0)return!1;for(var n=e.x,o=t.x,i=r.x,u=e.y,l=t.y,c=r.y,f=n<o?n<i?n:i:o<i?o:i,h=u<l?u<c?u:c:l<c?l:c,p=n>o?n>i?n:i:o>i?o:i,d=u>l?u>c?u:c:l>c?l:c,g=r.next;g!==e;){if(g.x>=f&&g.x<=p&&g.y>=h&&g.y<=d&&a(n,u,o,l,i,c,g.x,g.y)&&s(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}(e)){r.push(y.i/o|0),r.push(e.i/o|0),r.push(m.i/o|0),g(e),e=m.next,b=m.next;continue}if((e=m)===b){v?1===v?t(e=function(t,e,r){var o=t;do{var i=o.prev,a=o.next.next;!u(i,a)&&l(i,o,o.next,a)&&h(i,a)&&h(a,i)&&(e.push(i.i/r|0),e.push(o.i/r|0),e.push(a.i/r|0),g(o),g(o.next),o=t=a),o=o.next}while(o!==t);return n(o)}(n(e),r,o),r,o,c,f,d,2):2===v&&function(e,r,o,i,a,c){var f=e;do{for(var d,g,v=f.next.next;v!==f.prev;){if(f.i!==v.i&&(d=f,g=v,d.next.i!==g.i&&d.prev.i!==g.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&l(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(d,g)&&(h(d,g)&&h(g,d)&&function(t,e){var r=t,n=!1,o=(t.x+e.x)/2,i=(t.y+e.y)/2;do r.y>i!=r.next.y>i&&r.next.y!==r.y&&o<(r.next.x-r.x)*(i-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}(d,g)&&(s(d.prev,d,g.prev)||s(d,g.prev,g))||u(d,g)&&s(d.prev,d,d.next)>0&&s(g.prev,g,g.next)>0))){var y=p(f,v);f=n(f,f.next),y=n(y,y.next),t(f,r,o,i,a,c,0),t(y,r,o,i,a,c,0);return}v=v.next}f=f.next}while(f!==e)}(e,r,o,c,f,d):t(n(e),r,o,c,f,d,1);break}}}}(M,w,c,f,d,x,0),w}function r(t,e,r,n,o){var i,a;if(o===y(t,e,r,n)>0)for(i=e;i<r;i+=n)a=d(i,t[i],t[i+1],a);else for(i=r-n;i>=e;i-=n)a=d(i,t[i],t[i+1],a);return a&&u(a,a.next)&&(g(a),a=a.next),a}function n(t,e){if(!t)return t;e||(e=t);var r,n=t;do if(r=!1,!n.steiner&&(u(n,n.next)||0===s(n.prev,n,n.next))){if(g(n),(n=e=n.prev)===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function o(t,e){return t.x-e.x}function i(t,e,r,n,o){return(t=((t=((t=((t=((t=(t-r)*o|0)|t<<8)&16711935)|t<<4)&252645135)|t<<2)&858993459)|t<<1)&1431655765)|(e=((e=((e=((e=((e=(e-n)*o|0)|e<<8)&16711935)|e<<4)&252645135)|e<<2)&858993459)|e<<1)&1431655765)<<1}function a(t,e,r,n,o,i,a,s){return(o-a)*(e-s)>=(t-a)*(i-s)&&(t-a)*(n-s)>=(r-a)*(e-s)&&(r-a)*(i-s)>=(o-a)*(n-s)}function s(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function u(t,e){return t.x===e.x&&t.y===e.y}function l(t,e,r,n){var o=f(s(t,e,r)),i=f(s(t,e,n)),a=f(s(r,n,t)),u=f(s(r,n,e));return!!(o!==i&&a!==u||0===o&&c(t,r,e)||0===i&&c(t,n,e)||0===a&&c(r,t,n)||0===u&&c(r,e,n))}function c(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function f(t){return t>0?1:t<0?-1:0}function h(t,e){return 0>s(t.prev,t,t.next)?s(t,e,t.next)>=0&&s(t,t.prev,e)>=0:0>s(t,e,t.prev)||0>s(t,t.next,e)}function p(t,e){var r=new v(t.i,t.x,t.y),n=new v(e.i,e.x,e.y),o=t.next,i=e.prev;return t.next=e,e.prev=t,r.next=o,o.prev=r,n.next=r,r.prev=n,i.next=n,n.prev=i,n}function d(t,e,r,n){var o=new v(t,e,r);return n?(o.next=n.next,o.prev=n,n.next.prev=o,n.next=o):(o.prev=o,o.next=o),o}function g(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function v(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function y(t,e,r,n){for(var o=0,i=e,a=r-n;i<r;i+=n)o+=(t[a]-t[i])*(t[i+1]+t[a+1]),a=i;return o}t.exports=e,t.exports.default=e,e.deviation=function(t,e,r,n){var o=e&&e.length,i=o?e[0]*r:t.length,a=Math.abs(y(t,0,i,r));if(o)for(var s=0,u=e.length;s<u;s++){var l=e[s]*r,c=s<u-1?e[s+1]*r:t.length;a-=Math.abs(y(t,l,c,r))}var f=0;for(s=0;s<n.length;s+=3){var h=n[s]*r,p=n[s+1]*r,d=n[s+2]*r;f+=Math.abs((t[h]-t[d])*(t[p+1]-t[h+1])-(t[h]-t[p])*(t[d+1]-t[h+1]))}return 0===a&&0===f?0:Math.abs((f-a)/a)},e.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,o=0;o<t.length;o++){for(var i=0;i<t[o].length;i++)for(var a=0;a<e;a++)r.vertices.push(t[o][i][a]);o>0&&(n+=t[o-1].length,r.holes.push(n))}return r}},5500:function(t){"use strict";var e=Array.prototype.slice,r=Object.prototype.toString;t.exports=function(t){var n,o=this;if("function"!=typeof o||"[object Function]"!==r.call(o))throw TypeError("Function.prototype.bind called on incompatible "+o);for(var i=e.call(arguments,1),a=Math.max(0,o.length-i.length),s=[],u=0;u<a;u++)s.push("$"+u);if(n=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(!(this instanceof n))return o.apply(t,i.concat(e.call(arguments)));var r=o.apply(this,i.concat(e.call(arguments)));return Object(r)===r?r:this}),o.prototype){var l=function(){};l.prototype=o.prototype,n.prototype=new l,l.prototype=null}return n}},7500:function(t,e,r){"use strict";var n=r(5500);t.exports=Function.prototype.bind||n},1138:function(t){"use strict";var e=function(){return"string"==typeof(function(){}).name},r=Object.getOwnPropertyDescriptor;if(r)try{r([],"length")}catch(t){r=null}e.functionsHaveConfigurableNames=function(){if(!e()||!r)return!1;var t=r(function(){},"name");return!!t&&!!t.configurable};var n=Function.prototype.bind;e.boundFunctionsHaveNames=function(){return e()&&"function"==typeof n&&""!==(function(){}).bind().name},t.exports=e},8892:function(t,e,r){var n=r(400),o=function(t){this.precision=t&&t.precision?t.precision:17,this.direction=!!t&&!!t.direction&&t.direction,this.pseudoNode=!!t&&!!t.pseudoNode&&t.pseudoNode,this.objectComparator=t&&t.objectComparator?t.objectComparator:s};function i(t){return t.coordinates.map(function(e){return{type:t.type.replace("Multi",""),coordinates:e}})}function a(t,e){return t.hasOwnProperty("coordinates")?t.coordinates.length===e.coordinates.length:t.length===e.length}function s(t,e){return n(t,e,{strict:!0})}o.prototype.compare=function(t,e){if(t.type!==e.type||!a(t,e))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,e.coordinates);case"LineString":return this.compareLine(t.coordinates,e.coordinates,0,!1);case"Polygon":return this.comparePolygon(t,e);case"Feature":return this.compareFeature(t,e);default:if(0===t.type.indexOf("Multi")){var r=this,n=i(t),o=i(e);return n.every(function(t){return this.some(function(e){return r.compare(t,e)})},o)}}return!1},o.prototype.compareCoord=function(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r].toFixed(this.precision)!==e[r].toFixed(this.precision))return!1;return!0},o.prototype.compareLine=function(t,e,r,n){if(!a(t,e))return!1;var o=this.pseudoNode?t:this.removePseudo(t),i=this.pseudoNode?e:this.removePseudo(e);if(!n||this.compareCoord(o[0],i[0])||(i=this.fixStartIndex(i,o))){var s=this.compareCoord(o[r],i[r]);return this.direction||s?this.comparePath(o,i):!!this.compareCoord(o[r],i[i.length-(1+r)])&&this.comparePath(o.slice().reverse(),i)}},o.prototype.fixStartIndex=function(t,e){for(var r,n=-1,o=0;o<t.length;o++)if(this.compareCoord(t[o],e[0])){n=o;break}return n>=0&&(r=[].concat(t.slice(n,t.length),t.slice(1,n+1))),r},o.prototype.comparePath=function(t,e){var r=this;return t.every(function(t,e){return r.compareCoord(t,this[e])},e)},o.prototype.comparePolygon=function(t,e){if(!this.compareLine(t.coordinates[0],e.coordinates[0],1,!0))return!1;var r=t.coordinates.slice(1,t.coordinates.length),n=e.coordinates.slice(1,e.coordinates.length),o=this;return r.every(function(t){return this.some(function(e){return o.compareLine(t,e,1,!0)})},n)},o.prototype.compareFeature=function(t,e){return!!(t.id===e.id&&this.objectComparator(t.properties,e.properties)&&this.compareBBox(t,e))&&this.compare(t.geometry,e.geometry)},o.prototype.compareBBox=function(t,e){return!!(!t.bbox&&!e.bbox||t.bbox&&e.bbox&&this.compareCoord(t.bbox,e.bbox))},o.prototype.removePseudo=function(t){return t},t.exports=o},214:function(t,e,r){var n=r(2491),o=r(1719),i=r(9163),a=r(4635).default,s=i.featureEach;i.coordEach,o.polygon;var u=o.featureCollection;function l(t){var e=new n(t);return e.insert=function(t){if("Feature"!==t.type)throw Error("invalid feature");return t.bbox=t.bbox?t.bbox:a(t),n.prototype.insert.call(this,t)},e.load=function(t){var e=[];return Array.isArray(t)?t.forEach(function(t){if("Feature"!==t.type)throw Error("invalid features");t.bbox=t.bbox?t.bbox:a(t),e.push(t)}):s(t,function(t){if("Feature"!==t.type)throw Error("invalid features");t.bbox=t.bbox?t.bbox:a(t),e.push(t)}),n.prototype.load.call(this,e)},e.remove=function(t,e){if("Feature"!==t.type)throw Error("invalid feature");return t.bbox=t.bbox?t.bbox:a(t),n.prototype.remove.call(this,t,e)},e.clear=function(){return n.prototype.clear.call(this)},e.search=function(t){return u(n.prototype.search.call(this,this.toBBox(t)))},e.collides=function(t){return n.prototype.collides.call(this,this.toBBox(t))},e.all=function(){return u(n.prototype.all.call(this))},e.toJSON=function(){return n.prototype.toJSON.call(this)},e.fromJSON=function(t){return n.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var e;if(t.bbox)e=t.bbox;else if(Array.isArray(t)&&4===t.length)e=t;else if(Array.isArray(t)&&6===t.length)e=[t[0],t[1],t[3],t[4]];else if("Feature"===t.type)e=a(t);else if("FeatureCollection"===t.type)e=a(t);else throw Error("invalid geojson");return{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}},e}t.exports=l,t.exports.default=l},291:function(t){"undefined"!=typeof self&&self,t.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e||4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,(function(e){return t[e]}).bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e),r.d(e,"computeDestinationPoint",function(){return L}),r.d(e,"convertArea",function(){return I}),r.d(e,"convertDistance",function(){return R}),r.d(e,"convertSpeed",function(){return T}),r.d(e,"decimalToSexagesimal",function(){return F}),r.d(e,"findNearest",function(){return z}),r.d(e,"getAreaOfPolygon",function(){return U}),r.d(e,"getBounds",function(){return G}),r.d(e,"getBoundsOfDistance",function(){return Y}),r.d(e,"getCenter",function(){return X}),r.d(e,"getCenterOfBounds",function(){return $}),r.d(e,"getCompassDirection",function(){return H}),r.d(e,"getCoordinateKey",function(){return g}),r.d(e,"getCoordinateKeys",function(){return x}),r.d(e,"getDistance",function(){return V}),r.d(e,"getDistanceFromLine",function(){return J}),r.d(e,"getGreatCircleBearing",function(){return Z}),r.d(e,"getLatitude",function(){return j}),r.d(e,"getLongitude",function(){return A}),r.d(e,"getPathLength",function(){return Q}),r.d(e,"getPreciseDistance",function(){return tt}),r.d(e,"getRhumbLineBearing",function(){return W}),r.d(e,"getRoughCompassDirection",function(){return te}),r.d(e,"getSpeed",function(){return tr}),r.d(e,"isDecimal",function(){return v}),r.d(e,"isPointInLine",function(){return tn}),r.d(e,"isPointInPolygon",function(){return to}),r.d(e,"isPointNearLine",function(){return ti}),r.d(e,"isPointWithinRadius",function(){return ta}),r.d(e,"isSexagesimal",function(){return y}),r.d(e,"isValidCoordinate",function(){return M}),r.d(e,"isValidLatitude",function(){return E}),r.d(e,"isValidLongitude",function(){return P}),r.d(e,"orderByDistance",function(){return q}),r.d(e,"sexagesimalToDecimal",function(){return m}),r.d(e,"toDecimal",function(){return O}),r.d(e,"toRad",function(){return C}),r.d(e,"toDeg",function(){return k}),r.d(e,"wktToPolygon",function(){return tu}),r.d(e,"sexagesimalPattern",function(){return n}),r.d(e,"earthRadius",function(){return o}),r.d(e,"MINLAT",function(){return i}),r.d(e,"MAXLAT",function(){return a}),r.d(e,"MINLON",function(){return s}),r.d(e,"MAXLON",function(){return u}),r.d(e,"longitudeKeys",function(){return l}),r.d(e,"latitudeKeys",function(){return c}),r.d(e,"altitudeKeys",function(){return f}),r.d(e,"distanceConversion",function(){return h}),r.d(e,"timeConversion",function(){return p}),r.d(e,"areaConversion",function(){return d});var n=/^([0-9]{1,3})°\s*([0-9]{1,3}(?:\.(?:[0-9]{1,}))?)['′]\s*(([0-9]{1,3}(\.([0-9]{1,}))?)["″]\s*)?([NEOSW]?)$/,o=6378137,i=-90,a=90,s=-180,u=180,l=["lng","lon","longitude",0],c=["lat","latitude",1],f=["alt","altitude","elevation","elev",2],h={m:1,km:.001,cm:100,mm:1e3,mi:1/1609.344,sm:1/1852.216,ft:100/30.48,in:100/2.54,yd:1/.9144},p={m:60,h:3600,d:86400},d={m2:1,km2:1e-6,ha:1e-4,a:.01,ft2:10.763911,yd2:1.19599,in2:1550.0031};d.sqm=d.m2,d.sqkm=d.km2,d.sqft=d.ft2,d.sqyd=d.yd2,d.sqin=d.in2;var g=function(t,e){return e.reduce(function(e,r){if(null==t)throw Error("'".concat(t,"' is no valid coordinate."));return Object.prototype.hasOwnProperty.call(t,r)&&void 0!==r&&void 0===e?(e=r,r):e},void 0)},v=function(t){var e=t.toString().trim();return!isNaN(parseFloat(e))&&parseFloat(e)===Number(e)},y=function(t){return n.test(t.toString().trim())},m=function(t){var e=new RegExp(n).exec(t.toString().trim());if(null==e)throw Error("Given value is not in sexagesimal format");var r=Number(e[2])/60||0,o=Number(e[4])/3600||0,i=parseFloat(e[1])+r+o;return["S","W"].includes(e[7])?-i:i};function b(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}var x=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{longitude:l,latitude:c,altitude:f},r=g(t,e.longitude),n=g(t,e.latitude),o=g(t,e.altitude);return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?b(Object(r),!0).forEach(function(e){var n;n=r[e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({latitude:n,longitude:r},o?{altitude:o}:{})},E=function t(e){return v(e)?!(parseFloat(e)>a||e<i):!!y(e)&&t(m(e))},P=function t(e){return v(e)?!(parseFloat(e)>u||e<s):!!y(e)&&t(m(e))},M=function(t){var e=x(t),r=e.latitude,n=e.longitude;if(Array.isArray(t)&&t.length>=2)return P(t[0])&&E(t[1]);if(void 0===r||void 0===n)return!1;var o=t[n],i=t[r];return void 0!==i&&void 0!==o&&!1!==E(i)&&!1!==P(o)};function w(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function S(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?w(Object(r),!0).forEach(function(e){_(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function _(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var O=function t(e){if(v(e))return Number(e);if(y(e))return m(e);if(M(e)){var r=x(e);return Array.isArray(e)?e.map(function(e,r){return[0,1].includes(r)?t(e):e}):S(S(S({},e),r.latitude&&_({},r.latitude,t(e[r.latitude]))),r.longitude&&_({},r.longitude,t(e[r.longitude])))}return Array.isArray(e)?e.map(function(e){return M(e)?t(e):e}):e},j=function(t,e){var r=g(t,c);if(null!=r){var n=t[r];return!0===e?n:O(n)}},A=function(t,e){var r=g(t,l);if(null!=r){var n=t[r];return!0===e?n:O(n)}},C=function(t){return t*Math.PI/180},k=function(t){return 180*t/Math.PI},L=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6371e3,o=j(t),i=A(t),a=e/n,l=C(r),c=C(o),f=C(i),h=Math.asin(Math.sin(c)*Math.cos(a)+Math.cos(c)*Math.sin(a)*Math.cos(l)),p=f+Math.atan2(Math.sin(l)*Math.sin(a)*Math.cos(c),Math.cos(a)-Math.sin(c)*Math.sin(h)),d=k(p);return(d<s||d>u)&&(d=k(p=(p+3*Math.PI)%(2*Math.PI)-Math.PI)),{latitude:k(h),longitude:d}},I=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m",r=d[e];if(r)return t*r;throw Error("Invalid unit used for area conversion.")},R=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m",r=h[e];if(r)return t*r;throw Error("Invalid unit used for distance conversion.")},T=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"kmh";switch(e){case"kmh":return t*p.h*h.km;case"mph":return t*p.h*h.mi;default:return t}};function D(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(t,e)||function(t,e){if(t){if("string"==typeof t)return N(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N(t,e)}}(t,e)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var F=function(t){var e=D(t.toString().split("."),2),r=e[0],n=e[1],o=Math.abs(Number(r)),i=60*Number("0."+(n||0)),a=D((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,r=Math.pow(10,e);return Math.round(t*r)/r})(60*Number("0."+(i.toString().split(".")[1]||0))).toString().split("."),2),s=a[0],u=a[1];return o+"\xb0 "+Math.floor(i).toString().padStart(2,"0")+"' "+s.padStart(2,"0")+"."+(void 0===u?"0":u).padEnd(1,"0")+'"'},B=function(t){return t>1?1:t<-1?-1:t},V=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;r=void 0===r||isNaN(r)?1:r;var n=j(t),i=A(t),a=j(e),s=A(e);return Math.round(Math.acos(B(Math.sin(C(a))*Math.sin(C(n))+Math.cos(C(a))*Math.cos(C(n))*Math.cos(C(i)-C(s))))*o/r)*r},q=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:V;return r="function"==typeof r?r:V,e.slice().sort(function(e,n){return r(t,e)-r(t,n)})},z=function(t,e){return q(t,e)[0]},U=function(t){var e=0;if(t.length>2){for(var r,n,i,a=0;a<t.length;a++){a===t.length-2?(r=t.length-2,n=t.length-1,i=0):a===t.length-1?(r=t.length-1,n=0,i=1):(r=a,n=a+1,i=a+2);var s=A(t[r]),u=j(t[n]);e+=(C(A(t[i]))-C(s))*Math.sin(C(u))}e=e*o*o/2}return Math.abs(e)},G=function(t){if(!1===Array.isArray(t)||0===t.length)throw Error("No points were given.");return t.reduce(function(t,e){var r=j(e),n=A(e);return{maxLat:Math.max(r,t.maxLat),minLat:Math.min(r,t.minLat),maxLng:Math.max(n,t.maxLng),minLng:Math.min(n,t.minLng)}},{maxLat:-1/0,minLat:1/0,maxLng:-1/0,minLng:1/0})},Y=function(t,e){var r,n,l=j(t),c=A(t),f=C(l),h=C(c),p=e/o,d=f-p,g=f+p,v=C(a),y=C(i),m=C(u),b=C(s);if(d>y&&g<v){var x=Math.asin(Math.sin(p)/Math.cos(f));(r=h-x)<b&&(r+=2*Math.PI),(n=h+x)>m&&(n-=2*Math.PI)}else d=Math.max(d,y),g=Math.min(g,v),r=b,n=m;return[{latitude:k(d),longitude:k(r)},{latitude:k(g),longitude:k(n)}]},X=function(t){if(!1===Array.isArray(t)||0===t.length)return!1;var e=t.length,r=t.reduce(function(t,e){var r=C(j(e)),n=C(A(e));return{X:t.X+Math.cos(r)*Math.cos(n),Y:t.Y+Math.cos(r)*Math.sin(n),Z:t.Z+Math.sin(r)}},{X:0,Y:0,Z:0}),n=r.X/e,o=r.Y/e,i=r.Z/e;return{longitude:k(Math.atan2(o,n)),latitude:k(Math.atan2(i,Math.sqrt(n*n+o*o)))}},$=function(t){var e=G(t),r=e.minLat+(e.maxLat-e.minLat)/2,n=e.minLng+(e.maxLng-e.minLng)/2;return{latitude:parseFloat(r.toFixed(6)),longitude:parseFloat(n.toFixed(6))}},W=function(t,e){var r=C(A(e))-C(A(t)),n=Math.log(Math.tan(C(j(e))/2+Math.PI/4)/Math.tan(C(j(t))/2+Math.PI/4));return Math.abs(r)>Math.PI&&(r=r>0?-1*(2*Math.PI-r):2*Math.PI+r),(k(Math.atan2(r,n))+360)%360},H=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:W,n="function"==typeof r?r(t,e):W(t,e);if(isNaN(n))throw Error("Could not calculate bearing for given points. Check your bearing function");switch(Math.round(n/22.5)){case 1:return"NNE";case 2:return"NE";case 3:return"ENE";case 4:return"E";case 5:return"ESE";case 6:return"SE";case 7:return"SSE";case 8:return"S";case 9:return"SSW";case 10:return"SW";case 11:return"WSW";case 12:return"W";case 13:return"WNW";case 14:return"NW";case 15:return"NNW";default:return"N"}},J=function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=V(e,t,n),i=V(t,r,n),a=V(e,r,n),s=Math.acos(B((o*o+a*a-i*i)/(2*o*a))),u=Math.acos(B((i*i+a*a-o*o)/(2*i*a)));return s>Math.PI/2?o:u>Math.PI/2?i:Math.sin(s)*o},Z=function(t,e){var r=j(e),n=A(e),o=j(t),i=A(t);return(k(Math.atan2(Math.sin(C(n)-C(i))*Math.cos(C(r)),Math.cos(C(o))*Math.sin(C(r))-Math.sin(C(o))*Math.cos(C(r))*Math.cos(C(n)-C(i))))+360)%360};function K(t){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Q=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:V;return t.reduce(function(t,r){return"object"===K(t)&&null!==t.last&&(t.distance+=e(r,t.last)),t.last=r,t},{last:null,distance:0}).distance},tt=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;r=void 0===r||isNaN(r)?1:r;var n,i,a,s,u,l,c,f=j(t),h=A(t),p=j(e),d=A(e),g=1/298.257223563,v=C(d-h),y=Math.atan((1-g)*Math.tan(C(parseFloat(f)))),m=Math.atan((1-g)*Math.tan(C(parseFloat(p)))),b=Math.sin(y),x=Math.cos(y),E=Math.sin(m),P=Math.cos(m),M=v,w=100;do{var S=Math.sin(M),_=Math.cos(M);if(0===(l=Math.sqrt(P*S*(P*S)+(x*E-b*P*_)*(x*E-b*P*_))))return 0;i=Math.atan2(l,n=b*E+x*P*_),isNaN(u=n-2*b*E/(s=1-(a=x*P*S/l)*a))&&(u=0);var O=g/16*s*(4+g*(4-3*s));c=M,M=v+(1-O)*g*a*(i+O*l*(u+O*n*(2*u*u-1)))}while(Math.abs(M-c)>1e-12&&--w>0);if(0===w)return NaN;var k=s*(o*o-40408299984659.16)/40408299984659.16,L=k/1024*(256+k*(k*(74-47*k)-128));return Math.round(6356752.314245*(1+k/16384*(4096+k*(k*(320-175*k)-768)))*(i-L*l*(u+L/4*(n*(2*u*u-1)-L/6*u*(4*l*l-3)*(4*u*u-3))))/r)*r},te=function(t){return/^(NNE|NE|NNW|N)$/.test(t)?"N":/^(ENE|E|ESE|SE)$/.test(t)?"E":/^(SSE|S|SSW|SW)$/.test(t)?"S":/^(WSW|W|WNW|NW)$/.test(t)?"W":void 0},tr=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:V;return r(t,e)/(Number(e.time)-Number(t.time))*1e3},tn=function(t,e,r){return V(e,t)+V(t,r)===V(e,r)},to=function(t,e){for(var r=!1,n=e.length,o=-1,i=n-1;++o<n;i=o)(A(e[o])<=A(t)&&A(t)<A(e[i])||A(e[i])<=A(t)&&A(t)<A(e[o]))&&j(t)<(j(e[i])-j(e[o]))*(A(t)-A(e[o]))/(A(e[i])-A(e[o]))+j(e[o])&&(r=!r);return r},ti=function(t,e,r,n){return J(t,e,r)<n},ta=function(t,e,r){return V(t,e,.01)<r};function ts(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var tu=function(t){if(!t.startsWith("POLYGON"))throw Error("Invalid wkt.");return t.slice(t.indexOf("(")+2,t.indexOf(")")).split(", ").map(function(t){var e,r=function(t){if(Array.isArray(t))return t}(e=t.split(" "))||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,2)||function(t,e){if(t){if("string"==typeof t)return ts(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ts(t,e)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=r[0],o=r[1];return{longitude:parseFloat(n),latitude:parseFloat(o)}})}}])},8045:function(t,e,r){"use strict";var n,o=SyntaxError,i=Function,a=TypeError,s=function(t){try{return i('"use strict"; return ('+t+").constructor;")()}catch(t){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(t){u=null}var l=function(){throw new a},c=u?function(){try{return arguments.callee,l}catch(t){try{return u(arguments,"callee").get}catch(t){return l}}}():l,f=r(4704)(),h=r(3599)(),p=Object.getPrototypeOf||(h?function(t){return t.__proto__}:null),d={},g="undefined"!=typeof Uint8Array&&p?p(Uint8Array):n,v={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":f&&p?p([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":d,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f&&p?p(p([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&f&&p?p(new Map()[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&f&&p?p(new Set()[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f&&p?p(""[Symbol.iterator]()):n,"%Symbol%":f?Symbol:n,"%SyntaxError%":o,"%ThrowTypeError%":c,"%TypedArray%":g,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet};if(p)try{null.error}catch(t){var y=p(p(t));v["%Error.prototype%"]=y}var m=function t(e){var r;if("%AsyncFunction%"===e)r=s("async function () {}");else if("%GeneratorFunction%"===e)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=s("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=t("%AsyncGenerator%");o&&p&&(r=p(o.prototype))}return v[e]=r,r},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},x=r(7500),E=r(8893),P=x.call(Function.call,Array.prototype.concat),M=x.call(Function.apply,Array.prototype.splice),w=x.call(Function.call,String.prototype.replace),S=x.call(Function.call,String.prototype.slice),_=x.call(Function.call,RegExp.prototype.exec),O=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,j=/\\(\\)?/g,A=function(t){var e=S(t,0,1),r=S(t,-1);if("%"===e&&"%"!==r)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new o("invalid intrinsic syntax, expected opening `%`");var n=[];return w(t,O,function(t,e,r,o){n[n.length]=r?w(o,j,"$1"):e||t}),n},C=function(t,e){var r,n=t;if(E(b,n)&&(n="%"+(r=b[n])[0]+"%"),E(v,n)){var i=v[n];if(i===d&&(i=m(n)),void 0===i&&!e)throw new a("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new o("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new a('"allowMissing" argument must be a boolean');if(null===_(/^%?[^%]*%?$/,t))throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=A(t),n=r.length>0?r[0]:"",i=C("%"+n+"%",e),s=i.name,l=i.value,c=!1,f=i.alias;f&&(n=f[0],M(r,P([0,1],f)));for(var h=1,p=!0;h<r.length;h+=1){var d=r[h],g=S(d,0,1),y=S(d,-1);if(('"'===g||"'"===g||"`"===g||'"'===y||"'"===y||"`"===y)&&g!==y)throw new o("property names with quotes must have matching quotes");if("constructor"!==d&&p||(c=!0),n+="."+d,E(v,s="%"+n+"%"))l=v[s];else if(null!=l){if(!(d in l)){if(!e)throw new a("base intrinsic for "+t+" exists, but the property is not available.");return}if(u&&h+1>=r.length){var m=u(l,d);l=(p=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:l[d]}else p=E(l,d),l=l[d];p&&!c&&(v[s]=l)}}return l}},4979:function(t,e,r){"use strict";var n=r(8045)("%Object.defineProperty%",!0),o=function(){if(n)try{return n({},"a",{value:1}),!0}catch(t){}return!1};o.hasArrayLengthDefineBug=function(){if(!o())return null;try{return 1!==n([],"length",{value:1}).length}catch(t){return!0}},t.exports=o},3599:function(t){"use strict";var e={foo:{}},r=Object;t.exports=function(){return({__proto__:e}).foo===e.foo&&!(({__proto__:null})instanceof r)}},4704:function(t,e,r){"use strict";var n="undefined"!=typeof Symbol&&Symbol,o=r(2128);t.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&o()}},2128:function(t){"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e||"[object Symbol]"!==Object.prototype.toString.call(e)||"[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e||!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},5961:function(t,e,r){"use strict";var n=r(2128);t.exports=function(){return n()&&!!Symbol.toStringTag}},8893:function(t,e,r){"use strict";var n=r(7500);t.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},7424:function(t,e,r){"use strict";var n=r(5961)(),o=r(2097)("Object.prototype.toString"),i=function(t){return(!n||!t||"object"!=typeof t||!(Symbol.toStringTag in t))&&"[object Arguments]"===o(t)},a=function(t){return!!i(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==o(t)&&"[object Function]"===o(t.callee)},s=function(){return i(arguments)}();i.isLegacyArguments=a,t.exports=s?i:a},3757:function(t,e,r){"use strict";var n=Date.prototype.getDay,o=function(t){try{return n.call(t),!0}catch(t){return!1}},i=Object.prototype.toString,a=r(5961)();t.exports=function(t){return"object"==typeof t&&null!==t&&(a?o(t):"[object Date]"===i.call(t))}},5651:function(t,e,r){"use strict";var n,o,i,a,s=r(2097),u=r(5961)();if(u){n=s("Object.prototype.hasOwnProperty"),o=s("RegExp.prototype.exec"),i={};var l=function(){throw i};a={toString:l,valueOf:l},"symbol"==typeof Symbol.toPrimitive&&(a[Symbol.toPrimitive]=l)}var c=s("Object.prototype.toString"),f=Object.getOwnPropertyDescriptor;t.exports=u?function(t){if(!t||"object"!=typeof t)return!1;var e=f(t,"lastIndex");if(!(e&&n(e,"value")))return!1;try{o(t,a)}catch(t){return t===i}}:function(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"[object RegExp]"===c(t)}},7185:function(t){"use strict";var e=Object.assign.bind(Object);t.exports=e,t.exports.default=t.exports},4602:function(t,e,r){"use strict";var n,o;t.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(o=r.g.process)?void 0:o.env)?r.g.process:r(8113)},8113:function(t){!function(){var e={229:function(t){var e,r,n,o=t.exports={};function i(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u=[],l=!1,c=-1;function f(){l&&n&&(l=!1,n.length?u=n.concat(u):c=-1,u.length&&h())}function h(){if(!l){var t=s(f);l=!0;for(var e=u.length;e;){for(n=u,u=[];++c<e;)n&&n[c].run();c=-1,e=u.length}n=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function d(){}o.nextTick=function(t){var e=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new p(t,e)),1!==u.length||l||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=d,o.addListener=d,o.once=d,o.off=d,o.removeListener=d,o.removeAllListeners=d,o.emit=d,o.prependListener=d,o.prependOnceListener=d,o.listeners=function(t){return[]},o.binding=function(t){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},r={};function n(t){var o=r[t];if(void 0!==o)return o.exports;var i=r[t]={exports:{}},a=!0;try{e[t](i,i.exports,n),a=!1}finally{a&&delete r[t]}return i.exports}n.ab="//";var o=n(229);t.exports=o}()},7543:function(t,e,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(6439),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(t,e,r){var n,i={},l=null,c=null;for(n in void 0!==r&&(l=""+r),void 0!==e.key&&(l=""+e.key),void 0!==e.ref&&(c=e.ref),e)a.call(e,n)&&!u.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps)void 0===i[n]&&(i[n]=e[n]);return{$$typeof:o,type:t,key:l,ref:c,props:i,_owner:s.current}}e.Fragment=i,e.jsx=l,e.jsxs=l},4357:function(t,e,r){"use strict";t.exports=r(7543)},7689:function(t){"use strict";var e=function(t){return t!=t};t.exports=function(t,r){return 0===t&&0===r?1/t==1/r:!!(t===r||e(t)&&e(r))}},5724:function(t,e,r){"use strict";var n=r(639),o=r(8226),i=r(7689),a=r(7668),s=r(7613),u=o(a(),Object);n(u,{getPolyfill:a,implementation:i,shim:s}),t.exports=u},7668:function(t,e,r){"use strict";var n=r(7689);t.exports=function(){return"function"==typeof Object.is?Object.is:n}},7613:function(t,e,r){"use strict";var n=r(7668),o=r(639);t.exports=function(){var t=n();return o(Object,{is:t},{is:function(){return Object.is!==t}}),t}},8110:function(t,e,r){"use strict";var n;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=r(3597),s=Object.prototype.propertyIsEnumerable,u=!s.call({toString:null},"toString"),l=s.call(function(){},"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(t){var e=t.constructor;return e&&e.prototype===t},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!h["$"+t]&&o.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{f(window[t])}catch(t){return!0}}catch(t){return!0}return!1}(),d=function(t){if("undefined"==typeof window||!p)return f(t);try{return f(t)}catch(t){return!1}};n=function(t){var e=null!==t&&"object"==typeof t,r="[object Function]"===i.call(t),n=a(t),s=e&&"[object String]"===i.call(t),f=[];if(!e&&!r&&!n)throw TypeError("Object.keys called on a non-object");var h=l&&r;if(s&&t.length>0&&!o.call(t,0))for(var p=0;p<t.length;++p)f.push(String(p));if(n&&t.length>0)for(var g=0;g<t.length;++g)f.push(String(g));else for(var v in t)!(h&&"prototype"===v)&&o.call(t,v)&&f.push(String(v));if(u)for(var y=d(t),m=0;m<c.length;++m)!(y&&"constructor"===c[m])&&o.call(t,c[m])&&f.push(c[m]);return f}}t.exports=n},3294:function(t,e,r){"use strict";var n=Array.prototype.slice,o=r(3597),i=Object.keys,a=i?function(t){return i(t)}:r(8110),s=Object.keys;a.shim=function(){return Object.keys?!function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2)&&(Object.keys=function(t){return o(t)?s(n.call(t)):s(t)}):Object.keys=a,Object.keys||a},t.exports=a},3597:function(t){"use strict";var e=Object.prototype.toString;t.exports=function(t){var r=e.call(t),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),n}},1562:function(t){t.exports=function(t,e,r,n){var o=t[0],i=t[1],a=!1;void 0===r&&(r=0),void 0===n&&(n=e.length);for(var s=(n-r)/2,u=0,l=s-1;u<s;l=u++){var c=e[r+2*u+0],f=e[r+2*u+1],h=e[r+2*l+0],p=e[r+2*l+1];f>i!=p>i&&o<(h-c)*(i-f)/(p-f)+c&&(a=!a)}return a}},6522:function(t,e,r){var n=r(1562),o=r(7965);t.exports=function(t,e,r,i){return e.length>0&&Array.isArray(e[0])?o(t,e,r,i):n(t,e,r,i)},t.exports.nested=o,t.exports.flat=n},7965:function(t){t.exports=function(t,e,r,n){var o=t[0],i=t[1],a=!1;void 0===r&&(r=0),void 0===n&&(n=e.length);for(var s=n-r,u=0,l=s-1;u<s;l=u++){var c=e[u+r][0],f=e[u+r][1],h=e[l+r][0],p=e[l+r][1];f>i!=p>i&&o<(h-c)*(i-f)/(p-f)+c&&(a=!a)}return a}},5228:function(t,e,r){var n=r(4602);t.exports=function(){"use strict";function t(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")}function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}/**
   * splaytree v3.1.0
   * Fast Splay tree for Node and browser
   *
   * @author Alexander Milevski <info@w8r.name>
   * @license MIT
   * @preserve
   */var o=function(t,e){this.next=null,this.key=t,this.data=e,this.left=null,this.right=null};function i(t,e){return t>e?1:t<e?-1:0}function a(t,e,r){for(var n=new o(null,null),i=n,a=n;;){var s=r(t,e.key);if(s<0){if(null===e.left)break;if(0>r(t,e.left.key)){var u=e.left;if(e.left=u.right,u.right=e,null===(e=u).left)break}a.left=e,a=e,e=e.left}else if(s>0){if(null===e.right)break;if(r(t,e.right.key)>0){var u=e.right;if(e.right=u.left,u.left=e,null===(e=u).right)break}i.right=e,i=e,e=e.right}else break}return i.right=e.left,a.left=e.right,e.left=n.right,e.right=n.left,e}function s(t,e,r,n){var i=new o(t,e);if(null===r)return i.left=i.right=null,i;r=a(t,r,n);var s=n(t,r.key);return s<0?(i.left=r.left,i.right=r,r.left=null):s>=0&&(i.right=r.right,i.left=r,r.right=null),i}function u(t,e,r){var n=null,o=null;if(e){e=a(t,e,r);var i=r(e.key,t);0===i?(n=e.left,o=e.right):i<0?(o=e.right,e.right=null,n=e):(n=e.left,e.left=null,o=e)}return{left:n,right:o}}var l=function(){function t(t){void 0===t&&(t=i),this._root=null,this._size=0,this._comparator=t}return t.prototype.insert=function(t,e){return this._size++,this._root=s(t,e,this._root,this._comparator)},t.prototype.add=function(t,e){var r=new o(t,e);null===this._root&&(r.left=r.right=null,this._size++,this._root=r);var n=this._comparator,i=a(t,this._root,n),s=n(t,i.key);return 0===s?this._root=i:(s<0?(r.left=i.left,r.right=i,i.left=null):s>0&&(r.right=i.right,r.left=i,i.right=null),this._size++,this._root=r),this._root},t.prototype.remove=function(t){this._root=this._remove(t,this._root,this._comparator)},t.prototype._remove=function(t,e,r){var n;return null===e?null:(e=a(t,e,r),0===r(t,e.key))?(null===e.left?n=e.right:(n=a(t,e.left,r)).right=e.right,this._size--,n):e},t.prototype.pop=function(){var t=this._root;if(t){for(;t.left;)t=t.left;return this._root=a(t.key,this._root,this._comparator),this._root=this._remove(t.key,this._root,this._comparator),{key:t.key,data:t.data}}return null},t.prototype.findStatic=function(t){for(var e=this._root,r=this._comparator;e;){var n=r(t,e.key);if(0===n)return e;e=n<0?e.left:e.right}return null},t.prototype.find=function(t){return this._root&&(this._root=a(t,this._root,this._comparator),0!==this._comparator(t,this._root.key))?null:this._root},t.prototype.contains=function(t){for(var e=this._root,r=this._comparator;e;){var n=r(t,e.key);if(0===n)return!0;e=n<0?e.left:e.right}return!1},t.prototype.forEach=function(t,e){for(var r=this._root,n=[],o=!1;!o;)null!==r?(n.push(r),r=r.left):0!==n.length?(r=n.pop(),t.call(e,r),r=r.right):o=!0;return this},t.prototype.range=function(t,e,r,n){for(var o=[],i=this._comparator,a=this._root;0!==o.length||a;)if(a)o.push(a),a=a.left;else{if(i((a=o.pop()).key,e)>0)break;if(i(a.key,t)>=0&&r.call(n,a))return this;a=a.right}return this},t.prototype.keys=function(){var t=[];return this.forEach(function(e){var r=e.key;return t.push(r)}),t},t.prototype.values=function(){var t=[];return this.forEach(function(e){var r=e.data;return t.push(r)}),t},t.prototype.min=function(){return this._root?this.minNode(this._root).key:null},t.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},t.prototype.minNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.left;)t=t.left;return t},t.prototype.maxNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.right;)t=t.right;return t},t.prototype.at=function(t){for(var e=this._root,r=!1,n=0,o=[];!r;)if(e)o.push(e),e=e.left;else if(o.length>0){if(e=o.pop(),n===t)return e;n++,e=e.right}else r=!0;return null},t.prototype.next=function(t){var e=this._root,r=null;if(t.right){for(r=t.right;r.left;)r=r.left;return r}for(var n=this._comparator;e;){var o=n(t.key,e.key);if(0===o)break;o<0?(r=e,e=e.left):e=e.right}return r},t.prototype.prev=function(t){var e=this._root,r=null;if(null!==t.left){for(r=t.left;r.right;)r=r.right;return r}for(var n=this._comparator;e;){var o=n(t.key,e.key);if(0===o)break;o<0?e=e.left:(r=e,e=e.right)}return r},t.prototype.clear=function(){return this._root=null,this._size=0,this},t.prototype.toList=function(){return function(t){for(var e=t,r=[],n=!1,i=new o(null,null),a=i;!n;)e?(r.push(e),e=e.left):r.length>0?e=(e=a=a.next=r.pop()).right:n=!0;return a.next=null,i.next}(this._root)},t.prototype.load=function(t,e,r){void 0===e&&(e=[]),void 0===r&&(r=!1);var n=t.length,i=this._comparator;if(r&&function t(e,r,n,o,i){if(!(n>=o)){for(var a=e[n+o>>1],s=n-1,u=o+1;;){do s++;while(0>i(e[s],a));do u--;while(i(e[u],a)>0);if(s>=u)break;var l=e[s];e[s]=e[u],e[u]=l,l=r[s],r[s]=r[u],r[u]=l}t(e,r,n,u,i),t(e,r,u+1,o,i)}}(t,e,0,n-1,i),null===this._root)this._root=function t(e,r,n,i){var a=i-n;if(a>0){var s=n+Math.floor(a/2),u=e[s],l=r[s],c=new o(u,l);return c.left=t(e,r,n,s),c.right=t(e,r,s+1,i),c}return null}(t,e,0,n),this._size=n;else{var a=function(t,e,r){for(var n=new o(null,null),i=n,a=t,s=e;null!==a&&null!==s;)0>r(a.key,s.key)?(i.next=a,a=a.next):(i.next=s,s=s.next),i=i.next;return null!==a?i.next=a:null!==s&&(i.next=s),n.next}(this.toList(),function(t,e){for(var r=new o(null,null),n=r,i=0;i<t.length;i++)n=n.next=new o(t[i],e[i]);return n.next=null,r.next}(t,e),i);n=this._size+n,this._root=function t(e,r,n){var o=n-r;if(o>0){var i=r+Math.floor(o/2),a=t(e,r,i),s=e.head;return s.left=a,e.head=e.head.next,s.right=t(e,i+1,n),s}return null}({head:a},0,n)}return this},t.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),t.prototype.toString=function(t){void 0===t&&(t=function(t){return String(t.key)});var e=[];return function t(e,r,n,o,i){if(e){o(""+r+(n?"└── ":"├── ")+i(e)+"\n");var a=r+(n?"    ":"│   ");e.left&&t(e.left,a,!1,o,i),e.right&&t(e.right,a,!0,o,i)}}(this._root,"",!0,function(t){return e.push(t)},t),e.join("")},t.prototype.update=function(t,e,r){var n,o,i=this._comparator,l=u(t,this._root,i),c=l.left,f=l.right;0>i(t,e)?f=s(e,r,f,i):c=s(e,r,c,i),this._root=(n=c,null===(o=f)?n:(null===n||((o=a(n.key,o,i)).left=n),o))},t.prototype.split=function(t){return u(t,this._root,this._comparator)},t}(),c=function(t,e){return t.ll.x<=e.x&&e.x<=t.ur.x&&t.ll.y<=e.y&&e.y<=t.ur.y},f=function(t,e){if(e.ur.x<t.ll.x||t.ur.x<e.ll.x||e.ur.y<t.ll.y||t.ur.y<e.ll.y)return null;var r=t.ll.x<e.ll.x?e.ll.x:t.ll.x,n=t.ur.x<e.ur.x?t.ur.x:e.ur.x;return{ll:{x:r,y:t.ll.y<e.ll.y?e.ll.y:t.ll.y},ur:{x:n,y:t.ur.y<e.ur.y?t.ur.y:e.ur.y}}},h=Number.EPSILON;void 0===h&&(h=2220446049250313e-31);var p=h*h,d=function(t,e){if(-h<t&&t<h&&-h<e&&e<h)return 0;var r=t-e;return r*r<p*t*e?0:t<e?-1:1},g=function(){function e(){t(this,e),this.reset()}return r(e,[{key:"reset",value:function(){this.xRounder=new v,this.yRounder=new v}},{key:"round",value:function(t,e){return{x:this.xRounder.round(t),y:this.yRounder.round(e)}}}]),e}(),v=function(){function e(){t(this,e),this.tree=new l,this.round(0)}return r(e,[{key:"round",value:function(t){var e=this.tree.add(t),r=this.tree.prev(e);if(null!==r&&0===d(e.key,r.key))return this.tree.remove(t),r.key;var n=this.tree.next(e);return null!==n&&0===d(e.key,n.key)?(this.tree.remove(t),n.key):t}}]),e}(),y=new g,m=function(t,e){return t.x*e.y-t.y*e.x},b=function(t,e){return t.x*e.x+t.y*e.y},x=function(t,e,r){return d(m({x:e.x-t.x,y:e.y-t.y},{x:r.x-t.x,y:r.y-t.y}),0)},E=function(t){return Math.sqrt(b(t,t))},P=function(t,e,r){var n={x:e.x-t.x,y:e.y-t.y},o={x:r.x-t.x,y:r.y-t.y};return m(o,n)/E(o)/E(n)},M=function(t,e,r){var n={x:e.x-t.x,y:e.y-t.y},o={x:r.x-t.x,y:r.y-t.y};return b(o,n)/E(o)/E(n)},w=function(t,e,r){return 0===e.y?null:{x:t.x+e.x/e.y*(r-t.y),y:r}},S=function(t,e,r){return 0===e.x?null:{x:r,y:t.y+e.y/e.x*(r-t.x)}},_=function(t,e,r,n){if(0===e.x)return S(r,n,t.x);if(0===n.x)return S(t,e,r.x);if(0===e.y)return w(r,n,t.y);if(0===n.y)return w(t,e,r.y);var o=m(e,n);if(0==o)return null;var i={x:r.x-t.x,y:r.y-t.y},a=m(i,e)/o,s=m(i,n)/o;return{x:(t.x+s*e.x+(r.x+a*n.x))/2,y:(t.y+s*e.y+(r.y+a*n.y))/2}},O=function(){function e(r,n){t(this,e),void 0===r.events?r.events=[this]:r.events.push(this),this.point=r,this.isLeft=n}return r(e,null,[{key:"compare",value:function(t,r){var n=e.comparePoints(t.point,r.point);return 0!==n?n:(t.point!==r.point&&t.link(r),t.isLeft!==r.isLeft)?t.isLeft?1:-1:A.compare(t.segment,r.segment)}},{key:"comparePoints",value:function(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}}]),r(e,[{key:"link",value:function(t){if(t.point===this.point)throw Error("Tried to link already linked events");for(var e=t.point.events,r=0,n=e.length;r<n;r++){var o=e[r];this.point.events.push(o),o.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var t=this.point.events.length,e=0;e<t;e++){var r=this.point.events[e];if(void 0===r.segment.consumedBy)for(var n=e+1;n<t;n++){var o=this.point.events[n];void 0===o.consumedBy&&r.otherSE.point.events===o.otherSE.point.events&&r.segment.consume(o.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var t=[],e=0,r=this.point.events.length;e<r;e++){var n=this.point.events[e];n!==this&&!n.segment.ringOut&&n.segment.isInResult()&&t.push(n)}return t}},{key:"getLeftmostComparator",value:function(t){var e=this,r=new Map,n=function(n){var o=n.otherSE;r.set(n,{sine:P(e.point,t.point,o.point),cosine:M(e.point,t.point,o.point)})};return function(t,e){r.has(t)||n(t),r.has(e)||n(e);var o=r.get(t),i=o.sine,a=o.cosine,s=r.get(e),u=s.sine,l=s.cosine;return i>=0&&u>=0?a<l?1:a>l?-1:0:i<0&&u<0?a<l?-1:a>l?1:0:u<i?-1:u>i?1:0}}}]),e}(),j=0,A=function(){function e(r,n,o,i){t(this,e),this.id=++j,this.leftSE=r,r.segment=this,r.otherSE=n,this.rightSE=n,n.segment=this,n.otherSE=r,this.rings=o,this.windings=i}return r(e,null,[{key:"compare",value:function(t,e){var r=t.leftSE.point.x,n=e.leftSE.point.x,o=t.rightSE.point.x,i=e.rightSE.point.x;if(i<r)return 1;if(o<n)return -1;var a=t.leftSE.point.y,s=e.leftSE.point.y,u=t.rightSE.point.y,l=e.rightSE.point.y;if(r<n){if(s<a&&s<u)return 1;if(s>a&&s>u)return -1;var c=t.comparePoint(e.leftSE.point);if(c<0)return 1;if(c>0)return -1;var f=e.comparePoint(t.rightSE.point);return 0!==f?f:-1}if(r>n){if(a<s&&a<l)return -1;if(a>s&&a>l)return 1;var h=e.comparePoint(t.leftSE.point);if(0!==h)return h;var p=t.comparePoint(e.rightSE.point);return p<0?1:p>0?-1:1}if(a<s)return -1;if(a>s)return 1;if(o<i){var d=e.comparePoint(t.rightSE.point);if(0!==d)return d}if(o>i){var g=t.comparePoint(e.rightSE.point);if(g<0)return 1;if(g>0)return -1}if(o!==i){var v=u-a,y=o-r,m=l-s,b=i-n;if(v>y&&m<b)return 1;if(v<y&&m>b)return -1}return o>i?1:o<i||u<l?-1:u>l?1:t.id<e.id?-1:t.id>e.id?1:0}}]),r(e,[{key:"replaceRightSE",value:function(t){this.rightSE=t,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var t=this.leftSE.point.y,e=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:t<e?t:e},ur:{x:this.rightSE.point.x,y:t>e?t:e}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(t){return t.x===this.leftSE.point.x&&t.y===this.leftSE.point.y||t.x===this.rightSE.point.x&&t.y===this.rightSE.point.y}},{key:"comparePoint",value:function(t){if(this.isAnEndpoint(t))return 0;var e=this.leftSE.point,r=this.rightSE.point,n=this.vector();if(e.x===r.x)return t.x===e.x?0:t.x<e.x?1:-1;var o=(t.y-e.y)/n.y,i=e.x+o*n.x;if(t.x===i)return 0;var a=(t.x-e.x)/n.x,s=e.y+a*n.y;return t.y===s?0:t.y<s?-1:1}},{key:"getIntersection",value:function(t){var e=this.bbox(),r=t.bbox(),n=f(e,r);if(null===n)return null;var o=this.leftSE.point,i=this.rightSE.point,a=t.leftSE.point,s=t.rightSE.point,u=c(e,a)&&0===this.comparePoint(a),l=c(r,o)&&0===t.comparePoint(o),h=c(e,s)&&0===this.comparePoint(s),p=c(r,i)&&0===t.comparePoint(i);if(l&&u)return p&&!h?i:!p&&h?s:null;if(l)return h&&o.x===s.x&&o.y===s.y?null:o;if(u)return p&&i.x===a.x&&i.y===a.y?null:a;if(p&&h)return null;if(p)return i;if(h)return s;var d=_(o,this.vector(),a,t.vector());return null!==d&&c(n,d)?y.round(d.x,d.y):null}},{key:"split",value:function(t){var r=[],n=void 0!==t.events,o=new O(t,!0),i=new O(t,!1),a=this.rightSE;this.replaceRightSE(i),r.push(i),r.push(o);var s=new e(o,a,this.rings.slice(),this.windings.slice());return O.comparePoints(s.leftSE.point,s.rightSE.point)>0&&s.swapEvents(),O.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),n&&(o.checkForConsuming(),i.checkForConsuming()),r}},{key:"swapEvents",value:function(){var t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var e=0,r=this.windings.length;e<r;e++)this.windings[e]*=-1}},{key:"consume",value:function(t){for(var r=this,n=t;r.consumedBy;)r=r.consumedBy;for(;n.consumedBy;)n=n.consumedBy;var o=e.compare(r,n);if(0!==o){if(o>0){var i=r;r=n,n=i}if(r.prev===n){var a=r;r=n,n=a}for(var s=0,u=n.rings.length;s<u;s++){var l=n.rings[s],c=n.windings[s],f=r.rings.indexOf(l);-1===f?(r.rings.push(l),r.windings.push(c)):r.windings[f]+=c}n.rings=null,n.windings=null,n.consumedBy=r,n.leftSE.consumedBy=r.leftSE,n.rightSE.consumedBy=r.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){var t=this.prev.consumedBy||this.prev;this._beforeState=t.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var t=this.beforeState();this._afterState={rings:t.rings.slice(0),windings:t.windings.slice(0),multiPolys:[]};for(var e=this._afterState.rings,r=this._afterState.windings,n=this._afterState.multiPolys,o=0,i=this.rings.length;o<i;o++){var a=this.rings[o],s=this.windings[o],u=e.indexOf(a);-1===u?(e.push(a),r.push(s)):r[u]+=s}for(var l=[],c=[],f=0,h=e.length;f<h;f++)if(0!==r[f]){var p=e[f],d=p.poly;if(-1===c.indexOf(d)){if(p.isExterior)l.push(d);else{-1===c.indexOf(d)&&c.push(d);var g=l.indexOf(p.poly);-1!==g&&l.splice(g,1)}}}for(var v=0,y=l.length;v<y;v++){var m=l[v].multiPoly;-1===n.indexOf(m)&&n.push(m)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var t,e,r=this.beforeState().multiPolys,n=this.afterState().multiPolys;switch(B.type){case"union":var o=0===r.length,i=0===n.length;this._isInResult=o!==i;break;case"intersection":r.length<n.length?(t=r.length,e=n.length):(t=n.length,e=r.length),this._isInResult=e===B.numMultiPolys&&t<e;break;case"xor":var a=Math.abs(r.length-n.length);this._isInResult=a%2==1;break;case"difference":var s=function(t){return 1===t.length&&t[0].isSubject};this._isInResult=s(r)!==s(n);break;default:throw Error("Unrecognized operation type found ".concat(B.type))}return this._isInResult}}],[{key:"fromRing",value:function(t,r,n){var o,i,a,s=O.comparePoints(t,r);if(s<0)o=t,i=r,a=1;else if(s>0)o=r,i=t,a=-1;else throw Error("Tried to create degenerate segment at [".concat(t.x,", ").concat(t.y,"]"));var u=new O(o,!0),l=new O(i,!1);return new e(u,l,[n],[a])}}]),e}(),C=function(){function e(r,n,o){if(t(this,e),!Array.isArray(r)||0===r.length||(this.poly=n,this.isExterior=o,this.segments=[],"number"!=typeof r[0][0]||"number"!=typeof r[0][1]))throw Error("Input geometry is not a valid Polygon or MultiPolygon");var i=y.round(r[0][0],r[0][1]);this.bbox={ll:{x:i.x,y:i.y},ur:{x:i.x,y:i.y}};for(var a=i,s=1,u=r.length;s<u;s++){if("number"!=typeof r[s][0]||"number"!=typeof r[s][1])throw Error("Input geometry is not a valid Polygon or MultiPolygon");var l=y.round(r[s][0],r[s][1]);(l.x!==a.x||l.y!==a.y)&&(this.segments.push(A.fromRing(a,l,this)),l.x<this.bbox.ll.x&&(this.bbox.ll.x=l.x),l.y<this.bbox.ll.y&&(this.bbox.ll.y=l.y),l.x>this.bbox.ur.x&&(this.bbox.ur.x=l.x),l.y>this.bbox.ur.y&&(this.bbox.ur.y=l.y),a=l)}(i.x!==a.x||i.y!==a.y)&&this.segments.push(A.fromRing(a,i,this))}return r(e,[{key:"getSweepEvents",value:function(){for(var t=[],e=0,r=this.segments.length;e<r;e++){var n=this.segments[e];t.push(n.leftSE),t.push(n.rightSE)}return t}}]),e}(),k=function(){function e(r,n){if(t(this,e),!Array.isArray(r))throw Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new C(r[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var o=1,i=r.length;o<i;o++){var a=new C(r[o],this,!1);a.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=a.bbox.ll.x),a.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=a.bbox.ll.y),a.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=a.bbox.ur.x),a.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=a.bbox.ur.y),this.interiorRings.push(a)}this.multiPoly=n}return r(e,[{key:"getSweepEvents",value:function(){for(var t=this.exteriorRing.getSweepEvents(),e=0,r=this.interiorRings.length;e<r;e++)for(var n=this.interiorRings[e].getSweepEvents(),o=0,i=n.length;o<i;o++)t.push(n[o]);return t}}]),e}(),L=function(){function e(r,n){if(t(this,e),!Array.isArray(r))throw Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof r[0][0][0]&&(r=[r])}catch(t){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var o=0,i=r.length;o<i;o++){var a=new k(r[o],this);a.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=a.bbox.ll.x),a.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=a.bbox.ll.y),a.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=a.bbox.ur.x),a.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=a.bbox.ur.y),this.polys.push(a)}this.isSubject=n}return r(e,[{key:"getSweepEvents",value:function(){for(var t=[],e=0,r=this.polys.length;e<r;e++)for(var n=this.polys[e].getSweepEvents(),o=0,i=n.length;o<i;o++)t.push(n[o]);return t}}]),e}(),I=function(){function e(r){t(this,e),this.events=r;for(var n=0,o=r.length;n<o;n++)r[n].segment.ringOut=this;this.poly=null}return r(e,null,[{key:"factory",value:function(t){for(var r=[],n=0,o=t.length;n<o;n++){var i=t[n];if(i.isInResult()&&!i.ringOut){for(var a=null,s=i.leftSE,u=i.rightSE,l=[s],c=s.point,f=[];a=s,s=u,l.push(s),s.point!==c;)for(;;){var h=s.getAvailableLinkedEvents();if(0===h.length){var p=l[0].point,d=l[l.length-1].point;throw Error("Unable to complete output ring starting at [".concat(p.x,",")+" ".concat(p.y,"]. Last matching segment found ends at")+" [".concat(d.x,", ").concat(d.y,"]."))}if(1===h.length){u=h[0].otherSE;break}for(var g=null,v=0,y=f.length;v<y;v++)if(f[v].point===s.point){g=v;break}if(null!==g){var m=f.splice(g)[0],b=l.splice(m.index);b.unshift(b[0].otherSE),r.push(new e(b.reverse()));continue}f.push({index:l.length,point:s.point});var x=s.getLeftmostComparator(a);u=h.sort(x)[0].otherSE;break}r.push(new e(l))}}return r}}]),r(e,[{key:"getGeom",value:function(){for(var t=this.events[0].point,e=[t],r=1,n=this.events.length-1;r<n;r++){var o=this.events[r].point;0!==x(o,t,this.events[r+1].point)&&(e.push(o),t=o)}if(1===e.length)return null;var i=e[0],a=e[1];0===x(i,t,a)&&e.shift(),e.push(e[0]);for(var s=this.isExteriorRing()?1:-1,u=this.isExteriorRing()?0:e.length-1,l=this.isExteriorRing()?e.length:-1,c=[],f=u;f!=l;f+=s)c.push([e[f].x,e[f].y]);return c}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var t=this.enclosingRing();this._isExteriorRing=!t||!t.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var t=this.events[0],e=1,r=this.events.length;e<r;e++){var n=this.events[e];O.compare(t,n)>0&&(t=n)}for(var o=t.segment.prevInResult(),i=o?o.prevInResult():null;;){if(!o)return null;if(!i)return o.ringOut;if(i.ringOut!==o.ringOut){if(i.ringOut.enclosingRing()!==o.ringOut)return o.ringOut;return o.ringOut.enclosingRing()}i=(o=i.prevInResult())?o.prevInResult():null}}}]),e}(),R=function(){function e(r){t(this,e),this.exteriorRing=r,r.poly=this,this.interiorRings=[]}return r(e,[{key:"addInterior",value:function(t){this.interiorRings.push(t),t.poly=this}},{key:"getGeom",value:function(){var t=[this.exteriorRing.getGeom()];if(null===t[0])return null;for(var e=0,r=this.interiorRings.length;e<r;e++){var n=this.interiorRings[e].getGeom();null!==n&&t.push(n)}return t}}]),e}(),T=function(){function e(r){t(this,e),this.rings=r,this.polys=this._composePolys(r)}return r(e,[{key:"getGeom",value:function(){for(var t=[],e=0,r=this.polys.length;e<r;e++){var n=this.polys[e].getGeom();null!==n&&t.push(n)}return t}},{key:"_composePolys",value:function(t){for(var e=[],r=0,n=t.length;r<n;r++){var o=t[r];if(!o.poly){if(o.isExteriorRing())e.push(new R(o));else{var i=o.enclosingRing();i.poly||e.push(new R(i)),i.poly.addInterior(o)}}}return e}}]),e}(),D=function(){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A.compare;t(this,e),this.queue=r,this.tree=new l(n),this.segments=[]}return r(e,[{key:"process",value:function(t){var e=t.segment,r=[];if(t.consumedBy)return t.isLeft?this.queue.remove(t.otherSE):this.tree.remove(e),r;var n=t.isLeft?this.tree.insert(e):this.tree.find(e);if(!n)throw Error("Unable to find segment #".concat(e.id," ")+"[".concat(e.leftSE.point.x,", ").concat(e.leftSE.point.y,"] -> ")+"[".concat(e.rightSE.point.x,", ").concat(e.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var o=n,i=n,a=void 0,s=void 0;void 0===a;)null===(o=this.tree.prev(o))?a=null:void 0===o.key.consumedBy&&(a=o.key);for(;void 0===s;)null===(i=this.tree.next(i))?s=null:void 0===i.key.consumedBy&&(s=i.key);if(t.isLeft){var u=null;if(a){var l=a.getIntersection(e);if(null!==l&&(e.isAnEndpoint(l)||(u=l),!a.isAnEndpoint(l)))for(var c=this._splitSafely(a,l),f=0,h=c.length;f<h;f++)r.push(c[f])}var p=null;if(s){var d=s.getIntersection(e);if(null!==d&&(e.isAnEndpoint(d)||(p=d),!s.isAnEndpoint(d)))for(var g=this._splitSafely(s,d),v=0,y=g.length;v<y;v++)r.push(g[v])}if(null!==u||null!==p){var m=null;m=null===u?p:null===p?u:0>=O.comparePoints(u,p)?u:p,this.queue.remove(e.rightSE),r.push(e.rightSE);for(var b=e.split(m),x=0,E=b.length;x<E;x++)r.push(b[x])}r.length>0?(this.tree.remove(e),r.push(t)):(this.segments.push(e),e.prev=a)}else{if(a&&s){var P=a.getIntersection(s);if(null!==P){if(!a.isAnEndpoint(P))for(var M=this._splitSafely(a,P),w=0,S=M.length;w<S;w++)r.push(M[w]);if(!s.isAnEndpoint(P))for(var _=this._splitSafely(s,P),j=0,A=_.length;j<A;j++)r.push(_[j])}}this.tree.remove(e)}return r}},{key:"_splitSafely",value:function(t,e){this.tree.remove(t);var r=t.rightSE;this.queue.remove(r);var n=t.split(e);return n.push(r),void 0===t.consumedBy&&this.tree.insert(t),n}}]),e}(),N=void 0!==n&&n.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,F=void 0!==n&&n.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,B=new(function(){function e(){t(this,e)}return r(e,[{key:"run",value:function(t,e,r){B.type=t,y.reset();for(var n=[new L(e,!0)],o=0,i=r.length;o<i;o++)n.push(new L(r[o],!1));if(B.numMultiPolys=n.length,"difference"===B.type)for(var a=n[0],s=1;s<n.length;)null!==f(n[s].bbox,a.bbox)?s++:n.splice(s,1);if("intersection"===B.type){for(var u=0,c=n.length;u<c;u++)for(var h=n[u],p=u+1,d=n.length;p<d;p++)if(null===f(h.bbox,n[p].bbox))return[]}for(var g=new l(O.compare),v=0,m=n.length;v<m;v++)for(var b=n[v].getSweepEvents(),x=0,E=b.length;x<E;x++)if(g.insert(b[x]),g.size>N)throw Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var P=new D(g),M=g.size,w=g.pop();w;){var S=w.key;if(g.size===M){var _=S.segment;throw Error("Unable to pop() ".concat(S.isLeft?"left":"right"," SweepEvent ")+"[".concat(S.point.x,", ").concat(S.point.y,"] from segment #").concat(_.id," ")+"[".concat(_.leftSE.point.x,", ").concat(_.leftSE.point.y,"] -> ")+"[".concat(_.rightSE.point.x,", ").concat(_.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(g.size>N)throw Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(P.segments.length>F)throw Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var j=P.process(S),A=0,C=j.length;A<C;A++){var k=j[A];void 0===k.consumedBy&&g.insert(k)}M=g.size,w=g.pop()}y.reset();var R=I.factory(P.segments);return new T(R).getGeom()}}]),e}());return{union:function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return B.run("union",t,r)},intersection:function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return B.run("intersection",t,r)},xor:function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return B.run("xor",t,r)},difference:function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return B.run("difference",t,r)}}}()},176:function(t){t.exports=function(){"use strict";function t(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function e(t,e){return t<e?-1:t>e?1:0}return function(r,n,o,i,a){!function e(r,n,o,i,a){for(;i>o;){if(i-o>600){var s=i-o+1,u=n-o+1,l=Math.log(s),c=.5*Math.exp(2*l/3),f=.5*Math.sqrt(l*c*(s-c)/s)*(u-s/2<0?-1:1),h=Math.max(o,Math.floor(n-u*c/s+f)),p=Math.min(i,Math.floor(n+(s-u)*c/s+f));e(r,n,h,p,a)}var d=r[n],g=o,v=i;for(t(r,o,n),a(r[i],d)>0&&t(r,o,i);g<v;){for(t(r,g,v),g++,v--;0>a(r[g],d);)g++;for(;a(r[v],d)>0;)v--}0===a(r[o],d)?t(r,o,v):t(r,++v,i),v<=n&&(o=v+1),n<=v&&(i=v-1)}}(r,n,o||0,i||r.length-1,a||e)}}()},1461:function(t,e,r){"use strict";t.exports=o,t.exports.default=o;var n=r(176);function o(t,e){if(!(this instanceof o))return new o(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function i(t,e){a(t,0,t.children.length,e,t)}function a(t,e,r,n,o){o||(o=d(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var i,a=e;a<r;a++)i=t.children[a],s(o,t.leaf?n(i):i);return o}function s(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function u(t,e){return t.minX-e.minX}function l(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function f(t){return t.maxX-t.minX+(t.maxY-t.minY)}function h(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function p(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function d(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(t,e,r,o,i){for(var a,s=[e,r];s.length;)r=s.pop(),e=s.pop(),r-e<=o||(n(t,a=e+Math.ceil((r-e)/o/2)*o,e,r,i),s.push(e,a,a,r))}o.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,r=[],n=this.toBBox;if(!p(t,e))return r;for(var o,i,a,s,u=[];e;){for(o=0,i=e.children.length;o<i;o++)a=e.children[o],p(t,s=e.leaf?n(a):a)&&(e.leaf?r.push(a):h(t,s)?this._all(a,r):u.push(a));e=u.pop()}return r},collides:function(t){var e=this.data,r=this.toBBox;if(!p(t,e))return!1;for(var n,o,i,a,s=[];e;){for(n=0,o=e.children.length;n<o;n++)if(i=e.children[n],p(t,a=e.leaf?r(i):i)){if(e.leaf||h(t,a))return!0;s.push(i)}e=s.pop()}return!1},load:function(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(var e=0,r=t.length;e<r;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length){if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var o=this.data;this.data=n,n=o}this._insert(n,this.data.height-n.height-1,!0)}}else this.data=n;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=d([]),this},remove:function(t,e){if(!t)return this;for(var r,n,o,i,a=this.data,s=this.toBBox(t),u=[],l=[];a||u.length;){if(a||(a=u.pop(),n=u[u.length-1],r=l.pop(),i=!0),a.leaf&&-1!==(o=function(t,e,r){if(!r)return e.indexOf(t);for(var n=0;n<e.length;n++)if(r(t,e[n]))return n;return -1}(t,a.children,e))){a.children.splice(o,1),u.push(a),this._condense(u);break}!i&&!a.leaf&&h(a,s)?(u.push(a),l.push(r),r=0,n=a,a=a.children[0]):n?(r++,a=n.children[r],i=!1):a=null}return this},toBBox:function(t){return t},compareMinX:u,compareMinY:l,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var r=[];t;)t.leaf?e.push.apply(e,t.children):r.push.apply(r,t.children),t=r.pop();return e},_build:function(t,e,r,n){var o,a=r-e+1,s=this._maxEntries;if(a<=s)return i(o=d(t.slice(e,r+1)),this.toBBox),o;n||(n=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,n-1))),(o=d([])).leaf=!1,o.height=n;var u,l,c,f,h=Math.ceil(a/s),p=h*Math.ceil(Math.sqrt(s));for(g(t,e,r,p,this.compareMinX),u=e;u<=r;u+=p)for(c=Math.min(u+p-1,r),g(t,u,c,h,this.compareMinY),l=u;l<=c;l+=h)f=Math.min(l+h-1,c),o.children.push(this._build(t,l,f,n-1));return i(o,this.toBBox),o},_chooseSubtree:function(t,e,r,n){for(var o,i,a,s,u,l,f,h;n.push(e),!e.leaf&&n.length-1!==r;){for(o=0,f=h=1/0,i=e.children.length;o<i;o++)u=c(a=e.children[o]),(l=(Math.max(a.maxX,t.maxX)-Math.min(a.minX,t.minX))*(Math.max(a.maxY,t.maxY)-Math.min(a.minY,t.minY))-u)<h?(h=l,f=u<f?u:f,s=a):l===h&&u<f&&(f=u,s=a);e=s||e.children[0]}return e},_insert:function(t,e,r){var n=this.toBBox,o=r?t:n(t),i=[],a=this._chooseSubtree(o,this.data,e,i);for(a.children.push(t),s(a,o);e>=0;)if(i[e].children.length>this._maxEntries)this._split(i,e),e--;else break;this._adjustParentBBoxes(o,i,e)},_split:function(t,e){var r=t[e],n=r.children.length,o=this._minEntries;this._chooseSplitAxis(r,o,n);var a=this._chooseSplitIndex(r,o,n),s=d(r.children.splice(a,r.children.length-a));s.height=r.height,s.leaf=r.leaf,i(r,this.toBBox),i(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(r,s)},_splitRoot:function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.leaf=!1,i(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,r){var n,o,i,s,u,l,f,h;for(l=f=1/0,n=e;n<=r-e;n++)s=function(t,e){var r=Math.max(t.minX,e.minX),n=Math.max(t.minY,e.minY);return Math.max(0,Math.min(t.maxX,e.maxX)-r)*Math.max(0,Math.min(t.maxY,e.maxY)-n)}(o=a(t,0,n,this.toBBox),i=a(t,n,r,this.toBBox)),u=c(o)+c(i),s<l?(l=s,h=n,f=u<f?u:f):s===l&&u<f&&(f=u,h=n);return h},_chooseSplitAxis:function(t,e,r){var n=t.leaf?this.compareMinX:u,o=t.leaf?this.compareMinY:l;this._allDistMargin(t,e,r,n)<this._allDistMargin(t,e,r,o)&&t.children.sort(n)},_allDistMargin:function(t,e,r,n){t.children.sort(n);var o,i,u=this.toBBox,l=a(t,0,e,u),c=a(t,r-e,r,u),h=f(l)+f(c);for(o=e;o<r-e;o++)i=t.children[o],s(l,t.leaf?u(i):i),h+=f(l);for(o=r-e-1;o>=e;o--)i=t.children[o],s(c,t.leaf?u(i):i),h+=f(c);return h},_adjustParentBBoxes:function(t,e,r){for(var n=r;n>=0;n--)s(e[n],t)},_condense:function(t){for(var e,r=t.length-1;r>=0;r--)0===t[r].children.length?r>0?(e=t[r-1].children).splice(e.indexOf(t[r]),1):this.clear():i(t[r],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=Function("a","b",e.join(t[0])),this.compareMinY=Function("a","b",e.join(t[1])),this.toBBox=Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},2491:function(t){t.exports=function(){"use strict";function t(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function e(t,e){return t<e?-1:t>e?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function n(t,e){o(t,0,t.children.length,e,t)}function o(t,e,r,n,o){o||(o=h(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var a=e;a<r;a++){var s=t.children[a];i(o,t.leaf?n(s):s)}return o}function i(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function a(t,e){return t.minX-e.minX}function s(t,e){return t.minY-e.minY}function u(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function l(t){return t.maxX-t.minX+(t.maxY-t.minY)}function c(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function f(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function h(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function p(r,n,o,i,a){for(var s=[n,o];s.length;)if(!((o=s.pop())-(n=s.pop())<=i)){var u=n+Math.ceil((o-n)/i/2)*i;(function e(r,n,o,i,a){for(;i>o;){if(i-o>600){var s=i-o+1,u=n-o+1,l=Math.log(s),c=.5*Math.exp(2*l/3),f=.5*Math.sqrt(l*c*(s-c)/s)*(u-s/2<0?-1:1),h=Math.max(o,Math.floor(n-u*c/s+f)),p=Math.min(i,Math.floor(n+(s-u)*c/s+f));e(r,n,h,p,a)}var d=r[n],g=o,v=i;for(t(r,o,n),a(r[i],d)>0&&t(r,o,i);g<v;){for(t(r,g,v),g++,v--;0>a(r[g],d);)g++;for(;a(r[v],d)>0;)v--}0===a(r[o],d)?t(r,o,v):t(r,++v,i),v<=n&&(o=v+1),n<=v&&(i=v-1)}})(r,u,n||0,o||r.length-1,a||e),s.push(n,u,u,o)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var e=this.data,r=[];if(!f(t,e))return r;for(var n=this.toBBox,o=[];e;){for(var i=0;i<e.children.length;i++){var a=e.children[i],s=e.leaf?n(a):a;f(t,s)&&(e.leaf?r.push(a):c(t,s)?this._all(a,r):o.push(a))}e=o.pop()}return r},r.prototype.collides=function(t){var e=this.data;if(!f(t,e))return!1;for(var r=[];e;){for(var n=0;n<e.children.length;n++){var o=e.children[n],i=e.leaf?this.toBBox(o):o;if(f(t,i)){if(e.leaf||c(t,i))return!0;r.push(o)}}e=r.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length){if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var n=this.data;this.data=r,r=n}this._insert(r,this.data.height-r.height-1,!0)}}else this.data=r;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=h([]),this},r.prototype.remove=function(t,e){if(!t)return this;for(var r,n,o,i=this.data,a=this.toBBox(t),s=[],u=[];i||s.length;){if(i||(i=s.pop(),n=s[s.length-1],r=u.pop(),o=!0),i.leaf){var l=function(t,e,r){if(!r)return e.indexOf(t);for(var n=0;n<e.length;n++)if(r(t,e[n]))return n;return -1}(t,i.children,e);if(-1!==l)return i.children.splice(l,1),s.push(i),this._condense(s),this}o||i.leaf||!c(i,a)?n?(r++,i=n.children[r],o=!1):i=null:(s.push(i),u.push(r),r=0,n=i,i=i.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,e){return t.minX-e.minX},r.prototype.compareMinY=function(t,e){return t.minY-e.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,e){for(var r=[];t;)t.leaf?e.push.apply(e,t.children):r.push.apply(r,t.children),t=r.pop();return e},r.prototype._build=function(t,e,r,o){var i,a=r-e+1,s=this._maxEntries;if(a<=s)return n(i=h(t.slice(e,r+1)),this.toBBox),i;o||(o=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,o-1))),(i=h([])).leaf=!1,i.height=o;var u=Math.ceil(a/s),l=u*Math.ceil(Math.sqrt(s));p(t,e,r,l,this.compareMinX);for(var c=e;c<=r;c+=l){var f=Math.min(c+l-1,r);p(t,c,f,u,this.compareMinY);for(var d=c;d<=f;d+=u){var g=Math.min(d+u-1,f);i.children.push(this._build(t,d,g,o-1))}}return n(i,this.toBBox),i},r.prototype._chooseSubtree=function(t,e,r,n){for(;n.push(e),!e.leaf&&n.length-1!==r;){for(var o=1/0,i=1/0,a=void 0,s=0;s<e.children.length;s++){var l=e.children[s],c=u(l),f=(Math.max(l.maxX,t.maxX)-Math.min(l.minX,t.minX))*(Math.max(l.maxY,t.maxY)-Math.min(l.minY,t.minY))-c;f<i?(i=f,o=c<o?c:o,a=l):f===i&&c<o&&(o=c,a=l)}e=a||e.children[0]}return e},r.prototype._insert=function(t,e,r){var n=r?t:this.toBBox(t),o=[],a=this._chooseSubtree(n,this.data,e,o);for(a.children.push(t),i(a,n);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(n,o,e)},r.prototype._split=function(t,e){var r=t[e],o=r.children.length,i=this._minEntries;this._chooseSplitAxis(r,i,o);var a=this._chooseSplitIndex(r,i,o),s=h(r.children.splice(a,r.children.length-a));s.height=r.height,s.leaf=r.leaf,n(r,this.toBBox),n(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(r,s)},r.prototype._splitRoot=function(t,e){this.data=h([t,e]),this.data.height=t.height+1,this.data.leaf=!1,n(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,e,r){for(var n,i,a,s,l=1/0,c=1/0,f=e;f<=r-e;f++){var h=o(t,0,f,this.toBBox),p=o(t,f,r,this.toBBox),d=(i=void 0,a=void 0,i=Math.max(h.minX,p.minX),a=Math.max(h.minY,p.minY),Math.max(0,Math.min(h.maxX,p.maxX)-i)*Math.max(0,Math.min(h.maxY,p.maxY)-a)),g=u(h)+u(p);d<l?(l=d,n=f,c=g<c?g:c):d===l&&g<c&&(c=g,n=f)}return n||r-e},r.prototype._chooseSplitAxis=function(t,e,r){var n=t.leaf?this.compareMinX:a,o=t.leaf?this.compareMinY:s;this._allDistMargin(t,e,r,n)<this._allDistMargin(t,e,r,o)&&t.children.sort(n)},r.prototype._allDistMargin=function(t,e,r,n){t.children.sort(n);for(var a=this.toBBox,s=o(t,0,e,a),u=o(t,r-e,r,a),c=l(s)+l(u),f=e;f<r-e;f++){var h=t.children[f];i(s,t.leaf?a(h):h),c+=l(s)}for(var p=r-e-1;p>=e;p--){var d=t.children[p];i(u,t.leaf?a(d):d),c+=l(u)}return c},r.prototype._adjustParentBBoxes=function(t,e,r){for(var n=r;n>=0;n--)i(e[n],t)},r.prototype._condense=function(t){for(var e=t.length-1,r=void 0;e>=0;e--)0===t[e].children.length?e>0?(r=t[e-1].children).splice(r.indexOf(t[e]),1):this.clear():n(t[e],this.toBBox)},r}()},5698:function(t,e,r){"use strict";var n=r(1138).functionsHaveConfigurableNames(),o=Object,i=TypeError;t.exports=function(){if(this!=null&&this!==o(this))throw new i("RegExp.prototype.flags getter called on non-object");var t="";return this.hasIndices&&(t+="d"),this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.unicodeSets&&(t+="v"),this.sticky&&(t+="y"),t},n&&Object.defineProperty&&Object.defineProperty(t.exports,"name",{value:"get flags"})},6593:function(t,e,r){"use strict";var n=r(639),o=r(8226),i=r(5698),a=r(8675),s=r(1375),u=o(a());n(u,{getPolyfill:a,implementation:i,shim:s}),t.exports=u},8675:function(t,e,r){"use strict";var n=r(5698),o=r(639).supportsDescriptors,i=Object.getOwnPropertyDescriptor;t.exports=function(){if(o&&"gim"===/a/mig.flags){var t=i(RegExp.prototype,"flags");if(t&&"function"==typeof t.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var e="",r={};if(Object.defineProperty(r,"hasIndices",{get:function(){e+="d"}}),Object.defineProperty(r,"sticky",{get:function(){e+="y"}}),"dy"===e)return t.get}}return n}},1375:function(t,e,r){"use strict";var n=r(639).supportsDescriptors,o=r(8675),i=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,u=Object.getPrototypeOf,l=/a/;t.exports=function(){if(!n||!u)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=o(),e=u(l),r=i(e,"flags");return r&&r.get===t||a(e,"flags",{configurable:!0,enumerable:!1,get:t}),t}},5932:function(t,e){!function(t){"use strict";function e(t,e,r,n,o){let i,a,s,u,l=e[0],c=n[0],f=0,h=0;c>l==c>-l?(i=l,l=e[++f]):(i=c,c=n[++h]);let p=0;if(f<t&&h<r)for(c>l==c>-l?(s=i-((a=l+i)-l),l=e[++f]):(s=i-((a=c+i)-c),c=n[++h]),i=a,0!==s&&(o[p++]=s);f<t&&h<r;)c>l==c>-l?(s=i-((a=i+l)-(u=a-i))+(l-u),l=e[++f]):(s=i-((a=i+c)-(u=a-i))+(c-u),c=n[++h]),i=a,0!==s&&(o[p++]=s);for(;f<t;)s=i-((a=i+l)-(u=a-i))+(l-u),l=e[++f],i=a,0!==s&&(o[p++]=s);for(;h<r;)s=i-((a=i+c)-(u=a-i))+(c-u),c=n[++h],i=a,0!==s&&(o[p++]=s);return 0===i&&0!==p||(o[p++]=i),p}function r(t){return new Float64Array(t)}let n=r(4),o=r(8),i=r(12),a=r(16),s=r(4);t.orient2d=function(t,r,u,l,c,f){let h=(r-f)*(u-c),p=(t-c)*(l-f),d=h-p;if(0===h||0===p||h>0!=p>0)return d;let g=Math.abs(h+p);return Math.abs(d)>=33306690738754716e-32*g?d:-function(t,r,u,l,c,f,h){let p,d,g,v,y,m,b,x,E,P,M,w,S,_,O,j,A,C;let k=t-c,L=u-c,I=r-f,R=l-f;y=(O=(x=k-(b=(m=134217729*k)-(m-k)))*(P=R-(E=(m=134217729*R)-(m-R)))-((_=k*R)-b*E-x*E-b*P))-(M=O-(A=(x=I-(b=(m=134217729*I)-(m-I)))*(P=L-(E=(m=134217729*L)-(m-L)))-((j=I*L)-b*E-x*E-b*P))),n[0]=O-(M+y)+(y-A),y=(S=_-((w=_+M)-(y=w-_))+(M-y))-(M=S-j),n[1]=S-(M+y)+(y-j),y=(C=w+M)-w,n[2]=w-(C-y)+(M-y),n[3]=C;let T=function(t,e){let r=e[0];for(let t=1;t<4;t++)r+=e[t];return r}(0,n),D=22204460492503146e-32*h;if(T>=D||-T>=D||(p=t-(k+(y=t-k))+(y-c),g=u-(L+(y=u-L))+(y-c),d=r-(I+(y=r-I))+(y-f),v=l-(R+(y=l-R))+(y-f),0===p&&0===d&&0===g&&0===v)||(D=11093356479670487e-47*h+33306690738754706e-32*Math.abs(T),(T+=k*v+R*p-(I*g+L*d))>=D||-T>=D))return T;y=(O=(x=p-(b=(m=134217729*p)-(m-p)))*(P=R-(E=(m=134217729*R)-(m-R)))-((_=p*R)-b*E-x*E-b*P))-(M=O-(A=(x=d-(b=(m=134217729*d)-(m-d)))*(P=L-(E=(m=134217729*L)-(m-L)))-((j=d*L)-b*E-x*E-b*P))),s[0]=O-(M+y)+(y-A),y=(S=_-((w=_+M)-(y=w-_))+(M-y))-(M=S-j),s[1]=S-(M+y)+(y-j),y=(C=w+M)-w,s[2]=w-(C-y)+(M-y),s[3]=C;let N=e(4,n,4,s,o);y=(O=(x=k-(b=(m=134217729*k)-(m-k)))*(P=v-(E=(m=134217729*v)-(m-v)))-((_=k*v)-b*E-x*E-b*P))-(M=O-(A=(x=I-(b=(m=134217729*I)-(m-I)))*(P=g-(E=(m=134217729*g)-(m-g)))-((j=I*g)-b*E-x*E-b*P))),s[0]=O-(M+y)+(y-A),y=(S=_-((w=_+M)-(y=w-_))+(M-y))-(M=S-j),s[1]=S-(M+y)+(y-j),y=(C=w+M)-w,s[2]=w-(C-y)+(M-y),s[3]=C;let F=e(N,o,4,s,i);y=(O=(x=p-(b=(m=134217729*p)-(m-p)))*(P=v-(E=(m=134217729*v)-(m-v)))-((_=p*v)-b*E-x*E-b*P))-(M=O-(A=(x=d-(b=(m=134217729*d)-(m-d)))*(P=g-(E=(m=134217729*g)-(m-g)))-((j=d*g)-b*E-x*E-b*P))),s[0]=O-(M+y)+(y-A),y=(S=_-((w=_+M)-(y=w-_))+(M-y))-(M=S-j),s[1]=S-(M+y)+(y-j),y=(C=w+M)-w,s[2]=w-(C-y)+(M-y),s[3]=C;let B=e(F,i,4,s,a);return a[B-1]}(t,r,u,l,c,f,g)},t.orient2dfast=function(t,e,r,n,o,i){return(e-i)*(r-o)-(t-o)*(n-i)},Object.defineProperty(t,"__esModule",{value:!0})}(e)},1053:function(t){"use strict";t.exports={eudist:function(t,e,r){for(var n=t.length,o=0,i=0;i<n;i++){var a=(t[i]||0)-(e[i]||0);o+=a*a}return r?Math.sqrt(o):o},mandist:function(t,e,r){for(var n=t.length,o=0,i=0;i<n;i++)o+=Math.abs((t[i]||0)-(e[i]||0));return r?Math.sqrt(o):o},dist:function(t,e,r){var n=Math.abs(t-e);return r?n:n*n}}},1471:function(t,e,r){"use strict";var n=r(1053),o=n.eudist,i=n.dist;t.exports={kmrand:function(t,e){for(var r={},n=[],o=e<<2,i=t.length,a=t[0].length>0;n.length<e&&o-- >0;){var s=t[Math.floor(Math.random()*i)],u=a?s.join("_"):""+s;r[u]||(r[u]=!0,n.push(s))}if(!(n.length<e))return n;throw Error("Error initializating clusters")},kmpp:function(t,e){var r=t[0].length?o:i,n=[],a=t.length,s=t[0].length>0,u=t[Math.floor(Math.random()*a)];for(s&&u.join("_"),n.push(u);n.length<e;){for(var l=[],c=n.length,f=0,h=[],p=0;p<a;p++){for(var d=1/0,g=0;g<c;g++){var v=r(t[p],n[g]);v<=d&&(d=v)}l[p]=d}for(var y=0;y<a;y++)f+=l[y];for(var m=0;m<a;m++)h[m]={i:m,v:t[m],pr:l[m]/f,cs:0};h.sort(function(t,e){return t.pr-e.pr}),h[0].cs=h[0].pr;for(var b=1;b<a;b++)h[b].cs=h[b-1].cs+h[b].pr;for(var x=Math.random(),E=0;E<a-1&&h[E++].cs<x;);n.push(h[E-1].v)}return n}}},270:function(t,e,r){"use strict";var n=r(1053),o=r(1471),i=n.eudist,a=(n.mandist,n.dist,o.kmrand),s=o.kmpp;function u(t,e,r){r=r||[];for(var n=0;n<t;n++)r[n]=e;return r}t.exports=function(t,e,r,n){var o=[],l=[],c=[],f=[],h=!1,p=n||1e4,d=t.length,g=t[0].length,v=g>0,y=[];if(r)o="kmrand"==r?a(t,e):"kmpp"==r?s(t,e):r;else for(var m={};o.length<e;){var b=Math.floor(Math.random()*d);m[b]||(m[b]=!0,o.push(t[b]))}do{u(e,0,y);for(var x=0;x<d;x++){for(var E=1/0,P=0,M=0;M<e;M++){var f=v?i(t[x],o[M]):Math.abs(t[x]-o[M]);f<=E&&(E=f,P=M)}c[x]=P,y[P]++}for(var w=[],l=[],S=0;S<e;S++)w[S]=v?u(g,0,w[S]):0,l[S]=o[S];if(v){for(var _=0;_<e;_++)o[_]=[];for(var O=0;O<d;O++)for(var j=w[c[O]],A=t[O],C=0;C<g;C++)j[C]+=A[C];h=!0;for(var k=0;k<e;k++){for(var L=o[k],I=w[k],R=l[k],T=y[k],D=0;D<g;D++)L[D]=I[D]/T||0;if(h){for(var N=0;N<g;N++)if(R[N]!=L[N]){h=!1;break}}}}else{for(var F=0;F<d;F++){var B=c[F];w[B]+=t[F]}for(var V=0;V<e;V++)o[V]=w[V]/y[V]||0;h=!0;for(var q=0;q<e;q++)if(l[q]!=o[q]){h=!1;break}}h=h||--p<=0}while(!h);return{it:1e4-p,k:e,idxs:c,centroids:o}}},1691:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return n}});class n{constructor(t=[],e=o){if(this.data=t,this.length=this.data.length,this.compare=e,this.length>0)for(let t=(this.length>>1)-1;t>=0;t--)this._down(t)}push(t){this.data.push(t),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;let t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this._down(0)),t}peek(){return this.data[0]}_up(t){let{data:e,compare:r}=this,n=e[t];for(;t>0;){let o=t-1>>1,i=e[o];if(r(n,i)>=0)break;e[t]=i,t=o}e[t]=n}_down(t){let{data:e,compare:r}=this,n=this.length>>1,o=e[t];for(;t<n;){let n=(t<<1)+1,i=e[n],a=n+1;if(a<this.length&&0>r(e[a],i)&&(n=a,i=e[a]),r(i,o)>=0)break;e[t]=i,t=n}e[t]=o}}function o(t,e){return t<e?-1:t>e?1:0}},3384:function(t,e,r){"use strict";function n(t){return t}function o(t){if(null==t)return n;var e,r,o=t.scale[0],i=t.scale[1],a=t.translate[0],s=t.translate[1];return function(t,n){n||(e=r=0);var u=2,l=t.length,c=Array(l);for(c[0]=(e+=t[0])*o+a,c[1]=(r+=t[1])*i+s;u<l;)c[u]=t[u],++u;return c}}function i(t){var e,r=o(t.transform),n=1/0,i=1/0,a=-1/0,s=-1/0;function u(t){(t=r(t))[0]<n&&(n=t[0]),t[0]>a&&(a=t[0]),t[1]<i&&(i=t[1]),t[1]>s&&(s=t[1])}for(e in t.arcs.forEach(function(t){for(var e,o=-1,u=t.length;++o<u;)(e=r(t[o],o))[0]<n&&(n=e[0]),e[0]>a&&(a=e[0]),e[1]<i&&(i=e[1]),e[1]>s&&(s=e[1])}),t.objects)!function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Point":u(e.coordinates);break;case"MultiPoint":e.coordinates.forEach(u)}}(t.objects[e]);return[n,i,a,s]}function a(t,e){return"string"==typeof e&&(e=t.objects[e]),"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map(function(e){return s(t,e)})}:s(t,e)}function s(t,e){var r=e.id,n=e.bbox,o=null==e.properties?{}:e.properties,i=u(t,e);return null==r&&null==n?{type:"Feature",properties:o,geometry:i}:null==n?{type:"Feature",id:r,properties:o,geometry:i}:{type:"Feature",id:r,bbox:n,properties:o,geometry:i}}function u(t,e){var r=o(t.transform),n=t.arcs;function i(t){return r(t)}function a(t){for(var e=[],o=0,i=t.length;o<i;++o)!function(t,e){e.length&&e.pop();for(var o=n[t<0?~t:t],i=0,a=o.length;i<a;++i)e.push(r(o[i],i));t<0&&function(t,e){for(var r,n=t.length,o=n-e;o<--n;)r=t[o],t[o++]=t[n],t[n]=r}(e,a)}(t[o],e);return e.length<2&&e.push(e[0]),e}function s(t){for(var e=a(t);e.length<4;)e.push(e[0]);return e}function u(t){return t.map(s)}return function t(e){var r,n=e.type;switch(n){case"GeometryCollection":return{type:n,geometries:e.geometries.map(t)};case"Point":r=i(e.coordinates);break;case"MultiPoint":r=e.coordinates.map(i);break;case"LineString":r=a(e.arcs);break;case"MultiLineString":r=e.arcs.map(a);break;case"Polygon":r=u(e.arcs);break;case"MultiPolygon":r=e.arcs.map(u);break;default:return null}return{type:n,coordinates:r}}(e)}function l(t,e){var r={},n={},o={},i=[],a=-1;function s(t,e){for(var n in t){var o=t[n];delete e[o.start],delete o.start,delete o.end,o.forEach(function(t){r[t<0?~t:t]=1}),i.push(o)}}return e.forEach(function(r,n){var o,i=t.arcs[r<0?~r:r];!(i.length<3)||i[1][0]||i[1][1]||(o=e[++a],e[a]=r,e[n]=o)}),e.forEach(function(e){var r,i,a,s,u,l=(a=(i=t.arcs[e<0?~e:e])[0],t.transform?(r=[0,0],i.forEach(function(t){r[0]+=t[0],r[1]+=t[1]})):r=i[i.length-1],e<0?[r,a]:[a,r]),c=l[0],f=l[1];if(s=o[c]){if(delete o[s.end],s.push(e),s.end=f,u=n[f]){delete n[u.start];var h=u===s?s:s.concat(u);n[h.start=s.start]=o[h.end=u.end]=h}else n[s.start]=o[s.end]=s}else if(s=n[f]){if(delete n[s.start],s.unshift(e),s.start=c,u=o[c]){delete o[u.end];var p=u===s?s:u.concat(s);n[p.start=u.start]=o[p.end=s.end]=p}else n[s.start]=o[s.end]=s}else n[(s=[e]).start=c]=o[s.end=f]=s}),s(o,n),s(n,o),e.forEach(function(t){r[t<0?~t:t]||i.push([t])}),i}function c(t){return u(t,f.apply(this,arguments))}function f(t,e,r){var n,o,i;if(arguments.length>1)n=function(t,e,r){var n,o=[],i=[];function a(t){var e=t<0?~t:t;(i[e]||(i[e]=[])).push({i:t,g:n})}function s(t){t.forEach(a)}function u(t){t.forEach(s)}return!function t(e){switch(n=e,e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"LineString":s(e.arcs);break;case"MultiLineString":case"Polygon":u(e.arcs);break;case"MultiPolygon":!function(t){t.forEach(u)}(e.arcs)}}(e),i.forEach(null==r?function(t){o.push(t[0].i)}:function(t){r(t[0].g,t[t.length-1].g)&&o.push(t[0].i)}),o}(0,e,r);else for(o=0,n=Array(i=t.arcs.length);o<i;++o)n[o]=o;return{type:"MultiLineString",arcs:l(t,n)}}function h(t){return u(t,p.apply(this,arguments))}function p(t,e){var r={},n=[],o=[];function i(t){t.forEach(function(e){e.forEach(function(e){(r[e=e<0?~e:e]||(r[e]=[])).push(t)})}),n.push(t)}function a(e){return function(t){for(var e,r=-1,n=t.length,o=t[n-1],i=0;++r<n;)e=o,o=t[r],i+=e[0]*o[1]-e[1]*o[0];return Math.abs(i)}(u(t,{type:"Polygon",arcs:[e]}).coordinates[0])}return e.forEach(function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Polygon":i(e.arcs);break;case"MultiPolygon":e.arcs.forEach(i)}}),n.forEach(function(t){if(!t._){var e=[],n=[t];for(t._=1,o.push(e);t=n.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){r[t<0?~t:t].forEach(function(t){t._||(t._=1,n.push(t))})})})}}),n.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:o.map(function(e){var n,o=[];if(e.forEach(function(t){t.forEach(function(t){t.forEach(function(t){r[t<0?~t:t].length<2&&o.push(t)})})}),(n=(o=l(t,o)).length)>1)for(var i,s,u=1,c=a(o[0]);u<n;++u)(i=a(o[u]))>c&&(s=o[0],o[0]=o[u],o[u]=s,c=i);return o}).filter(function(t){return t.length>0})}}function d(t,e){for(var r=0,n=t.length;r<n;){var o=r+n>>>1;t[o]<e?r=o+1:n=o}return r}function g(t){var e={},r=t.map(function(){return[]});function n(t,r){t.forEach(function(t){t<0&&(t=~t);var n=e[t];n?n.push(r):e[t]=[r]})}function o(t,e){t.forEach(function(t){n(t,e)})}var i={LineString:n,MultiLineString:o,Polygon:o,MultiPolygon:function(t,e){t.forEach(function(t){o(t,e)})}};for(var a in t.forEach(function t(e,r){"GeometryCollection"===e.type?e.geometries.forEach(function(e){t(e,r)}):e.type in i&&i[e.type](e.arcs,r)}),e)for(var s=e[a],u=s.length,l=0;l<u;++l)for(var c=l+1;c<u;++c){var f,h=s[l],p=s[c];(f=r[h])[a=d(f,p)]!==p&&f.splice(a,0,p),(f=r[p])[a=d(f,h)]!==h&&f.splice(a,0,h)}return r}function v(t){if(null==t)return n;var e,r,o=t.scale[0],i=t.scale[1],a=t.translate[0],s=t.translate[1];return function(t,n){n||(e=r=0);var u=2,l=t.length,c=Array(l),f=Math.round((t[0]-a)/o),h=Math.round((t[1]-s)/i);for(c[0]=f-e,e=f,c[1]=h-r,r=h;u<l;)c[u]=t[u],++u;return c}}function y(t,e){if(t.transform)throw Error("already quantized");if(e&&e.scale)u=t.bbox;else{if(!((r=Math.floor(e))>=2))throw Error("n must be ≥2");var r,n=(u=t.bbox||i(t))[0],o=u[1],a=u[2],s=u[3];e={scale:[a-n?(a-n)/(r-1):1,s-o?(s-o)/(r-1):1],translate:[n,o]}}var u,l,c=v(e),f=t.objects,h={};function p(t){return c(t)}for(l in f)h[l]=function t(e){var r;switch(e.type){case"GeometryCollection":r={type:"GeometryCollection",geometries:e.geometries.map(t)};break;case"Point":r={type:"Point",coordinates:p(e.coordinates)};break;case"MultiPoint":r={type:"MultiPoint",coordinates:e.coordinates.map(p)};break;default:return e}return null!=e.id&&(r.id=e.id),null!=e.bbox&&(r.bbox=e.bbox),null!=e.properties&&(r.properties=e.properties),r}(f[l]);return{type:"Topology",bbox:u,transform:e,objects:h,arcs:t.arcs.map(function(t){var e,r=0,n=1,o=t.length,i=Array(o);for(i[0]=c(t[0],0);++r<o;)((e=c(t[r],r))[0]||e[1])&&(i[n++]=e);return 1===n&&(i[n++]=[0,0]),i.length=n,i})}}r.r(e),r.d(e,{bbox:function(){return i},feature:function(){return a},merge:function(){return h},mergeArcs:function(){return p},mesh:function(){return c},meshArcs:function(){return f},neighbors:function(){return g},quantize:function(){return y},transform:function(){return o},untransform:function(){return v}})},4508:function(t,e,r){"use strict";r.r(e),r.d(e,{topology:function(){return p}});var n=Object.prototype.hasOwnProperty;function o(t,e,r,n,o,i){3==arguments.length&&(n=i=Array,o=null);for(var a=new n(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),s=new i(t),u=t-1,l=0;l<t;++l)a[l]=o;return{set:function(n,i){for(var l=e(n)&u,c=a[l],f=0;c!=o;){if(r(c,n))return s[l]=i;if(++f>=t)throw Error("full hashmap");c=a[l=l+1&u]}return a[l]=n,s[l]=i,i},maybeSet:function(n,i){for(var l=e(n)&u,c=a[l],f=0;c!=o;){if(r(c,n))return s[l];if(++f>=t)throw Error("full hashmap");c=a[l=l+1&u]}return a[l]=n,s[l]=i,i},get:function(n,i){for(var l=e(n)&u,c=a[l],f=0;c!=o;){if(r(c,n))return s[l];if(++f>=t)break;c=a[l=l+1&u]}return i},keys:function(){for(var t=[],e=0,r=a.length;e<r;++e){var n=a[e];n!=o&&t.push(n)}return t}}}function i(t,e){return t[0]===e[0]&&t[1]===e[1]}var a=new ArrayBuffer(16),s=new Float64Array(a),u=new Uint32Array(a);function l(t){s[0]=t[0],s[1]=t[1];var e=u[0]^u[1];return 2147483647&(e=e<<5^e>>7^u[2]^u[3])}function c(t,e,r){for(var n,o=e+(r---e>>1);e<o;++e,--r)n=t[e],t[e]=t[r],t[r]=n}function f(t){var e,r=h(t.geometry);for(e in null!=t.id&&(r.id=t.id),null!=t.bbox&&(r.bbox=t.bbox),t.properties){r.properties=t.properties;break}return r}function h(t){if(null==t)return{type:null};var e="GeometryCollection"===t.type?{type:"GeometryCollection",geometries:t.geometries.map(h)}:"Point"===t.type||"MultiPoint"===t.type?{type:t.type,coordinates:t.coordinates}:{type:t.type,arcs:t.coordinates};return null!=t.bbox&&(e.bbox=t.bbox),e}function p(t,e){var r=function(t){var e=1/0,r=1/0,o=-1/0,i=-1/0;function a(t){null!=t&&n.call(s,t.type)&&s[t.type](t)}var s={GeometryCollection:function(t){t.geometries.forEach(a)},Point:function(t){u(t.coordinates)},MultiPoint:function(t){t.coordinates.forEach(u)},LineString:function(t){l(t.arcs)},MultiLineString:function(t){t.arcs.forEach(l)},Polygon:function(t){t.arcs.forEach(l)},MultiPolygon:function(t){t.arcs.forEach(c)}};function u(t){var n=t[0],a=t[1];n<e&&(e=n),n>o&&(o=n),a<r&&(r=a),a>i&&(i=a)}function l(t){t.forEach(u)}function c(t){t.forEach(l)}for(var f in t)a(t[f]);return o>=e&&i>=r?[e,r,o,i]:void 0}(t=function(t){var e,r,n={};for(r in t)n[r]=null==(e=t[r])?{type:null}:("FeatureCollection"===e.type?function(t){var e={type:"GeometryCollection",geometries:t.features.map(f)};return null!=t.bbox&&(e.bbox=t.bbox),e}:"Feature"===e.type?f:h)(e);return n}(t)),a=e>0&&r&&function(t,e,r){var o=e[0],i=e[1],a=e[2],s=e[3],u=a-o?(r-1)/(a-o):1,l=s-i?(r-1)/(s-i):1;function c(t){return[Math.round((t[0]-o)*u),Math.round((t[1]-i)*l)]}function f(t,e){for(var r,n,a,s,c,f=-1,h=0,p=t.length,d=Array(p);++f<p;)s=Math.round(((r=t[f])[0]-o)*u),c=Math.round((r[1]-i)*l),(s!==n||c!==a)&&(d[h++]=[n=s,a=c]);for(d.length=h;h<e;)h=d.push([d[0][0],d[0][1]]);return d}function h(t){return f(t,2)}function p(t){return f(t,4)}function d(t){return t.map(p)}function g(t){null!=t&&n.call(v,t.type)&&v[t.type](t)}var v={GeometryCollection:function(t){t.geometries.forEach(g)},Point:function(t){t.coordinates=c(t.coordinates)},MultiPoint:function(t){t.coordinates=t.coordinates.map(c)},LineString:function(t){t.arcs=h(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(h)},Polygon:function(t){t.arcs=d(t.arcs)},MultiPolygon:function(t){t.arcs=t.arcs.map(d)}};for(var y in t)g(t[y]);return{scale:[1/u,1/l],translate:[o,i]}}(t,r,e),s=function(t){var e,r,n,a,s=t.coordinates,u=t.lines,c=t.rings,f=u.length+c.length;for(delete t.lines,delete t.rings,n=0,a=u.length;n<a;++n)for(e=u[n];e=e.next;)++f;for(n=0,a=c.length;n<a;++n)for(r=c[n];r=r.next;)++f;var h=o(2.8*f,l,i),p=t.arcs=[];for(n=0,a=u.length;n<a;++n){e=u[n];do d(e);while(e=e.next)}for(n=0,a=c.length;n<a;++n)if((r=c[n]).next)do d(r);while(r=r.next);else!function(t){var e,r,n,o,a;if((r=h.get(e=s[t[0]]))||(r=h.get(e=s[t[0]+g(t)])))for(o=0,a=r.length;o<a;++o){if(function(t,e){var r=t[0],n=e[0],o=t[1],a=e[1],u=o-r;if(u!==a-n)return!1;for(var l=g(t),c=g(e),f=0;f<u;++f)if(!i(s[r+(f+l)%u],s[n+(f+c)%u]))return!1;return!0}(n=r[o],t)){t[0]=n[0],t[1]=n[1];return}if(function(t,e){var r=t[0],n=e[0],o=t[1],a=e[1],u=o-r;if(u!==a-n)return!1;for(var l=g(t),c=u-g(e),f=0;f<u;++f)if(!i(s[r+(f+l)%u],s[a-(f+c)%u]))return!1;return!0}(n,t)){t[0]=n[1],t[1]=n[0];return}}r?r.push(t):h.set(e,[t]),p.push(t)}(r);function d(t){var e,r,n,o,a,u,l,c;if(n=h.get(e=s[t[0]])){for(l=0,c=n.length;l<c;++l)if(function(t,e){var r=t[0],n=e[0],o=t[1];if(r-o!=n-e[1])return!1;for(;r<=o;++r,++n)if(!i(s[r],s[n]))return!1;return!0}(o=n[l],t)){t[0]=o[0],t[1]=o[1];return}}if(a=h.get(r=s[t[1]])){for(l=0,c=a.length;l<c;++l)if(function(t,e){var r=t[0],n=e[0],o=t[1],a=e[1];if(r-o!=n-a)return!1;for(;r<=o;++r,--a)if(!i(s[r],s[a]))return!1;return!0}(u=a[l],t)){t[1]=u[0],t[0]=u[1];return}}n?n.push(t):h.set(e,[t]),a?a.push(t):h.set(r,[t]),p.push(t)}function g(t){for(var e=t[0],r=t[1],n=e,o=n,i=s[n];++n<r;){var a=s[n];(a[0]<i[0]||a[0]===i[0]&&a[1]<i[1])&&(o=n,i=a)}return o-e}return t}(function(t){var e,r,n,a,s=function(t){var e,r,n,a,s,u=t.coordinates,c=t.lines,f=t.rings,h=function(){for(var t=o(1.4*u.length,S,_,Int32Array,-1,Int32Array),e=new Int32Array(u.length),r=0,n=u.length;r<n;++r)e[r]=t.maybeSet(r,r);return e}(),p=new Int32Array(u.length),d=new Int32Array(u.length),g=new Int32Array(u.length),v=new Int8Array(u.length),y=0;for(e=0,r=u.length;e<r;++e)p[e]=d[e]=g[e]=-1;for(e=0,r=c.length;e<r;++e){var m=c[e],b=m[0],x=m[1];for(a=h[b],s=h[++b],++y,v[a]=1;++b<=x;)w(e,n=a,a=s,s=h[b]);++y,v[s]=1}for(e=0,r=u.length;e<r;++e)p[e]=-1;for(e=0,r=f.length;e<r;++e){var E=f[e],P=E[0]+1,M=E[1];for(w(e,n=h[M-1],a=h[P-1],s=h[P]);++P<=M;)w(e,n=a,a=s,s=h[P])}function w(t,e,r,n){if(p[r]!==t){p[r]=t;var o=d[r];if(o>=0){var i=g[r];(o!==e||i!==n)&&(o!==n||i!==e)&&(++y,v[r]=1)}else d[r]=e,g[r]=n}}function S(t){return l(u[t])}function _(t,e){return i(u[t],u[e])}p=d=g=null;var O,j=function(t,e,r,n,o){3==arguments.length&&(n=Array,o=null);for(var i=new n(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),a=t-1,s=0;s<t;++s)i[s]=o;return{add:function(n){for(var s=e(n)&a,u=i[s],l=0;u!=o;){if(r(u,n))return!0;if(++l>=t)throw Error("full hashset");u=i[s=s+1&a]}return i[s]=n,!0},has:function(n){for(var s=e(n)&a,u=i[s],l=0;u!=o;){if(r(u,n))return!0;if(++l>=t)break;u=i[s=s+1&a]}return!1},values:function(){for(var t=[],e=0,r=i.length;e<r;++e){var n=i[e];n!=o&&t.push(n)}return t}}}(1.4*y,l,i);for(e=0,r=u.length;e<r;++e)v[O=h[e]]&&j.add(u[O]);return j}(t),u=t.coordinates,f=t.lines,h=t.rings;for(n=0,a=f.length;n<a;++n)for(var p=f[n],d=p[0],g=p[1];++d<g;)s.has(u[d])&&(r={0:d,1:p[1]},p[1]=d,p=p.next=r);for(n=0,a=h.length;n<a;++n)for(var v=h[n],y=v[0],m=y,b=v[1],x=s.has(u[y]);++m<b;)s.has(u[m])&&(x?(r={0:m,1:v[1]},v[1]=m,v=v.next=r):(e=b-m,c(u,y,b),c(u,y,y+e),c(u,y+e,b),u[b]=u[y],x=!0,m=y));return t}(function(t){var e=-1,r=[],o=[],i=[];function a(t){t&&n.call(s,t.type)&&s[t.type](t)}var s={GeometryCollection:function(t){t.geometries.forEach(a)},LineString:function(t){t.arcs=u(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(u)},Polygon:function(t){t.arcs=t.arcs.map(l)},MultiPolygon:function(t){t.arcs=t.arcs.map(c)}};function u(t){for(var n=0,o=t.length;n<o;++n)i[++e]=t[n];var a={0:e-o+1,1:e};return r.push(a),a}function l(t){for(var r=0,n=t.length;r<n;++r)i[++e]=t[r];var a={0:e-n+1,1:e};return o.push(a),a}function c(t){return t.map(l)}for(var f in t)a(t[f]);return{type:"Topology",coordinates:i,lines:r,rings:o,objects:t}}(t))),u=s.coordinates,p=o(1.4*s.arcs.length,d,g);function v(t){t&&n.call(y,t.type)&&y[t.type](t)}t=s.objects,s.bbox=r,s.arcs=s.arcs.map(function(t,e){return p.set(t,e),u.slice(t[0],t[1]+1)}),delete s.coordinates,u=null;var y={GeometryCollection:function(t){t.geometries.forEach(v)},LineString:function(t){t.arcs=m(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(m)},Polygon:function(t){t.arcs=t.arcs.map(m)},MultiPolygon:function(t){t.arcs=t.arcs.map(b)}};function m(t){var e=[];do{var r=p.get(t);e.push(t[0]<t[1]?r:~r)}while(t=t.next);return e}function b(t){return t.map(m)}for(var x in t)v(t[x]);return a&&(s.transform=a,s.arcs=function(t){for(var e=-1,r=t.length;++e<r;){for(var n,o,i=t[e],a=0,s=1,u=i.length,l=i[0],c=l[0],f=l[1];++a<u;)n=(l=i[a])[0],o=l[1],(n!==c||o!==f)&&(i[s++]=[n-c,o-f],c=n,f=o);1===s&&(i[s++]=[0,0]),i.length=s}return t}(s.arcs)),s}function d(t){var e,r=t[0],n=t[1];return n<r&&(e=r,r=n,n=e),r+31*n}function g(t,e){var r,n=t[0],o=t[1],i=e[0],a=e[1];return o<n&&(r=n,n=o,o=r),a<i&&(r=i,i=a,a=r),n===i&&o===a}},8652:function(t,e,r){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(6439),o="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},i=n.useState,a=n.useEffect,s=n.useLayoutEffect,u=n.useDebugValue;function l(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!o(t,r)}catch(t){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(t,e){return e()}:function(t,e){var r=e(),n=i({inst:{value:r,getSnapshot:e}}),o=n[0].inst,c=n[1];return s(function(){o.value=r,o.getSnapshot=e,l(o)&&c({inst:o})},[t,r,e]),a(function(){return l(o)&&c({inst:o}),t(function(){l(o)&&c({inst:o})})},[t]),u(r),r};e.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:c},1973:function(t,e,r){"use strict";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(6439),o=r(3916),i="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},a=o.useSyncExternalStore,s=n.useRef,u=n.useEffect,l=n.useMemo,c=n.useDebugValue;e.useSyncExternalStoreWithSelector=function(t,e,r,n,o){var f=s(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=l(function(){function t(t){if(!u){if(u=!0,a=t,t=n(t),void 0!==o&&h.hasValue){var e=h.value;if(o(e,t))return s=e}return s=t}if(e=s,i(a,t))return e;var r=n(t);return void 0!==o&&o(e,r)?e:(a=t,s=r)}var a,s,u=!1,l=void 0===r?null:r;return[function(){return t(e())},null===l?void 0:function(){return t(l())}]},[e,r,n,o]);var p=a(t,f[0],f[1]);return u(function(){h.hasValue=!0,h.value=p},[p]),c(p),p}},3916:function(t,e,r){"use strict";t.exports=r(8652)},698:function(t,e,r){"use strict";t.exports=r(1973)},4814:function(t,e,r){"use strict";let n,o;r.d(e,{Jn:function(){return R},qX:function(){return k},Xd:function(){return C},Mq:function(){return D},ZF:function(){return T},KN:function(){return N}});var i,a=r(5856),s=r(2199),u=r(7682);let l=(t,e)=>e.some(e=>t instanceof e),c=new WeakMap,f=new WeakMap,h=new WeakMap,p=new WeakMap,d=new WeakMap,g={get(t,e,r){if(t instanceof IDBTransaction){if("done"===e)return f.get(t);if("objectStoreNames"===e)return t.objectStoreNames||h.get(t);if("store"===e)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return v(t[e])},set:(t,e,r)=>(t[e]=r,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function v(t){var e;if(t instanceof IDBRequest)return function(t){let e=new Promise((e,r)=>{let n=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{e(v(t.result)),n()},i=()=>{r(t.error),n()};t.addEventListener("success",o),t.addEventListener("error",i)});return e.then(e=>{e instanceof IDBCursor&&c.set(e,t)}).catch(()=>{}),d.set(e,t),e}(t);if(p.has(t))return p.get(t);let r="function"==typeof(e=t)?e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(o||(o=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(y(this),t),v(c.get(this))}:function(...t){return v(e.apply(y(this),t))}:function(t,...r){let n=e.call(y(this),t,...r);return h.set(n,t.sort?t.sort():[t]),v(n)}:(e instanceof IDBTransaction&&function(t){if(f.has(t))return;let e=new Promise((e,r)=>{let n=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{e(),n()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),n()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)});f.set(t,e)}(e),l(e,n||(n=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(e,g):e;return r!==t&&(p.set(t,r),d.set(r,t)),r}let y=t=>d.get(t),m=["get","getKey","getAll","getAllKeys","count"],b=["put","add","delete","clear"],x=new Map;function E(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&"string"==typeof e))return;if(x.get(e))return x.get(e);let r=e.replace(/FromIndex$/,""),n=e!==r,o=b.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(o||m.includes(r)))return;let i=async function(t,...e){let i=this.transaction(t,o?"readwrite":"readonly"),a=i.store;return n&&(a=a.index(e.shift())),(await Promise.all([a[r](...e),o&&i.done]))[0]};return x.set(e,i),i}g={...i=g,get:(t,e,r)=>E(t,e)||i.get(t,e,r),has:(t,e)=>!!E(t,e)||i.has(t,e)};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{constructor(t){this.container=t}getPlatformInfoString(){let t=this.container.getProviders();return t.map(t=>{if(!function(t){let e=t.getComponent();return(null==e?void 0:e.type)==="VERSION"}(t))return null;{let e=t.getImmediate();return`${e.library}/${e.version}`}}).filter(t=>t).join(" ")}}let M="@firebase/app",w="0.9.19",S=new s.Yd("@firebase/app"),_="[DEFAULT]",O={[M]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},j=new Map,A=new Map;function C(t){let e=t.name;if(A.has(e))return S.debug(`There were multiple attempts to register component ${e}.`),!1;for(let r of(A.set(e,t),j.values()))!function(t,e){try{t.container.addComponent(e)}catch(r){S.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}(r,t);return!0}function k(t,e){let r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}let L=new u.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I{constructor(t,e,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new a.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw L.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let R="10.4.0";function T(t,e={}){let r=t;if("object"!=typeof e){let t=e;e={name:t}}let n=Object.assign({name:_,automaticDataCollectionEnabled:!1},e),o=n.name;if("string"!=typeof o||!o)throw L.create("bad-app-name",{appName:String(o)});if(r||(r=(0,u.aH)()),!r)throw L.create("no-options");let i=j.get(o);if(i){if((0,u.vZ)(r,i.options)&&(0,u.vZ)(n,i.config))return i;throw L.create("duplicate-app",{appName:o})}let s=new a.H0(o);for(let t of A.values())s.addComponent(t);let l=new I(r,n,s);return j.set(o,l),l}function D(t=_){let e=j.get(t);if(!e&&t===_&&(0,u.aH)())return T();if(!e)throw L.create("no-app",{appName:t});return e}function N(t,e,r){var n;let o=null!==(n=O[t])&&void 0!==n?n:t;r&&(o+=`-${r}`);let i=o.match(/\s|\//),s=e.match(/\s|\//);if(i||s){let t=[`Unable to register library "${o}" with version "${e}":`];i&&t.push(`library name "${o}" contains illegal characters (whitespace or "/")`),i&&s&&t.push("and"),s&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),S.warn(t.join(" "));return}C(new a.wA(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}let F="firebase-heartbeat-store",B=null;function V(){return B||(B=(function(t,e,{blocked:r,upgrade:n,blocking:o,terminated:i}={}){let a=indexedDB.open(t,1),s=v(a);return n&&a.addEventListener("upgradeneeded",t=>{n(v(a.result),t.oldVersion,t.newVersion,v(a.transaction),t)}),r&&a.addEventListener("blocked",t=>r(t.oldVersion,t.newVersion,t)),s.then(t=>{i&&t.addEventListener("close",()=>i()),o&&t.addEventListener("versionchange",t=>o(t.oldVersion,t.newVersion,t))}).catch(()=>{}),s})("firebase-heartbeat-database",0,{upgrade:(t,e)=>{0===e&&t.createObjectStore(F)}}).catch(t=>{throw L.create("idb-open",{originalErrorMessage:t.message})})),B}async function q(t){try{let e=await V(),r=await e.transaction(F).objectStore(F).get(U(t));return r}catch(t){if(t instanceof u.ZR)S.warn(t.message);else{let e=L.create("idb-get",{originalErrorMessage:null==t?void 0:t.message});S.warn(e.message)}}}async function z(t,e){try{let r=await V(),n=r.transaction(F,"readwrite"),o=n.objectStore(F);await o.put(e,U(t)),await n.done}catch(t){if(t instanceof u.ZR)S.warn(t.message);else{let e=L.create("idb-set",{originalErrorMessage:null==t?void 0:t.message});S.warn(e.message)}}}function U(t){return`${t.name}!${t.options.appId}`}class G{constructor(t){this.container=t,this._heartbeatsCache=null;let e=this.container.getProvider("app").getImmediate();this._storage=new X(e),this._heartbeatsCachePromise=this._storage.read().then(t=>(this._heartbeatsCache=t,t))}async triggerHeartbeat(){let t=this.container.getProvider("platform-logger").getImmediate(),e=t.getPlatformInfoString(),r=Y();return(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(t=>t.date===r))?void 0:(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(t=>{let e=new Date(t.date).valueOf(),r=Date.now();return r-e<=2592e6}),this._storage.overwrite(this._heartbeatsCache))}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";let t=Y(),{heartbeatsToSend:e,unsentEntries:r}=function(t,e=1024){let r=[],n=t.slice();for(let o of t){let t=r.find(t=>t.agent===o.agent);if(t){if(t.dates.push(o.date),$(r)>e){t.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),$(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}(this._heartbeatsCache.heartbeats),n=(0,u.L)(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),n}}function Y(){let t=new Date;return t.toISOString().substring(0,10)}class X{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,u.hl)()&&(0,u.eu)().then(()=>!0).catch(()=>!1)}async read(){let t=await this._canUseIndexedDBPromise;if(!t)return{heartbeats:[]};{let t=await q(this.app);return t||{heartbeats:[]}}}async overwrite(t){var e;let r=await this._canUseIndexedDBPromise;if(r){let r=await this.read();return z(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;let r=await this._canUseIndexedDBPromise;if(r){let r=await this.read();return z(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}}}function $(t){return(0,u.L)(JSON.stringify({version:2,heartbeats:t})).length}C(new a.wA("platform-logger",t=>new P(t),"PRIVATE")),C(new a.wA("heartbeat",t=>new G(t),"PRIVATE")),N(M,w,""),N(M,w,"esm2017"),N("fire-js","")},5856:function(t,e,r){"use strict";r.d(e,{H0:function(){return s},wA:function(){return o}});var n=r(7682);class o{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){let t=new n.BH;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:e});r&&t.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;let r=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),n=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(t){if(n)return null;throw t}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if("EAGER"===t.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:i})}catch(t){}for(let[t,e]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let t=this.getOrInitializeService({instanceIdentifier:r});e.resolve(t)}catch(t){}}}}clearInstance(t=i){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){let t=Array.from(this.instances.values());await Promise.all([...t.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...t.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return null!=this.component}isInitialized(t=i){return this.instances.has(t)}getOptions(t=i){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let n=this.getOrInitializeService({instanceIdentifier:r,options:e});for(let[t,e]of this.instancesDeferred.entries()){let o=this.normalizeInstanceIdentifier(t);r===o&&e.resolve(n)}return n}onInit(t,e){var r;let n=this.normalizeInstanceIdentifier(e),o=null!==(r=this.onInitCallbacks.get(n))&&void 0!==r?r:new Set;o.add(t),this.onInitCallbacks.set(n,o);let i=this.instances.get(n);return i&&t(i,n),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){let r=this.onInitCallbacks.get(e);if(r)for(let n of r)try{n(t,e)}catch(t){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:t===i?void 0:t,options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(t){}return r||null}normalizeInstanceIdentifier(t=i){return this.component?this.component.multipleInstances?t:i:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let e=this.getProvider(t.name);if(e.isComponentSet())throw Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){let e=this.getProvider(t.name);e.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let e=new a(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}},2199:function(t,e,r){"use strict";var n,o;r.d(e,{Yd:function(){return c},in:function(){return n}});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i=[];(o=n||(n={}))[o.DEBUG=0]="DEBUG",o[o.VERBOSE=1]="VERBOSE",o[o.INFO=2]="INFO",o[o.WARN=3]="WARN",o[o.ERROR=4]="ERROR",o[o.SILENT=5]="SILENT";let a={debug:n.DEBUG,verbose:n.VERBOSE,info:n.INFO,warn:n.WARN,error:n.ERROR,silent:n.SILENT},s=n.INFO,u={[n.DEBUG]:"log",[n.VERBOSE]:"log",[n.INFO]:"info",[n.WARN]:"warn",[n.ERROR]:"error"},l=(t,e,...r)=>{if(e<t.logLevel)return;let n=new Date().toISOString(),o=u[e];if(o)console[o](`[${n}]  ${t.name}:`,...r);else throw Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class c{constructor(t){this.name=t,this._logLevel=s,this._logHandler=l,this._userLogHandler=null,i.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in n))throw TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?a[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,n.DEBUG,...t),this._logHandler(this,n.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,n.VERBOSE,...t),this._logHandler(this,n.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,n.INFO,...t),this._logHandler(this,n.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,n.WARN,...t),this._logHandler(this,n.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,n.ERROR,...t),this._logHandler(this,n.ERROR,...t)}}},3464:function(t,e,r){"use strict";r.d(e,{ZF:function(){return n.ZF}});var n=r(4814);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(0,n.KN)("firebase","10.4.0","app")},4315:function(t,e,r){"use strict";r.d(e,{v0:function(){return n.o},e5:function(){return n.aa}});var n=r(4344);r(7682),r(4814),r(2199),r(5856)},8605:function(t,e,r){"use strict";let n;r.d(e,{E:function(){return oD}});var o,i,a=r(6439);let s=(0,a.createContext)({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),u=(0,a.createContext)({}),l=(0,a.createContext)(null),c="undefined"!=typeof document,f=c?a.useLayoutEffect:a.useEffect,h=(0,a.createContext)({strict:!1});function p(t){return"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,"current")}function d(t){return"string"==typeof t||Array.isArray(t)}function g(t){return"object"==typeof t&&"function"==typeof t.start}let v=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],y=["initial",...v];function m(t){return g(t.animate)||y.some(e=>d(t[e]))}function b(t){return!!(m(t)||t.variants)}function x(t){return Array.isArray(t)?t.join(" "):t}let E={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},P={};for(let t in E)P[t]={isEnabled:e=>E[t].some(t=>!!e[t])};let M=(0,a.createContext)({}),w=(0,a.createContext)({}),S=Symbol.for("motionComponentSymbol"),_=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function O(t){if("string"!=typeof t||t.includes("-"));else if(_.indexOf(t)>-1||/[A-Z]/.test(t))return!0;return!1}let j={},A=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],C=new Set(A);function k(t,{layout:e,layoutId:r}){return C.has(t)||t.startsWith("origin")||(e||void 0!==r)&&(!!j[t]||"opacity"===t)}let L=t=>!!(t&&t.getVelocity),I={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},R=A.length,T=t=>e=>"string"==typeof e&&e.startsWith(t),D=T("--"),N=T("var(--"),F=(t,e)=>e&&"number"==typeof t?e.transform(t):t,B=(t,e,r)=>Math.min(Math.max(r,t),e),V={test:t=>"number"==typeof t,parse:parseFloat,transform:t=>t},q={...V,transform:t=>B(0,1,t)},z={...V,default:1},U=t=>Math.round(1e5*t)/1e5,G=/(-)?([\d]*\.?[\d])+/g,Y=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,X=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function $(t){return"string"==typeof t}let W=t=>({test:e=>$(e)&&e.endsWith(t)&&1===e.split(" ").length,parse:parseFloat,transform:e=>`${e}${t}`}),H=W("deg"),J=W("%"),Z=W("px"),K=W("vh"),Q=W("vw"),tt={...J,parse:t=>J.parse(t)/100,transform:t=>J.transform(100*t)},te={...V,transform:Math.round},tr={borderWidth:Z,borderTopWidth:Z,borderRightWidth:Z,borderBottomWidth:Z,borderLeftWidth:Z,borderRadius:Z,radius:Z,borderTopLeftRadius:Z,borderTopRightRadius:Z,borderBottomRightRadius:Z,borderBottomLeftRadius:Z,width:Z,maxWidth:Z,height:Z,maxHeight:Z,size:Z,top:Z,right:Z,bottom:Z,left:Z,padding:Z,paddingTop:Z,paddingRight:Z,paddingBottom:Z,paddingLeft:Z,margin:Z,marginTop:Z,marginRight:Z,marginBottom:Z,marginLeft:Z,rotate:H,rotateX:H,rotateY:H,rotateZ:H,scale:z,scaleX:z,scaleY:z,scaleZ:z,skew:H,skewX:H,skewY:H,distance:Z,translateX:Z,translateY:Z,translateZ:Z,x:Z,y:Z,z:Z,perspective:Z,transformPerspective:Z,opacity:q,originX:tt,originY:tt,originZ:Z,zIndex:te,fillOpacity:q,strokeOpacity:q,numOctaves:te};function tn(t,e,r,n){let{style:o,vars:i,transform:a,transformOrigin:s}=t,u=!1,l=!1,c=!0;for(let t in e){let r=e[t];if(D(t)){i[t]=r;continue}let n=tr[t],f=F(r,n);if(C.has(t)){if(u=!0,a[t]=f,!c)continue;r!==(n.default||0)&&(c=!1)}else t.startsWith("origin")?(l=!0,s[t]=f):o[t]=f}if(!e.transform&&(u||n?o.transform=function(t,{enableHardwareAcceleration:e=!0,allowTransformNone:r=!0},n,o){let i="";for(let e=0;e<R;e++){let r=A[e];if(void 0!==t[r]){let e=I[r]||r;i+=`${e}(${t[r]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),o?i=o(t,n?"":i):r&&n&&(i="none"),i}(t.transform,r,c,n):o.transform&&(o.transform="none")),l){let{originX:t="50%",originY:e="50%",originZ:r=0}=s;o.transformOrigin=`${t} ${e} ${r}`}}let to=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ti(t,e,r){for(let n in e)L(e[n])||k(n,r)||(t[n]=e[n])}function ta(t,e,r){let n={},o=function(t,e,r){let n=t.style||{},o={};return ti(o,n,t),Object.assign(o,function({transformTemplate:t},e,r){return(0,a.useMemo)(()=>{let n=to();return tn(n,e,{enableHardwareAcceleration:!r},t),Object.assign({},n.vars,n.style)},[e])}(t,e,r)),t.transformValues?t.transformValues(o):o}(t,e,r);return t.drag&&!1!==t.dragListener&&(n.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=!0===t.drag?"none":`pan-${"x"===t.drag?"y":"x"}`),void 0===t.tabIndex&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=o,n}let ts=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function tu(t){return t.startsWith("while")||t.startsWith("drag")&&"draggable"!==t||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||ts.has(t)}let tl=t=>!tu(t);try{(o=require("@emotion/is-prop-valid").default)&&(tl=t=>t.startsWith("on")?!tu(t):o(t))}catch(t){}function tc(t,e,r){return"string"==typeof t?t:Z.transform(e+r*t)}let tf={offset:"stroke-dashoffset",array:"stroke-dasharray"},th={offset:"strokeDashoffset",array:"strokeDasharray"};function tp(t,{attrX:e,attrY:r,attrScale:n,originX:o,originY:i,pathLength:a,pathSpacing:s=1,pathOffset:u=0,...l},c,f,h){if(tn(t,l,c,h),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};let{attrs:p,style:d,dimensions:g}=t;p.transform&&(g&&(d.transform=p.transform),delete p.transform),g&&(void 0!==o||void 0!==i||d.transform)&&(d.transformOrigin=function(t,e,r){let n=tc(e,t.x,t.width),o=tc(r,t.y,t.height);return`${n} ${o}`}(g,void 0!==o?o:.5,void 0!==i?i:.5)),void 0!==e&&(p.x=e),void 0!==r&&(p.y=r),void 0!==n&&(p.scale=n),void 0!==a&&function(t,e,r=1,n=0,o=!0){t.pathLength=1;let i=o?tf:th;t[i.offset]=Z.transform(-n);let a=Z.transform(e),s=Z.transform(r);t[i.array]=`${a} ${s}`}(p,a,s,u,!1)}let td=()=>({...to(),attrs:{}}),tg=t=>"string"==typeof t&&"svg"===t.toLowerCase();function tv(t,e,r,n){let o=(0,a.useMemo)(()=>{let r=td();return tp(r,e,{enableHardwareAcceleration:!1},tg(n),t.transformTemplate),{...r.attrs,style:{...r.style}}},[e]);if(t.style){let e={};ti(e,t.style,t),o.style={...e,...o.style}}return o}let ty=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function tm(t,{style:e,vars:r},n,o){for(let i in Object.assign(t.style,e,o&&o.getProjectionStyles(n)),r)t.style.setProperty(i,r[i])}let tb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tx(t,e,r,n){for(let r in tm(t,e,void 0,n),e.attrs)t.setAttribute(tb.has(r)?r:ty(r),e.attrs[r])}function tE(t,e){let{style:r}=t,n={};for(let o in r)(L(r[o])||e.style&&L(e.style[o])||k(o,t))&&(n[o]=r[o]);return n}function tP(t,e){let r=tE(t,e);for(let n in t)if(L(t[n])||L(e[n])){let e=-1!==A.indexOf(n)?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[e]=t[n]}return r}function tM(t,e,r,n={},o={}){return"function"==typeof e&&(e=e(void 0!==r?r:t.custom,n,o)),"string"==typeof e&&(e=t.variants&&t.variants[e]),"function"==typeof e&&(e=e(void 0!==r?r:t.custom,n,o)),e}let tw=t=>Array.isArray(t),tS=t=>!!(t&&"object"==typeof t&&t.mix&&t.toValue),t_=t=>tw(t)?t[t.length-1]||0:t;function tO(t){let e=L(t)?t.get():t;return tS(e)?e.toValue():e}let tj=t=>(e,r)=>{let n=(0,a.useContext)(u),o=(0,a.useContext)(l),i=()=>(function({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:r},n,o,i){let a={latestValues:function(t,e,r,n){let o={},i=n(t,{});for(let t in i)o[t]=tO(i[t]);let{initial:a,animate:s}=t,u=m(t),l=b(t);e&&l&&!u&&!1!==t.inherit&&(void 0===a&&(a=e.initial),void 0===s&&(s=e.animate));let c=!!r&&!1===r.initial;c=c||!1===a;let f=c?s:a;if(f&&"boolean"!=typeof f&&!g(f)){let e=Array.isArray(f)?f:[f];e.forEach(e=>{let r=tM(t,e);if(!r)return;let{transitionEnd:n,transition:i,...a}=r;for(let t in a){let e=a[t];if(Array.isArray(e)){let t=c?e.length-1:0;e=e[t]}null!==e&&(o[t]=e)}for(let t in n)o[t]=n[t]})}return o}(n,o,i,t),renderState:e()};return r&&(a.mount=t=>r(n,t,a)),a})(t,e,n,o);return r?i():function(t){let e=(0,a.useRef)(null);return null===e.current&&(e.current=t()),e.current}(i)},tA=t=>t,tC=["prepare","read","update","preRender","render","postRender"],{schedule:tk,cancel:tL,state:tI,steps:tR}=function(t,e){let r=!1,n=!0,o={delta:0,timestamp:0,isProcessing:!1},i=tC.reduce((t,e)=>(t[e]=function(t){let e=[],r=[],n=0,o=!1,i=!1,a=new WeakSet,s={schedule:(t,i=!1,s=!1)=>{let u=s&&o,l=u?e:r;return i&&a.add(t),-1===l.indexOf(t)&&(l.push(t),u&&o&&(n=e.length)),t},cancel:t=>{let e=r.indexOf(t);-1!==e&&r.splice(e,1),a.delete(t)},process:u=>{if(o){i=!0;return}if(o=!0,[e,r]=[r,e],r.length=0,n=e.length)for(let r=0;r<n;r++){let n=e[r];n(u),a.has(n)&&(s.schedule(n),t())}o=!1,i&&(i=!1,s.process(u))}};return s}(()=>r=!0),t),{}),a=t=>i[t].process(o),s=()=>{let i=performance.now();r=!1,o.delta=n?1e3/60:Math.max(Math.min(i-o.timestamp,40),1),o.timestamp=i,o.isProcessing=!0,tC.forEach(a),o.isProcessing=!1,r&&e&&(n=!1,t(s))},u=()=>{r=!0,n=!0,o.isProcessing||t(s)},l=tC.reduce((t,e)=>{let n=i[e];return t[e]=(t,e=!1,o=!1)=>(r||u(),n.schedule(t,e,o)),t},{});return{schedule:l,cancel:t=>tC.forEach(e=>i[e].cancel(t)),state:o,steps:i}}("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:tA,!0),tT={useVisualState:tj({scrapeMotionValuesFromProps:tP,createRenderState:td,onMount:(t,e,{renderState:r,latestValues:n})=>{tk.read(()=>{try{r.dimensions="function"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}catch(t){r.dimensions={x:0,y:0,width:0,height:0}}}),tk.render(()=>{tp(r,n,{enableHardwareAcceleration:!1},tg(e.tagName),t.transformTemplate),tx(e,r)})}})},tD={useVisualState:tj({scrapeMotionValuesFromProps:tE,createRenderState:to})};function tN(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}let tF=t=>"mouse"===t.pointerType?"number"!=typeof t.button||t.button<=0:!1!==t.isPrimary;function tB(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}let tV=t=>e=>tF(e)&&t(e,tB(e));function tq(t,e,r,n){return tN(t,e,tV(r),n)}let tz=(t,e)=>r=>e(t(r)),tU=(...t)=>t.reduce(tz);function tG(t){let e=null;return()=>null===e&&(e=t,()=>{e=null})}let tY=tG("dragHorizontal"),tX=tG("dragVertical");function t$(t){let e=!1;if("y"===t)e=tX();else if("x"===t)e=tY();else{let t=tY(),r=tX();t&&r?e=()=>{t(),r()}:(t&&t(),r&&r())}return e}function tW(){let t=t$(!0);return!t||(t(),!1)}class tH{constructor(t){this.isMounted=!1,this.node=t}update(){}}function tJ(t,e){let r="pointer"+(e?"enter":"leave"),n="onHover"+(e?"Start":"End");return tq(t.current,r,(r,o)=>{if("touch"===r.type||tW())return;let i=t.getProps();t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",e),i[n]&&tk.update(()=>i[n](r,o))},{passive:!t.getProps()[n]})}let tZ=(t,e)=>!!e&&(t===e||tZ(t,e.parentElement));function tK(t,e){if(!e)return;let r=new PointerEvent("pointer"+t);e(r,tB(r))}let tQ=new WeakMap,t0=new WeakMap,t1=t=>{let e=tQ.get(t.target);e&&e(t)},t2=t=>{t.forEach(t1)},t3={some:0,all:1};function t6(t,e){if(!Array.isArray(e))return!1;let r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function t5(t,e,r){let n=t.getProps();return tM(n,e,void 0!==r?r:n.custom,function(t){let e={};return t.values.forEach((t,r)=>e[r]=t.get()),e}(t),function(t){let e={};return t.values.forEach((t,r)=>e[r]=t.getVelocity()),e}(t))}let t4="data-"+ty("framerAppearId"),t9=t=>1e3*t,t8=t=>t/1e3,t7={current:!1},et=t=>Array.isArray(t)&&"number"==typeof t[0],ee=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,er={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ee([0,.65,.55,1]),circOut:ee([.55,0,1,.45]),backIn:ee([.31,.01,.66,-.59]),backOut:ee([.33,1.53,.69,.99])},en=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t;function eo(t,e,r,n){if(t===e&&r===n)return tA;let o=e=>(function(t,e,r,n,o){let i,a;let s=0;do(i=en(a=e+(r-e)/2,n,o)-t)>0?r=a:e=a;while(Math.abs(i)>1e-7&&++s<12);return a})(e,0,1,t,r);return t=>0===t||1===t?t:en(o(t),e,n)}let ei=eo(.42,0,1,1),ea=eo(0,0,.58,1),es=eo(.42,0,.58,1),eu=t=>Array.isArray(t)&&"number"!=typeof t[0],el=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ec=t=>e=>1-t(1-e),ef=t=>1-Math.sin(Math.acos(t)),eh=ec(ef),ep=el(eh),ed=eo(.33,1.53,.69,.99),eg=ec(ed),ev=el(eg),ey={linear:tA,easeIn:ei,easeInOut:es,easeOut:ea,circIn:ef,circInOut:ep,circOut:eh,backIn:eg,backInOut:ev,backOut:ed,anticipate:t=>(t*=2)<1?.5*eg(t):.5*(2-Math.pow(2,-10*(t-1)))},em=t=>{if(Array.isArray(t)){tA(4===t.length,"Cubic bezier arrays must contain four numerical values.");let[e,r,n,o]=t;return eo(e,r,n,o)}return"string"==typeof t?(tA(void 0!==ey[t],`Invalid easing type '${t}'`),ey[t]):t},eb=(t,e)=>r=>!!($(r)&&X.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),ex=(t,e,r)=>n=>{if(!$(n))return n;let[o,i,a,s]=n.match(G);return{[t]:parseFloat(o),[e]:parseFloat(i),[r]:parseFloat(a),alpha:void 0!==s?parseFloat(s):1}},eE=t=>B(0,255,t),eP={...V,transform:t=>Math.round(eE(t))},eM={test:eb("rgb","red"),parse:ex("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+eP.transform(t)+", "+eP.transform(e)+", "+eP.transform(r)+", "+U(q.transform(n))+")"},ew={test:eb("#"),parse:function(t){let e="",r="",n="",o="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),o=t.substring(4,5),e+=e,r+=r,n+=n,o+=o),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:o?parseInt(o,16)/255:1}},transform:eM.transform},eS={test:eb("hsl","hue"),parse:ex("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+J.transform(U(e))+", "+J.transform(U(r))+", "+U(q.transform(n))+")"},e_={test:t=>eM.test(t)||ew.test(t)||eS.test(t),parse:t=>eM.test(t)?eM.parse(t):eS.test(t)?eS.parse(t):ew.parse(t),transform:t=>$(t)?t:t.hasOwnProperty("red")?eM.transform(t):eS.transform(t)},eO=(t,e,r)=>-r*t+r*e+t;function ej(t,e,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?t+(e-t)*6*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}let eA=(t,e,r)=>{let n=t*t;return Math.sqrt(Math.max(0,r*(e*e-n)+n))},eC=[ew,eM,eS],ek=t=>eC.find(e=>e.test(t));function eL(t){let e=ek(t);tA(!!e,`'${t}' is not an animatable color. Use the equivalent color code instead.`);let r=e.parse(t);return e===eS&&(r=function({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,r/=100;let o=0,i=0,a=0;if(e/=100){let n=r<.5?r*(1+e):r+e-r*e,s=2*r-n;o=ej(s,n,t+1/3),i=ej(s,n,t),a=ej(s,n,t-1/3)}else o=i=a=r;return{red:Math.round(255*o),green:Math.round(255*i),blue:Math.round(255*a),alpha:n}}(r)),r}let eI=(t,e)=>{let r=eL(t),n=eL(e),o={...r};return t=>(o.red=eA(r.red,n.red,t),o.green=eA(r.green,n.green,t),o.blue=eA(r.blue,n.blue,t),o.alpha=eO(r.alpha,n.alpha,t),eM.transform(o))},eR={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:tA},eT={regex:Y,countKey:"Colors",token:"${c}",parse:e_.parse},eD={regex:G,countKey:"Numbers",token:"${n}",parse:V.parse};function eN(t,{regex:e,countKey:r,token:n,parse:o}){let i=t.tokenised.match(e);i&&(t["num"+r]=i.length,t.tokenised=t.tokenised.replace(e,n),t.values.push(...i.map(o)))}function eF(t){let e=t.toString(),r={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&eN(r,eR),eN(r,eT),eN(r,eD),r}function eB(t){return eF(t).values}function eV(t){let{values:e,numColors:r,numVars:n,tokenised:o}=eF(t),i=e.length;return t=>{let e=o;for(let o=0;o<i;o++)e=o<n?e.replace(eR.token,t[o]):o<n+r?e.replace(eT.token,e_.transform(t[o])):e.replace(eD.token,U(t[o]));return e}}let eq=t=>"number"==typeof t?0:t,ez={test:function(t){var e,r;return isNaN(t)&&$(t)&&((null===(e=t.match(G))||void 0===e?void 0:e.length)||0)+((null===(r=t.match(Y))||void 0===r?void 0:r.length)||0)>0},parse:eB,createTransformer:eV,getAnimatableNone:function(t){let e=eB(t),r=eV(t);return r(e.map(eq))}},eU=(t,e)=>r=>`${r>0?e:t}`;function eG(t,e){return"number"==typeof t?r=>eO(t,e,r):e_.test(t)?eI(t,e):t.startsWith("var(")?eU(t,e):e$(t,e)}let eY=(t,e)=>{let r=[...t],n=r.length,o=t.map((t,r)=>eG(t,e[r]));return t=>{for(let e=0;e<n;e++)r[e]=o[e](t);return r}},eX=(t,e)=>{let r={...t,...e},n={};for(let o in r)void 0!==t[o]&&void 0!==e[o]&&(n[o]=eG(t[o],e[o]));return t=>{for(let e in n)r[e]=n[e](t);return r}},e$=(t,e)=>{let r=ez.createTransformer(e),n=eF(t),o=eF(e),i=n.numVars===o.numVars&&n.numColors===o.numColors&&n.numNumbers>=o.numNumbers;return i?tU(eY(n.values,o.values),r):(tA(!0,`Complex values '${t}' and '${e}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),eU(t,e))},eW=(t,e,r)=>{let n=e-t;return 0===n?1:(r-t)/n},eH=(t,e)=>r=>eO(t,e,r);function eJ(t,e,{clamp:r=!0,ease:n,mixer:o}={}){let i=t.length;if(tA(i===e.length,"Both input and output ranges must be the same length"),1===i)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());let a=function(t,e,r){let n=[],o=r||function(t){if("number"==typeof t);else if("string"==typeof t)return e_.test(t)?eI:e$;else if(Array.isArray(t))return eY;else if("object"==typeof t)return eX;return eH}(t[0]),i=t.length-1;for(let r=0;r<i;r++){let i=o(t[r],t[r+1]);if(e){let t=Array.isArray(e)?e[r]||tA:e;i=tU(t,i)}n.push(i)}return n}(e,n,o),s=a.length,u=e=>{let r=0;if(s>1)for(;r<t.length-2&&!(e<t[r+1]);r++);let n=eW(t[r],t[r+1],e);return a[r](n)};return r?e=>u(B(t[0],t[i-1],e)):u}function eZ({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){let o=eu(n)?n.map(em):em(n),i={done:!1,value:e[0]},a=(r&&r.length===e.length?r:function(t){let e=[0];return function(t,e){let r=t[t.length-1];for(let n=1;n<=e;n++){let o=eW(0,e,n);t.push(eO(r,1,o))}}(e,t.length-1),e}(e)).map(e=>e*t),s=eJ(a,e,{ease:Array.isArray(o)?o:e.map(()=>o||es).splice(0,e.length-1)});return{calculatedDuration:t,next:e=>(i.value=s(e),i.done=e>=t,i)}}function eK(t,e,r){var n,o;let i=Math.max(e-5,0);return n=r-t(i),(o=e-i)?n*(1e3/o):0}function eQ(t,e){return t*Math.sqrt(1-e*e)}let e0=["duration","bounce"],e1=["stiffness","damping","mass"];function e2(t,e){return e.some(e=>void 0!==t[e])}function e3({keyframes:t,restDelta:e,restSpeed:r,...n}){let o;let i=t[0],a=t[t.length-1],s={done:!1,value:i},{stiffness:u,damping:l,mass:c,velocity:f,duration:h,isResolvedFromDuration:p}=function(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!e2(t,e1)&&e2(t,e0)){let r=function({duration:t=800,bounce:e=.25,velocity:r=0,mass:n=1}){let o,i;tA(t<=t9(10),"Spring duration must be 10 seconds or less");let a=1-e;a=B(.05,1,a),t=B(.01,10,t8(t)),a<1?(o=e=>{let n=e*a,o=n*t,i=eQ(e,a);return .001-(n-r)/i*Math.exp(-o)},i=e=>{let n=e*a,i=n*t,s=Math.pow(a,2)*Math.pow(e,2)*t,u=eQ(Math.pow(e,2),a),l=-o(e)+.001>0?-1:1;return l*((i*r+r-s)*Math.exp(-i))/u}):(o=e=>{let n=Math.exp(-e*t),o=(e-r)*t+1;return -.001+n*o},i=e=>{let n=Math.exp(-e*t),o=(r-e)*(t*t);return n*o});let s=5/t,u=function(t,e,r){let n=r;for(let r=1;r<12;r++)n-=t(n)/e(n);return n}(o,i,s);if(t=t9(t),isNaN(u))return{stiffness:100,damping:10,duration:t};{let e=Math.pow(u,2)*n;return{stiffness:e,damping:2*a*Math.sqrt(n*e),duration:t}}}(t);(e={...e,...r,velocity:0,mass:1}).isResolvedFromDuration=!0}return e}(n),d=f?-t8(f):0,g=l/(2*Math.sqrt(u*c)),v=a-i,y=t8(Math.sqrt(u/c)),m=5>Math.abs(v);if(r||(r=m?.01:2),e||(e=m?.005:.5),g<1){let t=eQ(y,g);o=e=>{let r=Math.exp(-g*y*e);return a-r*((d+g*y*v)/t*Math.sin(t*e)+v*Math.cos(t*e))}}else if(1===g)o=t=>a-Math.exp(-y*t)*(v+(d+y*v)*t);else{let t=y*Math.sqrt(g*g-1);o=e=>{let r=Math.exp(-g*y*e),n=Math.min(t*e,300);return a-r*((d+g*y*v)*Math.sinh(n)+t*v*Math.cosh(n))/t}}return{calculatedDuration:p&&h||null,next:t=>{let n=o(t);if(p)s.done=t>=h;else{let i=d;0!==t&&(i=g<1?eK(o,t,n):0);let u=Math.abs(i)<=r,l=Math.abs(a-n)<=e;s.done=u&&l}return s.value=s.done?a:n,s}}}function e6({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:a,min:s,max:u,restDelta:l=.5,restSpeed:c}){let f,h;let p=t[0],d={done:!1,value:p},g=t=>void 0!==s&&t<s||void 0!==u&&t>u,v=t=>void 0===s?u:void 0===u?s:Math.abs(s-t)<Math.abs(u-t)?s:u,y=r*e,m=p+y,b=void 0===a?m:a(m);b!==m&&(y=b-p);let x=t=>-y*Math.exp(-t/n),E=t=>b+x(t),P=t=>{let e=x(t),r=E(t);d.done=Math.abs(e)<=l,d.value=d.done?b:r},M=t=>{g(d.value)&&(f=t,h=e3({keyframes:[d.value,v(d.value)],velocity:eK(E,t,d.value),damping:o,stiffness:i,restDelta:l,restSpeed:c}))};return M(0),{calculatedDuration:null,next:t=>{let e=!1;return(h||void 0!==f||(e=!0,P(t),M(t)),void 0!==f&&t>f)?h.next(t-f):(e||P(t),d)}}}let e5=t=>{let e=({timestamp:e})=>t(e);return{start:()=>tk.update(e,!0),stop:()=>tL(e),now:()=>tI.isProcessing?tI.timestamp:performance.now()}};function e4(t){let e=0,r=t.next(e);for(;!r.done&&e<2e4;)e+=50,r=t.next(e);return e>=2e4?1/0:e}let e9={decay:e6,inertia:e6,tween:eZ,keyframes:eZ,spring:e3};function e8({autoplay:t=!0,delay:e=0,driver:r=e5,keyframes:n,type:o="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",onPlay:u,onStop:l,onComplete:c,onUpdate:f,...h}){let p,d,g,v,y,m=1,b=!1,x=()=>{d=new Promise(t=>{p=t})};x();let E=e9[o]||eZ;E!==eZ&&"number"!=typeof n[0]&&(v=eJ([0,100],n,{clamp:!1}),n=[0,100]);let P=E({...h,keyframes:n});"mirror"===s&&(y=E({...h,keyframes:[...n].reverse(),velocity:-(h.velocity||0)}));let M="idle",w=null,S=null,_=null;null===P.calculatedDuration&&i&&(P.calculatedDuration=e4(P));let{calculatedDuration:O}=P,j=1/0,A=1/0;null!==O&&(A=(j=O+a)*(i+1)-a);let C=0,k=t=>{if(null===S)return;m>0&&(S=Math.min(S,t)),m<0&&(S=Math.min(t-A/m,S)),C=null!==w?w:Math.round(t-S)*m;let r=C-e*(m>=0?1:-1),o=m>=0?r<0:r>A;C=Math.max(r,0),"finished"===M&&null===w&&(C=A);let u=C,l=P;if(i){let t=C/j,e=Math.floor(t),r=t%1;!r&&t>=1&&(r=1),1===r&&e--,e=Math.min(e,i+1);let n=!!(e%2);n&&("reverse"===s?(r=1-r,a&&(r-=a/j)):"mirror"===s&&(l=y));let o=B(0,1,r);C>A&&(o="reverse"===s&&n?1:0),u=o*j}let c=o?{done:!1,value:n[0]}:l.next(u);v&&(c.value=v(c.value));let{done:h}=c;o||null===O||(h=m>=0?C>=A:C<=0);let p=null===w&&("finished"===M||"running"===M&&h);return f&&f(c.value),p&&R(),c},L=()=>{g&&g.stop(),g=void 0},I=()=>{M="idle",L(),p(),x(),S=_=null},R=()=>{M="finished",c&&c(),L(),p()},T=()=>{if(b)return;g||(g=r(k));let t=g.now();u&&u(),null!==w?S=t-w:S&&"finished"!==M||(S=t),"finished"===M&&x(),_=S,w=null,M="running",g.start()};t&&T();let D={then:(t,e)=>d.then(t,e),get time(){return t8(C)},set time(newTime){C=newTime=t9(newTime),null===w&&g&&0!==m?S=g.now()-newTime/m:w=newTime},get duration(){let t=null===P.calculatedDuration?e4(P):P.calculatedDuration;return t8(t)},get speed(){return m},set speed(newSpeed){if(newSpeed===m||!g)return;m=newSpeed,D.time=t8(C)},get state(){return M},play:T,pause:()=>{M="paused",w=C},stop:()=>{b=!0,"idle"!==M&&(M="idle",l&&l(),I())},cancel:()=>{null!==_&&k(_),I()},complete:()=>{M="finished"},sample:t=>(S=0,k(t))};return D}let e7=(i=()=>Object.hasOwnProperty.call(Element.prototype,"animate"),()=>(void 0===n&&(n=i()),n)),rt=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),re=(t,e)=>"spring"===e.type||"backgroundColor"===t||!function t(e){return!!(!e||"string"==typeof e&&er[e]||et(e)||Array.isArray(e)&&e.every(t))}(e.ease),rr={type:"spring",stiffness:500,damping:25,restSpeed:10},rn=t=>({type:"spring",stiffness:550,damping:0===t?2*Math.sqrt(550):30,restSpeed:10}),ro={type:"keyframes",duration:.8},ri={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ra=(t,{keyframes:e})=>e.length>2?ro:C.has(t)?t.startsWith("scale")?rn(e[1]):rr:ri,rs=(t,e)=>"zIndex"!==t&&!!("number"==typeof e||Array.isArray(e)||"string"==typeof e&&(ez.test(e)||"0"===e)&&!e.startsWith("url(")),ru=new Set(["brightness","contrast","saturate","opacity"]);function rl(t){let[e,r]=t.slice(0,-1).split("(");if("drop-shadow"===e)return t;let[n]=r.match(G)||[];if(!n)return t;let o=r.replace(n,""),i=ru.has(e)?1:0;return n!==r&&(i*=100),e+"("+i+o+")"}let rc=/([a-z-]*)\(.*?\)/g,rf={...ez,getAnimatableNone:t=>{let e=t.match(rc);return e?e.map(rl).join(" "):t}},rh={...tr,color:e_,backgroundColor:e_,outlineColor:e_,fill:e_,stroke:e_,borderColor:e_,borderTopColor:e_,borderRightColor:e_,borderBottomColor:e_,borderLeftColor:e_,filter:rf,WebkitFilter:rf},rp=t=>rh[t];function rd(t,e){let r=rp(t);return r!==rf&&(r=ez),r.getAnimatableNone?r.getAnimatableNone(e):void 0}let rg=t=>/^0[^.\s]+$/.test(t);function rv(t,e){return t[e]||t.default||t}let ry=(t,e,r,n={})=>o=>{let i=rv(n,t)||{},a=i.delay||n.delay||0,{elapsed:s=0}=n;s-=t9(a);let u=function(t,e,r,n){let o,i;let a=rs(e,r);o=Array.isArray(r)?[...r]:[null,r];let s=void 0!==n.from?n.from:t.get(),u=[];for(let t=0;t<o.length;t++){var l;null===o[t]&&(o[t]=0===t?s:o[t-1]),("number"==typeof(l=o[t])?0===l:null!==l?"none"===l||"0"===l||rg(l):void 0)&&u.push(t),"string"==typeof o[t]&&"none"!==o[t]&&"0"!==o[t]&&(i=o[t])}if(a&&u.length&&i)for(let t=0;t<u.length;t++){let r=u[t];o[r]=rd(e,i)}return o}(e,t,r,i),l=u[0],c=u[u.length-1],f=rs(t,l),h=rs(t,c);tA(f===h,`You are trying to animate ${t} from "${l}" to "${c}". ${l} is not an animatable value - to enable this animation set ${l} to a value animatable to ${c} via the \`style\` property.`);let p={keyframes:u,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-s,onUpdate:t=>{e.set(t),i.onUpdate&&i.onUpdate(t)},onComplete:()=>{o(),i.onComplete&&i.onComplete()}};if(!function({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:o,repeat:i,repeatType:a,repeatDelay:s,from:u,elapsed:l,...c}){return!!Object.keys(c).length}(i)&&(p={...p,...ra(t,p)}),p.duration&&(p.duration=t9(p.duration)),p.repeatDelay&&(p.repeatDelay=t9(p.repeatDelay)),!f||!h||t7.current||!1===i.type)return function({keyframes:t,delay:e,onUpdate:r,onComplete:n}){let o=()=>(r&&r(t[t.length-1]),n&&n(),{time:0,speed:1,duration:0,play:tA,pause:tA,stop:tA,then:t=>(t(),Promise.resolve()),cancel:tA,complete:tA});return e?e8({keyframes:[0,1],duration:0,delay:e,onComplete:o}):o()}(t7.current?{...p,delay:0}:p);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){let r=function(t,e,{onUpdate:r,onComplete:n,...o}){let i,a;let s=e7()&&rt.has(e)&&!o.repeatDelay&&"mirror"!==o.repeatType&&0!==o.damping&&"inertia"!==o.type;if(!s)return!1;let u=!1,l=()=>{a=new Promise(t=>{i=t})};l();let{keyframes:c,duration:f=300,ease:h,times:p}=o;if(re(e,o)){let t=e8({...o,repeat:0,delay:0}),e={done:!1,value:c[0]},r=[],n=0;for(;!e.done&&n<2e4;)r.push((e=t.sample(n)).value),n+=10;p=void 0,c=r,f=n-10,h="linear"}let d=function(t,e,r,{delay:n=0,duration:o,repeat:i=0,repeatType:a="loop",ease:s,times:u}={}){let l={[e]:r};u&&(l.offset=u);let c=function t(e){if(e)return et(e)?ee(e):Array.isArray(e)?e.map(t):er[e]}(s);return Array.isArray(c)&&(l.easing=c),t.animate(l,{delay:n,duration:o,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:i+1,direction:"reverse"===a?"alternate":"normal"})}(t.owner.current,e,c,{...o,duration:f,ease:h,times:p}),g=()=>d.cancel(),v=()=>{tk.update(g),i(),l()};return d.onfinish=()=>{t.set(function(t,{repeat:e,repeatType:r="loop"}){let n=e&&"loop"!==r&&e%2==1?0:t.length-1;return t[n]}(c,o)),n&&n(),v()},{then:(t,e)=>a.then(t,e),attachTimeline:t=>(d.timeline=t,d.onfinish=null,tA),get time(){return t8(d.currentTime||0)},set time(newTime){d.currentTime=t9(newTime)},get speed(){return d.playbackRate},set speed(newSpeed){d.playbackRate=newSpeed},get duration(){return t8(f)},play:()=>{u||(d.play(),tL(g))},pause:()=>d.pause(),stop:()=>{if(u=!0,"idle"===d.playState)return;let{currentTime:e}=d;if(e){let r=e8({...o,autoplay:!1});t.setWithVelocity(r.sample(e-10).value,r.sample(e).value,10)}v()},complete:()=>d.finish(),cancel:v}}(e,t,p);if(r)return r}return e8(p)};function rm(t){return!!(L(t)&&t.add)}let rb=t=>/^\-?\d*\.?\d+$/.test(t);function rx(t,e){-1===t.indexOf(e)&&t.push(e)}function rE(t,e){let r=t.indexOf(e);r>-1&&t.splice(r,1)}class rP{constructor(){this.subscriptions=[]}add(t){return rx(this.subscriptions,t),()=>rE(this.subscriptions,t)}notify(t,e,r){let n=this.subscriptions.length;if(n){if(1===n)this.subscriptions[0](t,e,r);else for(let o=0;o<n;o++){let n=this.subscriptions[o];n&&n(t,e,r)}}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}let rM=t=>!isNaN(parseFloat(t)),rw={current:void 0};class rS{constructor(t,e={}){this.version="10.16.1",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(t,e=!0)=>{this.prev=this.current,this.current=t;let{delta:r,timestamp:n}=tI;this.lastUpdated!==n&&(this.timeDelta=r,this.lastUpdated=n,tk.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),e&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>tk.postRender(this.velocityCheck),this.velocityCheck=({timestamp:t})=>{t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=rM(this.current),this.owner=e.owner}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new rP);let r=this.events[t].add(e);return"change"===t?()=>{r(),tk.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(let t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){e&&this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t,e)}setWithVelocity(t,e,r){this.set(e),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return rw.current&&rw.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){var t,e;return this.canTrackVelocity?(t=parseFloat(this.current)-parseFloat(this.prev),(e=this.timeDelta)?t*(1e3/e):0):0}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function r_(t,e){return new rS(t,e)}let rO=t=>e=>e.test(t),rj=[V,Z,J,H,Q,K,{test:t=>"auto"===t,parse:t=>t}],rA=t=>rj.find(rO(t)),rC=[...rj,e_,ez],rk=t=>rC.find(rO(t));function rL(t,e,{delay:r=0,transitionOverride:n,type:o}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:a,...s}=t.makeTargetAnimatable(e),u=t.getValue("willChange");n&&(i=n);let l=[],c=o&&t.animationState&&t.animationState.getState()[o];for(let e in s){let n=t.getValue(e),o=s[e];if(!n||void 0===o||c&&function({protectedKeys:t,needsAnimating:e},r){let n=t.hasOwnProperty(r)&&!0!==e[r];return e[r]=!1,n}(c,e))continue;let a={delay:r,elapsed:0,...i};if(window.HandoffAppearAnimations&&!n.hasAnimated){let r=t.getProps()[t4];r&&(a.elapsed=window.HandoffAppearAnimations(r,e,n,tk))}n.start(ry(e,n,o,t.shouldReduceMotion&&C.has(e)?{type:!1}:a));let f=n.animation;rm(u)&&(u.add(e),f.then(()=>u.remove(e))),l.push(f)}return a&&Promise.all(l).then(()=>{a&&function(t,e){let r=t5(t,e),{transitionEnd:n={},transition:o={},...i}=r?t.makeTargetAnimatable(r,!1):{};for(let e in i={...i,...n}){let r=t_(i[e]);t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,r_(r))}}(t,a)}),l}function rI(t,e,r={}){let n=t5(t,e,r.custom),{transition:o=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(o=r.transitionOverride);let i=n?()=>Promise.all(rL(t,n,r)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(n=0)=>{let{delayChildren:i=0,staggerChildren:a,staggerDirection:s}=o;return function(t,e,r=0,n=0,o=1,i){let a=[],s=(t.variantChildren.size-1)*n,u=1===o?(t=0)=>t*n:(t=0)=>s-t*n;return Array.from(t.variantChildren).sort(rR).forEach((t,n)=>{t.notify("AnimationStart",e),a.push(rI(t,e,{...i,delay:r+u(n)}).then(()=>t.notify("AnimationComplete",e)))}),Promise.all(a)}(t,e,i+n,a,s,r)}:()=>Promise.resolve(),{when:s}=o;if(!s)return Promise.all([i(),a(r.delay)]);{let[t,e]="beforeChildren"===s?[i,a]:[a,i];return t().then(()=>e())}}function rR(t,e){return t.sortNodePosition(e)}let rT=[...v].reverse(),rD=v.length;function rN(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let rF=0,rB=(t,e)=>Math.abs(t-e);class rV{constructor(t,e,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let t=rU(this.lastMoveEventInfo,this.history),e=null!==this.startEvent,r=function(t,e){let r=rB(t.x,e.x),n=rB(t.y,e.y);return Math.sqrt(r**2+n**2)}(t.offset,{x:0,y:0})>=3;if(!e&&!r)return;let{point:n}=t,{timestamp:o}=tI;this.history.push({...n,timestamp:o});let{onStart:i,onMove:a}=this.handlers;e||(i&&i(this.lastMoveEvent,t),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,t)},this.handlePointerMove=(t,e)=>{this.lastMoveEvent=t,this.lastMoveEventInfo=rq(e,this.transformPagePoint),tk.update(this.updatePoint,!0)},this.handlePointerUp=(t,e)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let{onEnd:r,onSessionEnd:n}=this.handlers,o=rU("pointercancel"===t.type?this.lastMoveEventInfo:rq(e,this.transformPagePoint),this.history);this.startEvent&&r&&r(t,o),n&&n(t,o)},!tF(t))return;this.handlers=e,this.transformPagePoint=r;let n=tB(t),o=rq(n,this.transformPagePoint),{point:i}=o,{timestamp:a}=tI;this.history=[{...i,timestamp:a}];let{onSessionStart:s}=e;s&&s(t,rU(o,this.history)),this.removeListeners=tU(tq(window,"pointermove",this.handlePointerMove),tq(window,"pointerup",this.handlePointerUp),tq(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),tL(this.updatePoint)}}function rq(t,e){return e?{point:e(t.point)}:t}function rz(t,e){return{x:t.x-e.x,y:t.y-e.y}}function rU({point:t},e){return{point:t,delta:rz(t,rG(e)),offset:rz(t,e[0]),velocity:function(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null,o=rG(t);for(;r>=0&&(n=t[r],!(o.timestamp-n.timestamp>t9(.1)));)r--;if(!n)return{x:0,y:0};let i=t8(o.timestamp-n.timestamp);if(0===i)return{x:0,y:0};let a={x:(o.x-n.x)/i,y:(o.y-n.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}(e,0)}}function rG(t){return t[t.length-1]}function rY(t){return t.max-t.min}function rX(t,e=0,r=.01){return Math.abs(t-e)<=r}function r$(t,e,r,n=.5){t.origin=n,t.originPoint=eO(e.min,e.max,t.origin),t.scale=rY(r)/rY(e),(rX(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=eO(r.min,r.max,t.origin)-t.originPoint,(rX(t.translate)||isNaN(t.translate))&&(t.translate=0)}function rW(t,e,r,n){r$(t.x,e.x,r.x,n?n.originX:void 0),r$(t.y,e.y,r.y,n?n.originY:void 0)}function rH(t,e,r){t.min=r.min+e.min,t.max=t.min+rY(e)}function rJ(t,e,r){t.min=e.min-r.min,t.max=t.min+rY(e)}function rZ(t,e,r){rJ(t.x,e.x,r.x),rJ(t.y,e.y,r.y)}function rK(t,e,r){return{min:void 0!==e?t.min+e:void 0,max:void 0!==r?t.max+r-(t.max-t.min):void 0}}function rQ(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function r0(t,e,r){return{min:r1(t,e),max:r1(t,r)}}function r1(t,e){return"number"==typeof t?t:t[e]||0}let r2=()=>({translate:0,scale:1,origin:0,originPoint:0}),r3=()=>({x:r2(),y:r2()}),r6=()=>({min:0,max:0}),r5=()=>({x:r6(),y:r6()});function r4(t){return[t("x"),t("y")]}function r9({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function r8(t){return void 0===t||1===t}function r7({scale:t,scaleX:e,scaleY:r}){return!r8(t)||!r8(e)||!r8(r)}function nt(t){return r7(t)||ne(t)||t.z||t.rotate||t.rotateX||t.rotateY}function ne(t){var e,r;return(e=t.x)&&"0%"!==e||(r=t.y)&&"0%"!==r}function nr(t,e,r,n,o){return void 0!==o&&(t=n+o*(t-n)),n+r*(t-n)+e}function nn(t,e=0,r=1,n,o){t.min=nr(t.min,e,r,n,o),t.max=nr(t.max,e,r,n,o)}function no(t,{x:e,y:r}){nn(t.x,e.translate,e.scale,e.originPoint),nn(t.y,r.translate,r.scale,r.originPoint)}function ni(t){return Number.isInteger(t)?t:t>1.0000000000001||t<.999999999999?t:1}function na(t,e){t.min=t.min+e,t.max=t.max+e}function ns(t,e,[r,n,o]){let i=void 0!==e[o]?e[o]:.5,a=eO(t.min,t.max,i);nn(t,e[r],e[n],a,e.scale)}let nu=["x","scaleX","originX"],nl=["y","scaleY","originY"];function nc(t,e){ns(t.x,e,nu),ns(t.y,e,nl)}function nf(t,e){return r9(function(t,e){if(!e)return t;let r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}(t.getBoundingClientRect(),e))}let nh=new WeakMap;class np{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=r5(),this.visualElement=t}start(t,{snapToCursor:e=!1}={}){let{presenceContext:r}=this.visualElement;r&&!1===r.isPresent||(this.panSession=new rV(t,{onSessionStart:t=>{this.stopAnimation(),e&&this.snapToCursor(tB(t,"page").point)},onStart:(t,e)=>{let{drag:r,dragPropagation:n,onDragStart:o}=this.getProps();if(r&&!n&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=t$(r),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),r4(t=>{let e=this.getAxisMotionValue(t).get()||0;if(J.test(e)){let{projection:r}=this.visualElement;if(r&&r.layout){let n=r.layout.layoutBox[t];if(n){let t=rY(n);e=t*(parseFloat(e)/100)}}}this.originPoint[t]=e}),o&&tk.update(()=>o(t,e),!1,!0);let{animationState:i}=this.visualElement;i&&i.setActive("whileDrag",!0)},onMove:(t,e)=>{let{dragPropagation:r,dragDirectionLock:n,onDirectionLock:o,onDrag:i}=this.getProps();if(!r&&!this.openGlobalLock)return;let{offset:a}=e;if(n&&null===this.currentDirection){this.currentDirection=function(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}(a),null!==this.currentDirection&&o&&o(this.currentDirection);return}this.updateAxis("x",e.point,a),this.updateAxis("y",e.point,a),this.visualElement.render(),i&&i(t,e)},onSessionEnd:(t,e)=>this.stop(t,e)},{transformPagePoint:this.visualElement.getTransformPagePoint()}))}stop(t,e){let r=this.isDragging;if(this.cancel(),!r)return;let{velocity:n}=e;this.startAnimation(n);let{onDragEnd:o}=this.getProps();o&&tk.update(()=>o(t,e))}cancel(){this.isDragging=!1;let{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,r){let{drag:n}=this.getProps();if(!r||!nd(t,n,this.currentDirection))return;let o=this.getAxisMotionValue(t),i=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(i=function(t,{min:e,max:r},n){return void 0!==e&&t<e?t=n?eO(e,t,n.min):Math.max(t,e):void 0!==r&&t>r&&(t=n?eO(r,t,n.max):Math.min(t,r)),t}(i,this.constraints[t],this.elastic[t])),o.set(i)}resolveConstraints(){let{dragConstraints:t,dragElastic:e}=this.getProps(),{layout:r}=this.visualElement.projection||{},n=this.constraints;t&&p(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=function(t,{top:e,left:r,bottom:n,right:o}){return{x:rK(t.x,r,o),y:rK(t.y,e,n)}}(r.layoutBox,t):this.constraints=!1,this.elastic=function(t=.35){return!1===t?t=0:!0===t&&(t=.35),{x:r0(t,"left","right"),y:r0(t,"top","bottom")}}(e),n!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&r4(t=>{this.getAxisMotionValue(t)&&(this.constraints[t]=function(t,e){let r={};return void 0!==e.min&&(r.min=e.min-t.min),void 0!==e.max&&(r.max=e.max-t.min),r}(r.layoutBox[t],this.constraints[t]))})}resolveRefConstraints(){var t;let{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!p(e))return!1;let n=e.current;tA(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");let{projection:o}=this.visualElement;if(!o||!o.layout)return!1;let i=function(t,e,r){let n=nf(t,r),{scroll:o}=e;return o&&(na(n.x,o.offset.x),na(n.y,o.offset.y)),n}(n,o.root,this.visualElement.getTransformPagePoint()),a={x:rQ((t=o.layout.layoutBox).x,i.x),y:rQ(t.y,i.y)};if(r){let t=r(function({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}(a));this.hasMutatedConstraints=!!t,t&&(a=r9(t))}return a}startAnimation(t){let{drag:e,dragMomentum:r,dragElastic:n,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),s=this.constraints||{},u=r4(a=>{if(!nd(a,e,this.currentDirection))return;let u=s&&s[a]||{};i&&(u={min:0,max:0});let l={type:"inertia",velocity:r?t[a]:0,bounceStiffness:n?200:1e6,bounceDamping:n?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...o,...u};return this.startAxisValueAnimation(a,l)});return Promise.all(u).then(a)}startAxisValueAnimation(t,e){let r=this.getAxisMotionValue(t);return r.start(ry(t,r,0,e))}stopAnimation(){r4(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){let e="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),n=r[e];return n||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){r4(e=>{let{drag:r}=this.getProps();if(!nd(e,r,this.currentDirection))return;let{projection:n}=this.visualElement,o=this.getAxisMotionValue(e);if(n&&n.layout){let{min:r,max:i}=n.layout.layoutBox[e];o.set(t[e]-eO(r,i,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:t,dragConstraints:e}=this.getProps(),{projection:r}=this.visualElement;if(!p(e)||!r||!this.constraints)return;this.stopAnimation();let n={x:0,y:0};r4(t=>{let e=this.getAxisMotionValue(t);if(e){let r=e.get();n[t]=function(t,e){let r=.5,n=rY(t),o=rY(e);return o>n?r=eW(e.min,e.max-n,t.min):n>o&&(r=eW(t.min,t.max-o,e.min)),B(0,1,r)}({min:r,max:r},this.constraints[t])}});let{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),r4(e=>{if(!nd(e,t,null))return;let r=this.getAxisMotionValue(e),{min:o,max:i}=this.constraints[e];r.set(eO(o,i,n[e]))})}addListeners(){if(!this.visualElement.current)return;nh.set(this.visualElement,this);let t=this.visualElement.current,e=tq(t,"pointerdown",t=>{let{drag:e,dragListener:r=!0}=this.getProps();e&&r&&this.start(t)}),r=()=>{let{dragConstraints:t}=this.getProps();p(t)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,o=n.addEventListener("measure",r);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),r();let i=tN(window,"resize",()=>this.scalePositionWithinConstraints()),a=n.addEventListener("didUpdate",({delta:t,hasLayoutChanged:e})=>{this.isDragging&&e&&(r4(e=>{let r=this.getAxisMotionValue(e);r&&(this.originPoint[e]+=t[e].translate,r.set(r.get()+t[e].translate))}),this.visualElement.render())});return()=>{i(),e(),o(),a&&a()}}getProps(){let t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:r=!1,dragPropagation:n=!1,dragConstraints:o=!1,dragElastic:i=.35,dragMomentum:a=!0}=t;return{...t,drag:e,dragDirectionLock:r,dragPropagation:n,dragConstraints:o,dragElastic:i,dragMomentum:a}}}function nd(t,e,r){return(!0===e||e===t)&&(null===r||r===t)}let ng=t=>(e,r)=>{t&&tk.update(()=>t(e,r))},nv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ny(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}let nm={correct:(t,e)=>{if(!e.target)return t;if("string"==typeof t){if(!Z.test(t))return t;t=parseFloat(t)}let r=ny(t,e.target.x),n=ny(t,e.target.y);return`${r}% ${n}%`}};class nb extends a.Component{componentDidMount(){let{visualElement:t,layoutGroup:e,switchLayoutGroup:r,layoutId:n}=this.props,{projection:o}=t;Object.assign(j,nE),o&&(e.group&&e.group.add(o),r&&r.register&&n&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),nv.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){let{layoutDependency:e,visualElement:r,drag:n,isPresent:o}=this.props,i=r.projection;return i&&(i.isPresent=o,n||t.layoutDependency!==e||void 0===e?i.willUpdate():this.safeToRemove(),t.isPresent===o||(o?i.promote():i.relegate()||tk.postRender(()=>{let t=i.getStack();t&&t.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:t,layoutGroup:e,switchLayoutGroup:r}=this.props,{projection:n}=t;n&&(n.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(n),r&&r.deregister&&r.deregister(n))}safeToRemove(){let{safeToRemove:t}=this.props;t&&t()}render(){return null}}function nx(t){let[e,r]=function(){let t=(0,a.useContext)(l);if(null===t)return[!0,null];let{isPresent:e,onExitComplete:r,register:n}=t,o=(0,a.useId)();return(0,a.useEffect)(()=>n(o),[]),!e&&r?[!1,()=>r&&r(o)]:[!0]}(),n=(0,a.useContext)(M);return a.createElement(nb,{...t,layoutGroup:n,switchLayoutGroup:(0,a.useContext)(w),isPresent:e,safeToRemove:r})}let nE={borderRadius:{...nm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:nm,borderTopRightRadius:nm,borderBottomLeftRadius:nm,borderBottomRightRadius:nm,boxShadow:{correct:(t,{treeScale:e,projectionDelta:r})=>{let n=ez.parse(t);if(n.length>5)return t;let o=ez.createTransformer(t),i="number"!=typeof n[0]?1:0,a=r.x.scale*e.x,s=r.y.scale*e.y;n[0+i]/=a,n[1+i]/=s;let u=eO(a,s,.5);return"number"==typeof n[2+i]&&(n[2+i]/=u),"number"==typeof n[3+i]&&(n[3+i]/=u),o(n)}}},nP=["TopLeft","TopRight","BottomLeft","BottomRight"],nM=nP.length,nw=t=>"string"==typeof t?parseFloat(t):t,nS=t=>"number"==typeof t||Z.test(t);function n_(t,e){return void 0!==t[e]?t[e]:t.borderRadius}let nO=nA(0,.5,eh),nj=nA(.5,.95,tA);function nA(t,e,r){return n=>n<t?0:n>e?1:r(eW(t,e,n))}function nC(t,e){t.min=e.min,t.max=e.max}function nk(t,e){nC(t.x,e.x),nC(t.y,e.y)}function nL(t,e,r,n,o){return t-=e,t=n+1/r*(t-n),void 0!==o&&(t=n+1/o*(t-n)),t}function nI(t,e,[r,n,o],i,a){!function(t,e=0,r=1,n=.5,o,i=t,a=t){if(J.test(e)){e=parseFloat(e);let t=eO(a.min,a.max,e/100);e=t-a.min}if("number"!=typeof e)return;let s=eO(i.min,i.max,n);t===i&&(s-=e),t.min=nL(t.min,e,r,s,o),t.max=nL(t.max,e,r,s,o)}(t,e[r],e[n],e[o],e.scale,i,a)}let nR=["x","scaleX","originX"],nT=["y","scaleY","originY"];function nD(t,e,r,n){nI(t.x,e,nR,r?r.x:void 0,n?n.x:void 0),nI(t.y,e,nT,r?r.y:void 0,n?n.y:void 0)}function nN(t){return 0===t.translate&&1===t.scale}function nF(t){return nN(t.x)&&nN(t.y)}function nB(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function nV(t){return rY(t.x)/rY(t.y)}class nq{constructor(){this.members=[]}add(t){rx(this.members,t),t.scheduleRender()}remove(t){if(rE(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){let t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(t){let e;let r=this.members.findIndex(e=>t===e);if(0===r)return!1;for(let t=r;t>=0;t--){let r=this.members[t];if(!1!==r.isPresent){e=r;break}}return!!e&&(this.promote(e),!0)}promote(t,e){let r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,e&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);let{crossfade:n}=t.options;!1===n&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{let{options:e,resumingFrom:r}=t;e.onExitComplete&&e.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function nz(t,e,r){let n="",o=t.x.translate/e.x,i=t.y.translate/e.y;if((o||i)&&(n=`translate3d(${o}px, ${i}px, 0) `),(1!==e.x||1!==e.y)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){let{rotate:t,rotateX:e,rotateY:o}=r;t&&(n+=`rotate(${t}deg) `),e&&(n+=`rotateX(${e}deg) `),o&&(n+=`rotateY(${o}deg) `)}let a=t.x.scale*e.x,s=t.y.scale*e.y;return(1!==a||1!==s)&&(n+=`scale(${a}, ${s})`),n||"none"}let nU=(t,e)=>t.depth-e.depth;class nG{constructor(){this.children=[],this.isDirty=!1}add(t){rx(this.children,t),this.isDirty=!0}remove(t){rE(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(nU),this.isDirty=!1,this.children.forEach(t)}}let nY=["","X","Y","Z"],nX=0,n$={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function nW({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:o}){return class{constructor(t={},r=null==e?void 0:e()){this.id=nX++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{n$.totalNodes=n$.resolvedTargetDeltas=n$.recalculatedProjection=0,this.nodes.forEach(nZ),this.nodes.forEach(n6),this.nodes.forEach(n5),this.nodes.forEach(nK),window.MotionDebug&&window.MotionDebug.record(n$)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=t,this.root=r?r.root||r:this,this.path=r?[...r.path,r]:[],this.parent=r,this.depth=r?r.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new nG)}addEventListener(t,e){return this.eventHandlers.has(t)||this.eventHandlers.set(t,new rP),this.eventHandlers.get(t).add(e)}notifyListeners(t,...e){let r=this.eventHandlers.get(t);r&&r.notify(...e)}hasListeners(t){return this.eventHandlers.has(t)}mount(e,r=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=e instanceof SVGElement&&"svg"!==e.tagName,this.instance=e;let{layoutId:n,layout:o,visualElement:i}=this.options;if(i&&!i.current&&i.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),r&&(o||n)&&(this.isLayoutDirty=!0),t){let r;let n=()=>this.root.updateBlockedByResize=!1;t(e,()=>{this.root.updateBlockedByResize=!0,r&&r(),r=function(t,e){let r=performance.now(),n=({timestamp:o})=>{let i=o-r;i>=e&&(tL(n),t(i-e))};return tk.read(n,!0),()=>tL(n)}(n,250),nv.hasAnimatedSinceResize&&(nv.hasAnimatedSinceResize=!1,this.nodes.forEach(n3))})}n&&this.root.registerSharedNode(n,this),!1!==this.options.animate&&i&&(n||o)&&this.addEventListener("didUpdate",({delta:t,hasLayoutChanged:e,hasRelativeTargetChanged:r,layout:n})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let o=this.options.transition||i.getDefaultTransition()||oe,{onLayoutAnimationStart:a,onLayoutAnimationComplete:s}=i.getProps(),u=!this.targetLayout||!nB(this.targetLayout,n)||r,l=!e&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||l||e&&(u||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,l);let e={...rv(o,"layout"),onPlay:a,onComplete:s};(i.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else e||n3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=n})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let t=this.getStack();t&&t.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,tL(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(n4),this.animationId++)}getTransformTemplate(){let{visualElement:t}=this.options;return t&&t.getProps().transformTemplate}willUpdate(t=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let t=0;t<this.path.length;t++){let e=this.path[t];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}let{layoutId:e,layout:r}=this.options;if(void 0===e&&!r)return;let n=this.getTransformTemplate();this.prevTransformTemplateValue=n?n(this.latestValues,""):void 0,this.updateSnapshot(),t&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;let t=this.isUpdateBlocked();if(t){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(n0);return}this.isUpdating||this.nodes.forEach(n1),this.isUpdating=!1,this.nodes.forEach(n2),this.nodes.forEach(nH),this.nodes.forEach(nJ),this.clearAllSnapshots();let e=performance.now();tI.delta=B(0,1e3/60,e-tI.timestamp),tI.timestamp=e,tI.isProcessing=!0,tR.update.process(tI),tR.preRender.process(tI),tR.render.process(tI),tI.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(nQ),this.sharedNodes.forEach(n9)}scheduleUpdateProjection(){tk.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){tk.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let t=0;t<this.path.length;t++){let e=this.path[t];e.updateScroll()}let t=this.layout;this.layout=this.measure(!1),this.layoutCorrected=r5(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:e}=this.options;e&&e.notify("LayoutMeasure",this.layout.layoutBox,t?t.layoutBox:void 0)}updateScroll(t="measure"){let e=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===t&&(e=!1),e&&(this.scroll={animationId:this.root.animationId,phase:t,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!o)return;let t=this.isLayoutDirty||this.shouldResetTransform,e=this.projectionDelta&&!nF(this.projectionDelta),r=this.getTransformTemplate(),n=r?r(this.latestValues,""):void 0,i=n!==this.prevTransformTemplateValue;t&&(e||nt(this.latestValues)||i)&&(o(this.instance,n),this.shouldResetTransform=!1,this.scheduleRender())}measure(t=!0){var e;let r=this.measurePageBox(),n=this.removeElementScroll(r);return t&&(n=this.removeTransform(n)),oo((e=n).x),oo(e.y),{animationId:this.root.animationId,measuredBox:r,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:t}=this.options;if(!t)return r5();let e=t.measureViewportBox(),{scroll:r}=this.root;return r&&(na(e.x,r.offset.x),na(e.y,r.offset.y)),e}removeElementScroll(t){let e=r5();nk(e,t);for(let r=0;r<this.path.length;r++){let n=this.path[r],{scroll:o,options:i}=n;if(n!==this.root&&o&&i.layoutScroll){if(o.isRoot){nk(e,t);let{scroll:r}=this.root;r&&(na(e.x,-r.offset.x),na(e.y,-r.offset.y))}na(e.x,o.offset.x),na(e.y,o.offset.y)}}return e}applyTransform(t,e=!1){let r=r5();nk(r,t);for(let t=0;t<this.path.length;t++){let n=this.path[t];!e&&n.options.layoutScroll&&n.scroll&&n!==n.root&&nc(r,{x:-n.scroll.offset.x,y:-n.scroll.offset.y}),nt(n.latestValues)&&nc(r,n.latestValues)}return nt(this.latestValues)&&nc(r,this.latestValues),r}removeTransform(t){let e=r5();nk(e,t);for(let t=0;t<this.path.length;t++){let r=this.path[t];if(!r.instance||!nt(r.latestValues))continue;r7(r.latestValues)&&r.updateSnapshot();let n=r5(),o=r.measurePageBox();nk(n,o),nD(e,r.latestValues,r.snapshot?r.snapshot.layoutBox:void 0,n)}return nt(this.latestValues)&&nD(e,this.latestValues),e}setTargetDelta(t){this.targetDelta=t,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(t){this.options={...this.options,...t,crossfade:void 0===t.crossfade||t.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tI.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(t=!1){var e,r,n,o;let i=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=i.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=i.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=i.isSharedProjectionDirty);let a=!!this.resumingFrom||this!==i,s=!(t||a&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty)||this.attemptToResolveRelativeTarget);if(s)return;let{layout:u,layoutId:l}=this.options;if(this.layout&&(u||l)){if(this.resolvedRelativeTargetAt=tI.timestamp,!this.targetDelta&&!this.relativeTarget){let t=this.getClosestProjectingParent();t&&t.layout&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget=r5(),this.relativeTargetOrigin=r5(),rZ(this.relativeTargetOrigin,this.layout.layoutBox,t.layout.layoutBox),nk(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if((this.target||(this.target=r5(),this.targetWithTransforms=r5()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target)?(this.forceRelativeParentToResolveTarget(),r=this.target,n=this.relativeTarget,o=this.relativeParent.target,rH(r.x,n.x,o.x),rH(r.y,n.y,o.y)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):nk(this.target,this.layout.layoutBox),no(this.target,this.targetDelta)):nk(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let t=this.getClosestProjectingParent();t&&!!t.resumingFrom==!!this.resumingFrom&&!t.options.layoutScroll&&t.target&&1!==this.animationProgress?(this.relativeParent=t,this.forceRelativeParentToResolveTarget(),this.relativeTarget=r5(),this.relativeTargetOrigin=r5(),rZ(this.relativeTargetOrigin,this.target,t.target),nk(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}n$.resolvedTargetDeltas++}}}getClosestProjectingParent(){return!this.parent||r7(this.parent.latestValues)||ne(this.parent.latestValues)?void 0:this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var t;let e=this.getLead(),r=!!this.resumingFrom||this!==e,n=!0;if((this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty))&&(n=!1),r&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(n=!1),this.resolvedRelativeTargetAt===tI.timestamp&&(n=!1),n)return;let{layout:o,layoutId:i}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(o||i))return;nk(this.layoutCorrected,this.layout.layoutBox);let a=this.treeScale.x,s=this.treeScale.y;!function(t,e,r,n=!1){let o,i;let a=r.length;if(a){e.x=e.y=1;for(let s=0;s<a;s++){i=(o=r[s]).projectionDelta;let a=o.instance;(!a||!a.style||"contents"!==a.style.display)&&(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&nc(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(e.x*=i.x.scale,e.y*=i.y.scale,no(t,i)),n&&nt(o.latestValues)&&nc(t,o.latestValues))}e.x=ni(e.x),e.y=ni(e.y)}}(this.layoutCorrected,this.treeScale,this.path,r),e.layout&&!e.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(e.target=e.layout.layoutBox);let{target:u}=e;if(!u){this.projectionTransform&&(this.projectionDelta=r3(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=r3(),this.projectionDeltaWithTransform=r3());let l=this.projectionTransform;rW(this.projectionDelta,this.layoutCorrected,u,this.latestValues),this.projectionTransform=nz(this.projectionDelta,this.treeScale),(this.projectionTransform!==l||this.treeScale.x!==a||this.treeScale.y!==s)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",u)),n$.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(t=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),t){let t=this.getStack();t&&t.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(t,e=!1){let r;let n=this.snapshot,o=n?n.latestValues:{},i={...this.latestValues},a=r3();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!e;let s=r5(),u=n?n.source:void 0,l=this.layout?this.layout.source:void 0,c=u!==l,f=this.getStack(),h=!f||f.members.length<=1,p=!!(c&&!h&&!0===this.options.crossfade&&!this.path.some(ot));this.animationProgress=0,this.mixTargetDelta=e=>{let n=e/1e3;if(n8(a.x,t.x,n),n8(a.y,t.y,n),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var u,l,f,d;rZ(s,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f=this.relativeTarget,d=this.relativeTargetOrigin,n7(f.x,d.x,s.x,n),n7(f.y,d.y,s.y,n),r&&(u=this.relativeTarget,l=r,u.x.min===l.x.min&&u.x.max===l.x.max&&u.y.min===l.y.min&&u.y.max===l.y.max)&&(this.isProjectionDirty=!1),r||(r=r5()),nk(r,this.relativeTarget)}c&&(this.animationValues=i,function(t,e,r,n,o,i){o?(t.opacity=eO(0,void 0!==r.opacity?r.opacity:1,nO(n)),t.opacityExit=eO(void 0!==e.opacity?e.opacity:1,0,nj(n))):i&&(t.opacity=eO(void 0!==e.opacity?e.opacity:1,void 0!==r.opacity?r.opacity:1,n));for(let o=0;o<nM;o++){let i=`border${nP[o]}Radius`,a=n_(e,i),s=n_(r,i);if(void 0===a&&void 0===s)continue;a||(a=0),s||(s=0);let u=0===a||0===s||nS(a)===nS(s);u?(t[i]=Math.max(eO(nw(a),nw(s),n),0),(J.test(s)||J.test(a))&&(t[i]+="%")):t[i]=s}(e.rotate||r.rotate)&&(t.rotate=eO(e.rotate||0,r.rotate||0,n))}(i,o,this.latestValues,n,p,h)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(t){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(tL(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tk.update(()=>{nv.hasAnimatedSinceResize=!0,this.currentAnimation=function(t,e,r){let n=L(t)?t:r_(t);return n.start(ry("",n,1e3,r)),n.animation}(0,0,{...t,onUpdate:e=>{this.mixTargetDelta(e),t.onUpdate&&t.onUpdate(e)},onComplete:()=>{t.onComplete&&t.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let t=this.getStack();t&&t.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let t=this.getLead(),{targetWithTransforms:e,target:r,layout:n,latestValues:o}=t;if(e&&r&&n){if(this!==t&&this.layout&&n&&oi(this.options.animationType,this.layout.layoutBox,n.layoutBox)){r=this.target||r5();let e=rY(this.layout.layoutBox.x);r.x.min=t.target.x.min,r.x.max=r.x.min+e;let n=rY(this.layout.layoutBox.y);r.y.min=t.target.y.min,r.y.max=r.y.min+n}nk(e,r),nc(e,o),rW(this.projectionDeltaWithTransform,this.layoutCorrected,e,o)}}registerSharedNode(t,e){this.sharedNodes.has(t)||this.sharedNodes.set(t,new nq);let r=this.sharedNodes.get(t);r.add(e);let n=e.options.initialPromotionConfig;e.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(e):void 0})}isLead(){let t=this.getStack();return!t||t.lead===this}getLead(){var t;let{layoutId:e}=this.options;return e&&(null===(t=this.getStack())||void 0===t?void 0:t.lead)||this}getPrevLead(){var t;let{layoutId:e}=this.options;return e?null===(t=this.getStack())||void 0===t?void 0:t.prevLead:void 0}getStack(){let{layoutId:t}=this.options;if(t)return this.root.sharedNodes.get(t)}promote({needsReset:t,transition:e,preserveFollowOpacity:r}={}){let n=this.getStack();n&&n.promote(this,r),t&&(this.projectionDelta=void 0,this.needsReset=!0),e&&this.setOptions({transition:e})}relegate(){let t=this.getStack();return!!t&&t.relegate(this)}resetRotation(){let{visualElement:t}=this.options;if(!t)return;let e=!1,{latestValues:r}=t;if((r.rotate||r.rotateX||r.rotateY||r.rotateZ)&&(e=!0),!e)return;let n={};for(let e=0;e<nY.length;e++){let o="rotate"+nY[e];r[o]&&(n[o]=r[o],t.setStaticValue(o,0))}for(let e in t.render(),n)t.setStaticValue(e,n[e]);t.scheduleRender()}getProjectionStyles(t={}){var e,r;let n={};if(!this.instance||this.isSVG)return n;if(!this.isVisible)return{visibility:"hidden"};n.visibility="";let o=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,n.opacity="",n.pointerEvents=tO(t.pointerEvents)||"",n.transform=o?o(this.latestValues,""):"none",n;let i=this.getLead();if(!this.projectionDelta||!this.layout||!i.target){let e={};return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=tO(t.pointerEvents)||""),this.hasProjected&&!nt(this.latestValues)&&(e.transform=o?o({},""):"none",this.hasProjected=!1),e}let a=i.animationValues||i.latestValues;this.applyTransformsToTarget(),n.transform=nz(this.projectionDeltaWithTransform,this.treeScale,a),o&&(n.transform=o(a,n.transform));let{x:s,y:u}=this.projectionDelta;for(let t in n.transformOrigin=`${100*s.origin}% ${100*u.origin}% 0`,i.animationValues?n.opacity=i===this?null!==(r=null!==(e=a.opacity)&&void 0!==e?e:this.latestValues.opacity)&&void 0!==r?r:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:n.opacity=i===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0,j){if(void 0===a[t])continue;let{correct:e,applyTo:r}=j[t],o="none"===n.transform?a[t]:e(a[t],i);if(r){let t=r.length;for(let e=0;e<t;e++)n[r[e]]=o}else n[t]=o}return this.options.layoutId&&(n.pointerEvents=i===this?tO(t.pointerEvents)||"":"none"),n}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(t=>{var e;return null===(e=t.currentAnimation)||void 0===e?void 0:e.stop()}),this.root.nodes.forEach(n0),this.root.sharedNodes.clear()}}}function nH(t){t.updateLayout()}function nJ(t){var e;let r=(null===(e=t.resumeFrom)||void 0===e?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){let{layoutBox:e,measuredBox:n}=t.layout,{animationType:o}=t.options,i=r.source!==t.layout.source;"size"===o?r4(t=>{let n=i?r.measuredBox[t]:r.layoutBox[t],o=rY(n);n.min=e[t].min,n.max=n.min+o}):oi(o,r.layoutBox,e)&&r4(n=>{let o=i?r.measuredBox[n]:r.layoutBox[n],a=rY(e[n]);o.max=o.min+a,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[n].max=t.relativeTarget[n].min+a)});let a=r3();rW(a,e,r.layoutBox);let s=r3();i?rW(s,t.applyTransform(n,!0),r.measuredBox):rW(s,e,r.layoutBox);let u=!nF(a),l=!1;if(!t.resumeFrom){let n=t.getClosestProjectingParent();if(n&&!n.resumeFrom){let{snapshot:o,layout:i}=n;if(o&&i){let a=r5();rZ(a,r.layoutBox,o.layoutBox);let s=r5();rZ(s,e,i.layoutBox),nB(a,s)||(l=!0),n.options.layoutRoot&&(t.relativeTarget=s,t.relativeTargetOrigin=a,t.relativeParent=n)}}}t.notifyListeners("didUpdate",{layout:e,snapshot:r,delta:s,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:l})}else if(t.isLead()){let{onExitComplete:e}=t.options;e&&e()}t.options.transition=void 0}function nZ(t){n$.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function nK(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function nQ(t){t.clearSnapshot()}function n0(t){t.clearMeasurements()}function n1(t){t.isLayoutDirty=!1}function n2(t){let{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function n3(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function n6(t){t.resolveTargetDelta()}function n5(t){t.calcProjection()}function n4(t){t.resetRotation()}function n9(t){t.removeLeadSnapshot()}function n8(t,e,r){t.translate=eO(e.translate,0,r),t.scale=eO(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function n7(t,e,r,n){t.min=eO(e.min,r.min,n),t.max=eO(e.max,r.max,n)}function ot(t){return t.animationValues&&void 0!==t.animationValues.opacityExit}let oe={duration:.45,ease:[.4,0,.1,1]},or=t=>"undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().includes(t),on=or("applewebkit/")&&!or("chrome/")?Math.round:tA;function oo(t){t.min=on(t.min),t.max=on(t.max)}function oi(t,e,r){return"position"===t||"preserve-aspect"===t&&!rX(nV(e),nV(r),.2)}let oa=nW({attachResizeListener:(t,e)=>tN(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),os={current:void 0},ou=nW({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!os.current){let t=new oa({});t.mount(window),t.setOptions({layoutScroll:!0}),os.current=t}return os.current},resetTransform:(t,e)=>{t.style.transform=void 0!==e?e:"none"},checkIsScrollRoot:t=>"fixed"===window.getComputedStyle(t).position}),ol=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function oc(t,e,r=1){tA(r<=4,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`);let[n,o]=function(t){let e=ol.exec(t);if(!e)return[,];let[,r,n]=e;return[r,n]}(t);if(!n)return;let i=window.getComputedStyle(e).getPropertyValue(n);if(i){let t=i.trim();return rb(t)?parseFloat(t):t}return N(o)?oc(o,e,r+1):o}let of=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),oh=t=>of.has(t),op=t=>Object.keys(t).some(oh),od=t=>t===V||t===Z,og=(t,e)=>parseFloat(t.split(", ")[e]),ov=(t,e)=>(r,{transform:n})=>{if("none"===n||!n)return 0;let o=n.match(/^matrix3d\((.+)\)$/);if(o)return og(o[1],e);{let e=n.match(/^matrix\((.+)\)$/);return e?og(e[1],t):0}},oy=new Set(["x","y","z"]),om=A.filter(t=>!oy.has(t)),ob={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:ov(4,13),y:ov(5,14)};ob.translateX=ob.x,ob.translateY=ob.y;let ox=(t,e,r)=>{let n=e.measureViewportBox(),o=e.current,i=getComputedStyle(o),{display:a}=i,s={};"none"===a&&e.setStaticValue("display",t.display||"block"),r.forEach(t=>{s[t]=ob[t](n,i)}),e.render();let u=e.measureViewportBox();return r.forEach(r=>{let n=e.getValue(r);n&&n.jump(s[r]),t[r]=ob[r](u,i)}),t},oE=(t,e,r={},n={})=>{e={...e},n={...n};let o=Object.keys(e).filter(oh),i=[],a=!1,s=[];if(o.forEach(o=>{let u;let l=t.getValue(o);if(!t.hasValue(o))return;let c=r[o],f=rA(c),h=e[o];if(tw(h)){let t=h.length,e=null===h[0]?1:0;f=rA(c=h[e]);for(let r=e;r<t&&null!==h[r];r++)u?tA(rA(h[r])===u,"All keyframes must be of the same type"):tA((u=rA(h[r]))===f||od(f)&&od(u),"Keyframes must be of the same dimension as the current value")}else u=rA(h);if(f!==u){if(od(f)&&od(u)){let t=l.get();"string"==typeof t&&l.set(parseFloat(t)),"string"==typeof h?e[o]=parseFloat(h):Array.isArray(h)&&u===Z&&(e[o]=h.map(parseFloat))}else(null==f?void 0:f.transform)&&(null==u?void 0:u.transform)&&(0===c||0===h)?0===c?l.set(u.transform(c)):e[o]=f.transform(h):(a||(i=function(t){let e=[];return om.forEach(r=>{let n=t.getValue(r);void 0!==n&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e.length&&t.render(),e}(t),a=!0),s.push(o),n[o]=void 0!==n[o]?n[o]:e[o],l.jump(h))}}),!s.length)return{target:e,transitionEnd:n};{let r=s.indexOf("height")>=0?window.pageYOffset:null,o=ox(e,t,s);return i.length&&i.forEach(([e,r])=>{t.getValue(e).set(r)}),t.render(),c&&null!==r&&window.scrollTo({top:r}),{target:o,transitionEnd:n}}},oP=(t,e,r,n)=>{var o,i;let a=function(t,{...e},r){let n=t.current;if(!(n instanceof Element))return{target:e,transitionEnd:r};for(let o in r&&(r={...r}),t.values.forEach(t=>{let e=t.get();if(!N(e))return;let r=oc(e,n);r&&t.set(r)}),e){let t=e[o];if(!N(t))continue;let i=oc(t,n);i&&(e[o]=i,r||(r={}),void 0===r[o]&&(r[o]=t))}return{target:e,transitionEnd:r}}(t,e,n);return e=a.target,n=a.transitionEnd,o=e,i=n,op(o)?oE(t,o,r,i):{target:o,transitionEnd:i}},oM={current:null},ow={current:!1},oS=new WeakMap,o_=Object.keys(P),oO=o_.length,oj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],oA=y.length;class oC{constructor({parent:t,props:e,presenceContext:r,reducedMotionConfig:n,visualState:o},i={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>tk.render(this.render,!1,!0);let{latestValues:a,renderState:s}=o;this.latestValues=a,this.baseTarget={...a},this.initialValues=e.initial?{...a}:{},this.renderState=s,this.parent=t,this.props=e,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=n,this.options=i,this.isControllingVariants=m(e),this.isVariantNode=b(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);let{willChange:u,...l}=this.scrapeMotionValuesFromProps(e,{});for(let t in l){let e=l[t];void 0!==a[t]&&L(e)&&(e.set(a[t],!1),rm(u)&&u.add(t))}}scrapeMotionValuesFromProps(t,e){return{}}mount(t){this.current=t,oS.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,e)=>this.bindToMotionValue(e,t)),ow.current||function(){if(ow.current=!0,c){if(window.matchMedia){let t=window.matchMedia("(prefers-reduced-motion)"),e=()=>oM.current=t.matches;t.addListener(e),e()}else oM.current=!1}}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||oM.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){for(let t in oS.delete(this.current),this.projection&&this.projection.unmount(),tL(this.notifyUpdate),tL(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this),this.events)this.events[t].clear();for(let t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,e){let r=C.has(t),n=e.on("change",e=>{this.latestValues[t]=e,this.props.onUpdate&&tk.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=e.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{n(),o()})}sortNodePosition(t){return this.current&&this.sortInstanceNodePosition&&this.type===t.type?this.sortInstanceNodePosition(this.current,t.current):0}loadFeatures({children:t,...e},r,n,o){let i,a;for(let t=0;t<oO;t++){let r=o_[t],{isEnabled:n,Feature:o,ProjectionNode:s,MeasureLayout:u}=P[r];s&&(i=s),n(e)&&(!this.features[r]&&o&&(this.features[r]=new o(this)),u&&(a=u))}if(!this.projection&&i){this.projection=new i(this.latestValues,this.parent&&this.parent.projection);let{layoutId:t,layout:r,drag:n,dragConstraints:a,layoutScroll:s,layoutRoot:u}=e;this.projection.setOptions({layoutId:t,layout:r,alwaysMeasureLayout:!!n||a&&p(a),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"==typeof r?r:"both",initialPromotionConfig:o,layoutScroll:s,layoutRoot:u})}return a}updateFeatures(){for(let t in this.features){let e=this.features[t];e.isMounted?e.update():(e.mount(),e.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):r5()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}makeTargetAnimatable(t,e=!0){return this.makeTargetAnimatableFromInstance(t,this.props,e)}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let e=0;e<oj.length;e++){let r=oj[e];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);let n=t["on"+r];n&&(this.propEventSubscriptions[r]=this.on(r,n))}this.prevMotionValues=function(t,e,r){let{willChange:n}=e;for(let o in e){let i=e[o],a=r[o];if(L(i))t.addValue(o,i),rm(n)&&n.add(o);else if(L(a))t.addValue(o,r_(i,{owner:t})),rm(n)&&n.remove(o);else if(a!==i){if(t.hasValue(o)){let e=t.getValue(o);e.hasAnimated||e.set(i)}else{let e=t.getStaticValue(o);t.addValue(o,r_(void 0!==e?e:i,{owner:t}))}}}for(let n in r)void 0===e[n]&&t.removeValue(n);return e}(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){let t=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(t.initial=this.props.initial),t}let e={};for(let t=0;t<oA;t++){let r=y[t],n=this.props[r];(d(n)||!1===n)&&(e[r]=n)}return e}addVariantChild(t){let e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){e!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,e)),this.values.set(t,e),this.latestValues[t]=e.get()}removeValue(t){this.values.delete(t);let e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return void 0===r&&void 0!==e&&(r=r_(e,{owner:this}),this.addValue(t,r)),r}readValue(t){var e;return void 0===this.latestValues[t]&&this.current?null!==(e=this.getBaseTargetFromProps(this.props,t))&&void 0!==e?e:this.readValueFromInstance(this.current,t,this.options):this.latestValues[t]}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;let{initial:r}=this.props,n="string"==typeof r||"object"==typeof r?null===(e=tM(this.props,r))||void 0===e?void 0:e[t]:void 0;if(r&&void 0!==n)return n;let o=this.getBaseTargetFromProps(this.props,t);return void 0===o||L(o)?void 0!==this.initialValues[t]&&void 0===n?void 0:this.baseTarget[t]:o}on(t,e){return this.events[t]||(this.events[t]=new rP),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}class ok extends oC{sortInstanceNodePosition(t,e){return 2&t.compareDocumentPosition(e)?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:r}){delete e[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:e,...r},{transformValues:n},o){let i=function(t,e,r){let n={};for(let o in t){let t=function(t,e){if(!e)return;let r=e[t]||e.default||e;return r.from}(o,e);if(void 0!==t)n[o]=t;else{let t=r.getValue(o);t&&(n[o]=t.get())}}return n}(r,t||{},this);if(n&&(e&&(e=n(e)),r&&(r=n(r)),i&&(i=n(i))),o){!function(t,e,r){var n,o;let i=Object.keys(e).filter(e=>!t.hasValue(e)),a=i.length;if(a)for(let s=0;s<a;s++){let a=i[s],u=e[a],l=null;Array.isArray(u)&&(l=u[0]),null===l&&(l=null!==(o=null!==(n=r[a])&&void 0!==n?n:t.readValue(a))&&void 0!==o?o:e[a]),null!=l&&("string"==typeof l&&(rb(l)||rg(l))?l=parseFloat(l):!rk(l)&&ez.test(u)&&(l=rd(a,u)),t.addValue(a,r_(l,{owner:t})),void 0===r[a]&&(r[a]=l),null!==l&&t.setBaseTarget(a,l))}}(this,r,i);let t=oP(this,r,i,e);e=t.transitionEnd,r=t.target}return{transition:t,transitionEnd:e,...r}}}class oL extends ok{readValueFromInstance(t,e){if(C.has(e)){let t=rp(e);return t&&t.default||0}{let r=window.getComputedStyle(t),n=(D(e)?r.getPropertyValue(e):r[e])||0;return"string"==typeof n?n.trim():n}}measureInstanceViewportBox(t,{transformPagePoint:e}){return nf(t,e)}build(t,e,r,n){tn(t,e,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,e){return tE(t,e)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:t}=this.props;L(t)&&(this.childSubscription=t.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(t,e,r,n){tm(t,e,r,n)}}class oI extends ok{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(C.has(e)){let t=rp(e);return t&&t.default||0}return e=tb.has(e)?e:ty(e),t.getAttribute(e)}measureInstanceViewportBox(){return r5()}scrapeMotionValuesFromProps(t,e){return tP(t,e)}build(t,e,r,n){tp(t,e,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,e,r,n){tx(t,e,r,n)}mount(t){this.isSVGTag=tg(t.tagName),super.mount(t)}}let oR=(t,e)=>O(t)?new oI(e,{enableHardwareAcceleration:!1}):new oL(e,{enableHardwareAcceleration:!0}),oT={animation:{Feature:class extends tH{constructor(t){super(t),t.animationState||(t.animationState=function(t){let e=e=>Promise.all(e.map(({animation:e,options:r})=>(function(t,e,r={}){let n;if(t.notify("AnimationStart",e),Array.isArray(e)){let o=e.map(e=>rI(t,e,r));n=Promise.all(o)}else if("string"==typeof e)n=rI(t,e,r);else{let o="function"==typeof e?t5(t,e,r.custom):e;n=Promise.all(rL(t,o,r))}return n.then(()=>t.notify("AnimationComplete",e))})(t,e,r))),r={animate:rN(!0),whileInView:rN(),whileHover:rN(),whileTap:rN(),whileDrag:rN(),whileFocus:rN(),exit:rN()},n=!0,o=(e,r)=>{let n=t5(t,r);if(n){let{transition:t,transitionEnd:r,...o}=n;e={...e,...o,...r}}return e};function i(i,a){let s=t.getProps(),u=t.getVariantContext(!0)||{},l=[],c=new Set,f={},h=1/0;for(let e=0;e<rD;e++){var p;let v=rT[e],y=r[v],m=void 0!==s[v]?s[v]:u[v],b=d(m),x=v===a?y.isActive:null;!1===x&&(h=e);let E=m===u[v]&&m!==s[v]&&b;if(E&&n&&t.manuallyAnimateOnMount&&(E=!1),y.protectedKeys={...f},!y.isActive&&null===x||!m&&!y.prevProp||g(m)||"boolean"==typeof m)continue;let P=(p=y.prevProp,"string"==typeof m?m!==p:!!Array.isArray(m)&&!t6(m,p)),M=P||v===a&&y.isActive&&!E&&b||e>h&&b,w=Array.isArray(m)?m:[m],S=w.reduce(o,{});!1===x&&(S={});let{prevResolvedValues:_={}}=y,O={..._,...S},j=t=>{M=!0,c.delete(t),y.needsAnimating[t]=!0};for(let t in O){let e=S[t],r=_[t];f.hasOwnProperty(t)||(e!==r?tw(e)&&tw(r)?!t6(e,r)||P?j(t):y.protectedKeys[t]=!0:void 0!==e?j(t):c.add(t):void 0!==e&&c.has(t)?j(t):y.protectedKeys[t]=!0)}y.prevProp=m,y.prevResolvedValues=S,y.isActive&&(f={...f,...S}),n&&t.blockInitialAnimation&&(M=!1),M&&!E&&l.push(...w.map(t=>({animation:t,options:{type:v,...i}})))}if(c.size){let e={};c.forEach(r=>{let n=t.getBaseTarget(r);void 0!==n&&(e[r]=n)}),l.push({animation:e})}let v=!!l.length;return n&&!1===s.initial&&!t.manuallyAnimateOnMount&&(v=!1),n=!1,v?e(l):Promise.resolve()}return{animateChanges:i,setActive:function(e,n,o){var a;if(r[e].isActive===n)return Promise.resolve();null===(a=t.variantChildren)||void 0===a||a.forEach(t=>{var r;return null===(r=t.animationState)||void 0===r?void 0:r.setActive(e,n)}),r[e].isActive=n;let s=i(o,e);for(let t in r)r[t].protectedKeys={};return s},setAnimateFunction:function(r){e=r(t)},getState:()=>r}}(t))}updateAnimationControlsSubscription(){let{animate:t}=this.node.getProps();this.unmount(),g(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends tH{constructor(){super(...arguments),this.id=rF++}update(){if(!this.node.presenceContext)return;let{isPresent:t,onExitComplete:e,custom:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;let o=this.node.animationState.setActive("exit",!t,{custom:null!=r?r:this.node.getProps().custom});e&&!t&&o.then(()=>e(this.id))}mount(){let{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}},inView:{Feature:class extends tH{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();let{viewport:t={}}=this.node.getProps(),{root:e,margin:r,amount:n="some",once:o}=t,i={root:e?e.current:void 0,rootMargin:r,threshold:"number"==typeof n?n:t3[n]};return function(t,e,r){let n=function({root:t,...e}){let r=t||document;t0.has(r)||t0.set(r,{});let n=t0.get(r),o=JSON.stringify(e);return n[o]||(n[o]=new IntersectionObserver(t2,{root:t,...e})),n[o]}(e);return tQ.set(t,r),n.observe(t),()=>{tQ.delete(t),n.unobserve(t)}}(this.node.current,i,t=>{let{isIntersecting:e}=t;if(this.isInView===e||(this.isInView=e,o&&!e&&this.hasEnteredView))return;e&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",e);let{onViewportEnter:r,onViewportLeave:n}=this.node.getProps(),i=e?r:n;i&&i(t)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:t,prevProps:e}=this.node,r=["amount","margin","root"].some(function({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}(t,e));r&&this.startObserver()}unmount(){}}},tap:{Feature:class extends tH{constructor(){super(...arguments),this.removeStartListeners=tA,this.removeEndListeners=tA,this.removeAccessibleListeners=tA,this.startPointerPress=(t,e)=>{if(this.removeEndListeners(),this.isPressing)return;let r=this.node.getProps(),n=tq(window,"pointerup",(t,e)=>{if(!this.checkPressEnd())return;let{onTap:r,onTapCancel:n}=this.node.getProps();tk.update(()=>{tZ(this.node.current,t.target)?r&&r(t,e):n&&n(t,e)})},{passive:!(r.onTap||r.onPointerUp)}),o=tq(window,"pointercancel",(t,e)=>this.cancelPress(t,e),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=tU(n,o),this.startPress(t,e)},this.startAccessiblePress=()=>{let t=tN(this.node.current,"keydown",t=>{"Enter"!==t.key||this.isPressing||(this.removeEndListeners(),this.removeEndListeners=tN(this.node.current,"keyup",t=>{"Enter"===t.key&&this.checkPressEnd()&&tK("up",(t,e)=>{let{onTap:r}=this.node.getProps();r&&tk.update(()=>r(t,e))})}),tK("down",(t,e)=>{this.startPress(t,e)}))}),e=tN(this.node.current,"blur",()=>{this.isPressing&&tK("cancel",(t,e)=>this.cancelPress(t,e))});this.removeAccessibleListeners=tU(t,e)}}startPress(t,e){this.isPressing=!0;let{onTapStart:r,whileTap:n}=this.node.getProps();n&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&tk.update(()=>r(t,e))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;let t=this.node.getProps();return t.whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!tW()}cancelPress(t,e){if(!this.checkPressEnd())return;let{onTapCancel:r}=this.node.getProps();r&&tk.update(()=>r(t,e))}mount(){let t=this.node.getProps(),e=tq(this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=tN(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=tU(e,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends tH{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch(e){t=!0}t&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=tU(tN(this.node.current,"focus",()=>this.onFocus()),tN(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends tH{mount(){this.unmount=tU(tJ(this.node,!0),tJ(this.node,!1))}unmount(){}}},pan:{Feature:class extends tH{constructor(){super(...arguments),this.removePointerDownListener=tA}onPointerDown(t){this.session=new rV(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){let{onPanSessionStart:t,onPanStart:e,onPan:r,onPanEnd:n}=this.node.getProps();return{onSessionStart:ng(t),onStart:ng(e),onMove:r,onEnd:(t,e)=>{delete this.session,n&&tk.update(()=>n(t,e))}}}mount(){this.removePointerDownListener=tq(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends tH{constructor(t){super(t),this.removeGroupControls=tA,this.removeListeners=tA,this.controls=new np(t)}mount(){let{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||tA}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:ou,MeasureLayout:nx},layout:{ProjectionNode:ou,MeasureLayout:nx}},oD=function(t){function e(e,r={}){return function({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:o}){t&&function(t){for(let e in t)P[e]={...P[e],...t[e]}}(t);let i=(0,a.forwardRef)(function(i,g){var v;let y;let b={...(0,a.useContext)(s),...i,layoutId:function({layoutId:t}){let e=(0,a.useContext)(M).id;return e&&void 0!==t?e+"-"+t:t}(i)},{isStatic:E}=b,P=function(t){let{initial:e,animate:r}=function(t,e){if(m(t)){let{initial:e,animate:r}=t;return{initial:!1===e||d(e)?e:void 0,animate:d(r)?r:void 0}}return!1!==t.inherit?e:{}}(t,(0,a.useContext)(u));return(0,a.useMemo)(()=>({initial:e,animate:r}),[x(e),x(r)])}(i),S=n(i,E);if(!E&&c){P.visualElement=function(t,e,r,n){let{visualElement:o}=(0,a.useContext)(u),i=(0,a.useContext)(h),c=(0,a.useContext)(l),p=(0,a.useContext)(s).reducedMotion,d=(0,a.useRef)();n=n||i.renderer,!d.current&&n&&(d.current=n(t,{visualState:e,parent:o,props:r,presenceContext:c,blockInitialAnimation:!!c&&!1===c.initial,reducedMotionConfig:p}));let g=d.current;(0,a.useInsertionEffect)(()=>{g&&g.update(r,c)});let v=(0,a.useRef)(!!window.HandoffAppearAnimations);return f(()=>{g&&(g.render(),v.current&&g.animationState&&g.animationState.animateChanges())}),(0,a.useEffect)(()=>{g&&(g.updateFeatures(),!v.current&&g.animationState&&g.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,v.current=!1)}),g}(o,S,b,e);let r=(0,a.useContext)(w),n=(0,a.useContext)(h).strict;P.visualElement&&(y=P.visualElement.loadFeatures(b,n,t,r))}return a.createElement(u.Provider,{value:P},y&&P.visualElement?a.createElement(y,{visualElement:P.visualElement,...b}):null,r(o,i,(v=P.visualElement,(0,a.useCallback)(t=>{t&&S.mount&&S.mount(t),v&&(t?v.mount(t):v.unmount()),g&&("function"==typeof g?g(t):p(g)&&(g.current=t))},[v])),S,E,P.visualElement))});return i[S]=o,i}(t(e,r))}if("undefined"==typeof Proxy)return e;let r=new Map;return new Proxy(e,{get:(t,n)=>(r.has(n)||r.set(n,e(n)),r.get(n))})}((t,e)=>(function(t,{forwardMotionProps:e=!1},r,n){let o=O(t)?tT:tD;return{...o,preloadedFeatures:r,useRender:function(t=!1){return(e,r,n,{latestValues:o},i)=>{let s=O(e)?tv:ta,u=s(r,o,i,e),l=function(t,e,r){let n={};for(let o in t)("values"!==o||"object"!=typeof t.values)&&(tl(o)||!0===r&&tu(o)||!e&&!tu(o)||t.draggable&&o.startsWith("onDrag"))&&(n[o]=t[o]);return n}(r,"string"==typeof e,t),c={...l,...u,ref:n},{children:f}=r,h=(0,a.useMemo)(()=>L(f)?f.get():f,[f]);return(0,a.createElement)(e,{...c,children:h})}}(e),createVisualElement:n,Component:t}})(t,e,oT,oR))},701:function(t,e,r){"use strict";function n(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&0>e.indexOf(n)&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)0>e.indexOf(n[o])&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r}r.d(e,{_T:function(){return n}}),"function"==typeof SuppressedError&&SuppressedError},3167:function(t,e,r){"use strict";r.d(e,{Ue:function(){return c}});let n=t=>{let e;let r=new Set,n=(t,n)=>{let o="function"==typeof t?t(e):t;if(!Object.is(o,e)){let t=e;e=(null!=n?n:"object"!=typeof o)?o:Object.assign({},e,o),r.forEach(r=>r(e,t))}},o=()=>e,i={setState:n,getState:o,subscribe:t=>(r.add(t),()=>r.delete(t)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}};return e=t(n,o,i),i},o=t=>t?n(t):n;var i=r(6439),a=r(698);let{useSyncExternalStoreWithSelector:s}=a,u=!1,l=t=>{"function"!=typeof t&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let e="function"==typeof t?o(t):t,r=(t,r)=>(function(t,e=t.getState,r){r&&!u&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),u=!0);let n=s(t.subscribe,t.getState,t.getServerState||t.getState,e,r);return(0,i.useDebugValue)(n),n})(e,t,r);return Object.assign(r,e),r},c=t=>t?l(t):l}}]);